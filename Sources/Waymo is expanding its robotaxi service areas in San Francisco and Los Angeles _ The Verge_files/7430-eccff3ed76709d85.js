!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=(new e.Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="444c13d4-00a1-48ba-b18a-525bab4eb5a6",e._sentryDebugIdIdentifier="sentry-dbid-444c13d4-00a1-48ba-b18a-525bab4eb5a6")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7430],{22856:function(e,a,n){n.d(a,{C$:function(){return r},OB:function(){return i},VZ:function(){return t},YJ:function(){return l},aj:function(){return c},nC:function(){return o},sw:function(){return s}}),n(57132);var t="_114qu8cd",l="_114qu8ce",i="_114qu8cc",r="_114qu8c2",s={standard:"_114qu8c3",fullWidth:"_114qu8c4",split:"_114qu8c5",specialFullWidth:"_114qu8c6",specialSplit:"_114qu8c7",overlay:"_114qu8c8",brandedVertical:"_114qu8c9",brandedFullWidth:"_114qu8ca",stream:"_114qu8cb"},o="_114qu8c0",c="_114qu8c1"},57906:function(e,a,n){n.d(a,{Se:function(){return l},i5:function(){return t},mI:function(){return r},vx:function(){return s},wM:function(){return i}}),n(69299);var t={standard:"_8enl99h _8enl99g",feature:"_8enl99i _8enl99g",specialFeature:"_8enl99j _8enl99g",overlay:"_8enl99k _8enl99g",branded:"_8enl99l _8enl99g"},l={standard:"_8enl991 _8enl990",feature:"_8enl992 _8enl990",specialFeature:"_8enl993 _8enl990",overlay:"_8enl994 _8enl990",branded:"_8enl995 _8enl990"},i="_8enl99f",r={standard:"_8enl996",fullWidth:"_8enl997",split:"_8enl998",specialFullWidth:"_8enl999",specialSplit:"_8enl99a",overlay:"_8enl99b",brandedVertical:"_8enl99c",brandedFullWidth:"_8enl99d"},s="_8enl99e"},15859:function(e,a,n){n.r(a);let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CoralArticleBody_contentResource",selections:[{args:null,kind:"FragmentSpread",name:"CoralSectionContainer_contentResource"}],type:"ContentResourceInterface",abstractKey:"__isContentResourceInterface"};t.hash="8e7f395c7dea119c63e8a2a8a20a1a48",a.default=t},60232:function(e,a,n){n.r(a);let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CoralDrawer_contentResource",selections:[{args:null,kind:"FragmentSpread",name:"CoralSectionContainer_contentResource"}],type:"ContentResourceInterface",abstractKey:"__isContentResourceInterface"};t.hash="a761ae48a16971bb8fe3e62ea91331e4",a.default=t},82121:function(e,a,n){var t,l,i,r,s,o,c,d,u,h;n.r(a);let m={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useLedeMedia_feedContentResource",selections:[t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"FeaturedImageType",kind:"LinkedField",name:"featuredImage",plural:!1,selections:[r={alias:null,args:null,concreteType:"RichTextType",kind:"LinkedField",name:"caption",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"html",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"plaintext",storageKey:null}],storageKey:null},s={alias:null,args:null,concreteType:"RichTextType",kind:"LinkedField",name:"credit",plural:!1,selections:[i,l],storageKey:null},{alias:null,args:null,concreteType:"ImageResourceType",kind:"LinkedField",name:"image",plural:!1,selections:d=[c={alias:null,args:null,concreteType:"ThumbnailMapType",kind:"LinkedField",name:"thumbnails",plural:!1,selections:[{alias:null,args:null,concreteType:"ThumbnailType",kind:"LinkedField",name:"horizontal",plural:!1,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ThumbnailType",kind:"LinkedField",name:"square",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"ThumbnailType",kind:"LinkedField",name:"vertical",plural:!1,selections:o,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:"ledeMediaData",args:null,concreteType:null,kind:"LinkedField",name:"ledeMedia",plural:!1,selections:[t,{kind:"InlineFragment",selections:[r,s,u={alias:null,args:null,kind:"ScalarField",name:"hideCredit",storageKey:null},{alias:null,args:null,concreteType:"ImageResourceType",kind:"LinkedField",name:"image",plural:!1,selections:[c,h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},s],storageKey:null}],type:"LedeMediaImageType",abstractKey:null},{kind:"InlineFragment",selections:[r,{alias:null,args:null,kind:"ScalarField",name:"autoplay",storageKey:null},{alias:null,args:null,concreteType:"VolumeVideoResourceType",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"volumeUuid",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"player",storageKey:null},{alias:null,args:null,concreteType:"ImageResourceType",kind:"LinkedField",name:"poster",plural:!1,selections:d,storageKey:null}],storageKey:null}],type:"LedeMediaVideoType",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ImageResourceType",kind:"LinkedField",name:"gif",plural:!1,selections:[c,u,h,r,s],storageKey:null}],type:"LedeMediaGifType",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"provider",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"embedHtml",storageKey:null}],type:"LedeMediaEmbedType",abstractKey:null}],storageKey:null}],type:"FeedContentResourceInterface",abstractKey:"__isFeedContentResourceInterface"};m.hash="3e2e8e93a58079721fb2f94bacfd47fb",a.default=m},80066:function(e,a,n){n.d(a,{Z:function(){return g}});var t,l=n(4093),i=n(66123),r=n(68705),s=n(32705),o=n(28207),c=n(94474),d=n(87104),u=n(65840),h=n(1020),m=n(150),f=n(50229);n(78303);var p=n(35683),g=(0,m.n)(e=>{let a=(0,r.useFragment)((void 0!==t||(t=n(15859)).hash&&"8e7f395c7dea119c63e8a2a8a20a1a48"!==t.hash&&console.error("The definition of 'CoralArticleBody_contentResource' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),e.contentResource),m=(0,i.useCallback)(e=>{e.rendered||e.render()},[]);return(0,p.jsxs)(d.Z,{className:(0,l.Z)("_1myez7x0",f.F.layout.mainColumn),children:[(0,p.jsx)(c.Z,{children:(0,p.jsx)("div",{className:f.F.layout.standardSpacing.medium,children:(0,p.jsx)(s.Z,{contentResource:a,onEmbedLoad:m,coralId:"comments"})})}),(0,p.jsx)(u.Z,{children:(0,p.jsx)("div",{className:h.Lu,children:(0,p.jsx)(o.Z,{adType:"commentsRightRail"})})})]})},{context:"CoralArticleBodyErrorBoundary"})},25202:function(e,a,n){n.d(a,{Z:function(){return L}});var t,l=n(4093),i=n(66123),r=n(68705),s=n(35683),o=()=>(0,s.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.3384 2.75609L0.63129 2.04898L2.04551 0.634766L2.75261 1.34187L8.99848 7.58774L15.2443 1.34187L15.9514 0.634766L17.3657 2.04898L16.6586 2.75609L10.4127 9.00195L16.6586 15.2478L17.3657 15.9549L15.9514 17.3691L15.2443 16.662L8.99848 10.4162L2.75261 16.662L2.04551 17.3691L0.63129 15.9549L1.3384 15.2478L7.58426 9.00195L1.3384 2.75609Z",fill:"currentColor"})}),c=n(32705),d=n(84994),u=n(84795),h=n(8447),m=n(42103),f=n(25254),p=n(150),g=n(46374),v=n.n(g);let b=null;function j(){if("undefined"==typeof window)return null;if(b)return b;let e=v().getParser(window.navigator.userAgent),a=e.is(v().OS_MAP.iOS),n=e.is(v().PLATFORMS_MAP.mobile),t=e.is(v().PLATFORMS_MAP.tablet),l=e.is(v().PLATFORMS_MAP.desktop),i=e.getEngineName()===v().ENGINE_MAP.WebKit,r=e.is(v().BROWSER_MAP.safari);return b={mobile:n,ios:a,tablet:t,desktop:l,webkit:i,safari:r,usesSwipeTransitions:r||i&&a}}n(82798);var x="_1cg7m4i7",y="_1cg7m4i6",w={square:"_1cg7m4i1",round:"_1cg7m4i3 _1cg7m4i1"};function k(e){return e&&"coral-drawer"===e.kind?e:null}let _={kind:"coral-drawer",openedThroughHashChange:!1},C={kind:"coral-drawer",openedThroughHashChange:!0};function F(){return"#comments"===window.location.hash||new URLSearchParams(window.location.search).has("commentID")}var L=(0,p.n)(e=>{let a=(0,r.useFragment)((void 0!==t||(t=n(60232)).hash&&"a761ae48a16971bb8fe3e62ea91331e4"!==t.hash&&console.error("The definition of 'CoralDrawer_contentResource' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),e.contentResource),{isDrawerOpen:p,isDrawerPrerendered:g,isDrawerTransitionDisabled:v,openDrawer:b,closeDrawer:L}=(0,h.M)(),{networkConfig:T}=(0,u.q)(),[N,S]=(0,i.useState)(!1),Z=(0,d.aC)(),R=Z.user||Z.viewer,{isDrawerOpen:I,closeDrawer:E}=(0,m.D)();(0,i.useEffect)(()=>{let e=e=>{if(e.target instanceof HTMLElement){let a=e.target;for(;a&&!(a instanceof HTMLAnchorElement);)a=a.parentElement;if(a&&a.href===location.origin+location.pathname+"#comments"){if(location.hash&&"#comments"!==location.hash){let e=new URL(location.href);e.hash="",window.history.pushState({},"",e.toString())}history.scrollRestoration="manual"}}};return window.addEventListener("click",e),()=>{window.removeEventListener("click",e)}}),(0,i.useEffect)(()=>{p&&I&&E()},[E,p,I]),(0,i.useEffect)(()=>{let e=j();if(N){R||S(!1);return}R&&(window.matchMedia("(max-device-width: 460px)").matches||e&&(e.mobile||e.tablet))&&S(!0)},[N,R]);let M=(0,i.useRef)(null),q=(0,i.useCallback)(e=>{M.current=e,!e.rendered&&F()&&e.render()},[]);(0,i.useEffect)(()=>{if(!g)return;let e=M.current;e&&!e.rendered&&e.render()},[g]),(0,i.useEffect)(()=>(p&&(document.body.classList.add(y),document.body.classList.remove(x)),()=>{document.body.classList.add(x),document.body.classList.remove(y)}),[p]),(0,i.useEffect)(()=>{let e=e=>{let a=new URL(e.newURL);"#comments"!==new URL(e.oldURL).hash&&"#comments"===a.hash&&window.history.replaceState(C,"")};return window.addEventListener("hashchange",e),()=>{window.removeEventListener("hashchange",e)}},[L,b]),(0,i.useEffect)(()=>{F()&&b()},[b]),(0,i.useEffect)(()=>{let e=j(),a=e&&e.usesSwipeTransitions||!1,n=()=>{let e=k(history.state);F()&&!p&&(b({disableTransition:a&&null!==e}),history.replaceState(e||_,"")),!F()&&p&&(L({disableTransition:a}),history.replaceState(_,""))};return window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}},[L,p,b]);let z=(0,i.useCallback)(()=>{let e=k(history.state);if(e&&e.openedThroughHashChange)L(),window.history.back();else{let e=new URL(window.location.href);e.hash="",e.searchParams.delete("commentID"),history.replaceState(_,""),window.history.pushState(_,"",e),L()}},[L]),{coralConfig:A}=(0,u.q)();return A?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(f.Z,{drawerClassName:"_1cg7m4i0",onClose:z,drawerId:"coral-drawer","aria-label":"Comments Drawer",open:p,scrollToTop:!1,disableTransition:v,children:(0,s.jsxs)("div",{className:(0,l.Z)("_1cg7m4i4",N&&"_1cg7m4i5"),children:[(0,s.jsx)("button",{className:w["duet-network-theverge"===T.appName?"round":"square"],"aria-label":"Close",onClick:z,children:(0,s.jsx)(o,{})}),(0,s.jsx)(c.Z,{contentResource:a,onEmbedLoad:q,containerClassName:"coral-drawer",customScrollerID:"coral-drawer-scroll",coralId:"comments-drawer"})]})})}):null},{context:"CoralDrawerErrorBoundary"})},4061:function(e,a,n){n.d(a,{Z:function(){return o}});var t,l=n(68705);let i=(e,a)=>{switch(e){case"overlay":case"standard":return e;case"branded":case"feature":case"specialFeature":return"horizontal"===a?"wideFeature":"squareFeature"}};var r=n(31038),s=n(35683),o=e=>{let{data:a,variant:o="standard",imageType:c="horizontal",mobileImageType:d="horizontal",backgroundImageType:u="horizontal",mobileBackgroundImageType:h="vertical",componentContext:m="standard"}=e,{ledeMediaData:f,featuredImage:p}=(0,l.useFragment)((void 0!==t||(t=n(82121)).hash&&"3e2e8e93a58079721fb2f94bacfd47fb"!==t.hash&&console.error("The definition of 'useLedeMedia_feedContentResource' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),a),g=function(e){let a,{ledeMediaData:n,thumbnailSize:t,mobileThumbnailSize:l,featuredImage:r,variant:s="standard",imageType:o="horizontal",mobileImageType:c="horizontal",backgroundImageType:d="horizontal",mobileBackgroundImageType:u="vertical"}=e,h={ledeType:null};if(!n)return h;switch(n.__typename){case"LedeMediaVideoType":a={ledeType:"video",caption:n.caption.html,autoplay:n.autoplay,contentWarning:null,playerType:n.video.player,uuid:n.video.volumeUuid,posterUrl:n.video.poster?.thumbnails[o].url};break;case"LedeMediaImageType":a={ledeType:"image",thumbnailSize:t,mobileThumbnailSize:l,thumbnailUrl:n.image.thumbnails[o].url,mobileThumbnailUrl:n.image.thumbnails[c].url,backgroundImageUrl:n.image.thumbnails[d].url,mobileBackgroundImageUrl:n.image.thumbnails[u].url,...n.image,caption:n.caption,credit:n.credit.html?n.credit:n.image.credit,hideCredit:n.hideCredit,imageSizeVariant:i(s,o)};break;case"LedeMediaGifType":a={ledeType:"image",thumbnailSize:t,mobileThumbnailSize:l,thumbnailUrl:n.gif.thumbnails[o].url,mobileThumbnailUrl:n.gif.thumbnails[c].url,backgroundImageUrl:n.gif.thumbnails[d].url,mobileBackgroundImageUrl:n.gif.thumbnails[u].url,...n.gif,imageSizeVariant:i(s,o)};break;case"LedeMediaEmbedType":a={ledeType:"embed",html:n.embedHtml,type:n.provider,lede:!0,thumbnailSize:t,mobileThumbnailSize:l,thumbnailUrl:r?.image.thumbnails[o].url,mobileThumbnailUrl:r?.image.thumbnails[c].url,caption:r?.caption,credit:r?.credit,imageSizeVariant:i(s,o)};break;default:a=h}return a}({ledeMediaData:f,thumbnailSize:"overlay"===o?"none":c,mobileThumbnailSize:"overlay"===o?"none":d,featuredImage:p,variant:o,imageType:c,mobileImageType:d,backgroundImageType:u,mobileBackgroundImageType:h});return(0,s.jsx)(r.Z,{...g,componentContext:m})}},44397:function(e,a,n){n.d(a,{s:function(){return r}});var t=n(42698),l=n.n(t);let i={fullWidth:{variant:"feature",layout:"fullWidth",image:"horizontal",mobileImage:"square",backgroundImage:"horizontal",mobileBackgroundImage:"vertical"},square:{variant:"feature",layout:"split",image:"square",mobileImage:"square",backgroundImage:"horizontal",mobileBackgroundImage:"vertical",desktopAdSlot:"articleSponsorshipHeadlineAboveDesktop",mobileAdSlot:"articleSponsorshipHeadlineAboveMobileAndTablet"},specialFeatureSquare:{variant:"specialFeature",layout:"specialSplit",image:"square",mobileImage:"square",backgroundImage:"horizontal",mobileBackgroundImage:"vertical"},specialFeatureFullWidth:{variant:"specialFeature",layout:"specialFullWidth",image:"horizontal",mobileImage:"square",backgroundImage:"horizontal",mobileBackgroundImage:"square"},specialFeatureOverlay:{variant:"overlay",layout:"overlay",image:"horizontal",mobileImage:"vertical",backgroundImage:"horizontal",mobileBackgroundImage:"vertical"},brandedPortrait:{variant:"branded",layout:"brandedVertical",image:"vertical",mobileImage:"vertical",backgroundImage:"vertical",mobileBackgroundImage:"vertical"},brandedFullWidth:{variant:"branded",layout:"brandedFullWidth",image:"horizontal",mobileImage:"horizontal",backgroundImage:"horizontal",mobileBackgroundImage:"horizontal"}};function r(e){let a={variant:"standard",layout:"standard",image:"horizontal",mobileImage:"horizontal",mobileAdSlot:"articleSponsorshipMobileAndTablet",desktopAdSlot:"articleSponsorshipDesktop"};return e?l()(i,e,a):a}},9396:function(e,a,n){n.d(a,{Z:function(){return ef}});var t=n(35683),l=n(4093),i=n(3610),r=n(65707),s=n(44079),o=n(66123);n(80949);var c={standard:"a8vjfv1",fullWidth:"a8vjfv3 a8vjfv1",split:"a8vjfv4 a8vjfv1",specialFullWidth:"a8vjfv5 a8vjfv1",specialSplit:"a8vjfv6 a8vjfv1",overlay:"a8vjfv7 a8vjfv1",brandedVertical:"a8vjfv1",brandedFullWidth:"a8vjfv1",stream:"a8vjfv1",video:"a8vjfv1"},d="a8vjfv0",u="a8vjfvv",h={standard:"a8vjfvc",fullWidth:"a8vjfve a8vjfvc",split:"a8vjfvf a8vjfvc",specialFullWidth:"a8vjfvc",specialSplit:"a8vjfvc",overlay:"a8vjfvc",brandedVertical:"a8vjfvc",brandedFullWidth:"a8vjfvc",stream:"a8vjfvc",video:"a8vjfvc"},m="a8vjfv10",f="a8vjfv11",p="a8vjfv12",g="a8vjfv13",v="a8vjfv14",b="a8vjfvu",j="a8vjfvt",x="a8vjfvq",y="a8vjfvs",w="a8vjfvr",k="a8vjfvw",_="a8vjfvx",C="a8vjfvy",F="a8vjfvz",L=n(3994),T=n(7209),N=({url:e,layout:a,className:n,buttonClassName:i,iconClassName:r,analyticsPayload:s})=>{let d=(0,T.z$)(),[u,m]=(0,o.useState)(!1);return(0,t.jsxs)("div",{className:(0,l.Z)("a8vjfvo",n),children:[(0,t.jsx)("button",{"aria-label":"Copy link",onClick:()=>{d?.emit(s||{event:"social_share",social_share:{platform:"copy link"}}),navigator.clipboard.writeText(e).then(()=>{m(!0),setTimeout(()=>{m(!1)},2e3)}).catch(e=>{console.error(e)})},className:i||c[a],children:(0,t.jsx)(L.Z,{className:r||h[a]})}),u&&(0,t.jsx)("span",{className:"a8vjfvp",children:"Link Copied!"})]})},S=n(55286),Z=({url:e,title:a,layout:n})=>{let l=(0,T.z$)();return(0,t.jsx)("button",{"aria-label":"Share on Facebook",onClick:()=>{l?.emit({event:"social_share",social_share:{platform:"facebook"}});let n=`https://www.facebook.com/sharer/sharer.php?u=${e}&text=${a}`;return window.open(n,"share_facebook","width=658, height=354, scrollbars=no")},className:c[n],children:(0,t.jsx)(S.Z,{className:h[n]})})},R=n(80535),I=n(13454),E=n(3092),M=n(99962),q=n(13759),z=n.n(q),A=n(66342),K=n(60300),V=n(78842),B=n(11078),D=({className:e="",width:a=16,height:n=16,fill:l="#fff"})=>(0,t.jsxs)("svg",{className:e,width:a,height:n,fill:l,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:[(0,t.jsx)("title",{children:"Gift"}),(0,t.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",clipPath:"url(#a)",children:[(0,t.jsx)("path",{fill:l,d:"M13.47 8v6.427a.41.41 0 0 1-.41.41H2.94a.41.41 0 0 1-.41-.41V8M14.427 4.582H1.573a.41.41 0 0 0-.41.41V7.59c0 .227.184.41.41.41h12.854a.41.41 0 0 0 .41-.41V4.992a.41.41 0 0 0-.41-.41ZM8 14.837V4.582"}),(0,t.jsx)("path",{fill:l,d:"M8 4.581H4.923a1.71 1.71 0 1 1 0-3.418C7.316 1.163 8 4.58 8 4.58ZM8 4.581h3.077a1.71 1.71 0 1 0 0-3.418C8.684 1.163 8 4.58 8 4.58Z"})]}),(0,t.jsx)("defs",{children:(0,t.jsx)("clipPath",{id:"a",children:(0,t.jsx)("path",{fill:"#fff",d:"M0 0h16v16H0z"})})})]}),U=n(26900),$=n(9124),P=n(50229),O=n(84994),W=n(84795),H=n(43131),Y=n(1260),G=n(64156),J=n(59004),Q=n(2707);n(35380);let X="shareButtonsGiftLinkTooltipViewCount";var ee=({children:e})=>{let[a,n]=(0,o.useState)(!1),l=(0,o.useRef)(null),i=(0,Y.B)($.j.tablet),r=(0,T.z$)(),{refs:s,floatingStyles:c,context:d,middlewareData:u}=(0,R.YF)({whileElementsMounted:J.Me,placement:"bottom",middleware:[(0,I.Qo)(),(0,I.cv)(11),(0,I.uY)({padding:8}),(0,I.RR)(),(0,I.x7)({element:l}),(0,I.Cp)({padding:i?20:50})]});return(0,o.useEffect)(()=>{let e=Number((0,Q.su)(X)||"0");e>=5||setTimeout(()=>{s.reference.current.offsetParent&&((0,Q.Cj)(X,String(e+1)),n(!0),r?.emit({event:"follow_tooltip",follow_tooltip:{action:"view"}}))},500)},[r,s.reference]),(0,o.useEffect)(()=>{function e(e){s.floating.current?.contains(e.target)||n(!1)}return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[s.floating,s.reference]),(0,t.jsxs)(t.Fragment,{children:[e(s.setReference),(0,t.jsx)(R.ll,{children:(0,t.jsx)(K.Z,{in:a&&!u.hide?.referenceHidden,timeout:0,nodeRef:s.floating,classNames:{enterDone:"_20gesb1"},children:(0,t.jsxs)("aside",{role:"tooltip",ref:s.setFloating,id:"share-buttons-gift-link-tooltip",style:c,className:"_20gesb0",children:[(0,t.jsx)(R.Y$,{ref:l,context:d,className:"_20gesb4",height:8,width:14}),(0,t.jsxs)("div",{className:"_20gesb2",children:[(0,t.jsx)("p",{className:"_20gesb3",children:"Members can share exclusive articles with friends."}),(0,t.jsx)("button",{className:"_20gesb5",onClick:e=>{e.stopPropagation(),(0,Q.Cj)(X,String(5)),n(!1),r?.emit({event:"follow_tooltip",follow_tooltip:{action:"close"}})},children:(0,t.jsx)(B.Z,{width:12,height:12})})]})]})})})]})};n(11355);var ea="_13c2naq0",en=({url:e,layout:a})=>{let{isPaywallEligible:n}=(0,H.n)(),i=(0,A.useSearchParams)(),r=(0,T.z$)(),s=(0,O.aC)(),{networkConfig:d,membershipConfig:{giftArticleMonthlyLimit:N=0}}=(0,W.q)(),{refs:S,floatingStyles:Z,update:q,context:J}=(0,R.YF)({middleware:[(0,I.cv)(10),(0,I.uY)()]}),[Q,X]=(0,o.useState)(!1),[en,et]=(0,o.useState)(null),[el,ei]=(0,o.useState)(null),[er,es]=(0,o.useState)(null),eo=s.user?.isEntitled||!1;(0,o.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/account/gifted-articles-count"),{count:a}=await e.json(),n=N-(a||0);ei(Math.max(n,0))}catch(e){(0,E.Tb)(e,{extra:{message:"Error fetching user metadata:"}})}})()},[N,d]);let ec=(0,o.useCallback)(e=>{e&&q(),X(e)},[q]),ed=(0,Y.B)($.j.tablet),eu=(0,o.useRef)(null),eh=(0,o.useRef)(null);return((0,o.useEffect)(()=>{function e(e){!S.reference.current||S.floating.current?.contains(e.target)||S.reference.current.contains(e.target)||ec(!1)}let a=window.scrollY,n=z()(()=>{Math.abs(window.scrollY-a)>50&&e(new Event("scroll")),a=window.scrollY},100);return Q&&(document.addEventListener("click",e),document.addEventListener("scroll",n)),()=>{document.removeEventListener("click",e),document.removeEventListener("scroll",n)}},[S.floating,S.reference,ec,Q]),(0,o.useEffect)(()=>{let e=new URL(window.location.href);e.searchParams.set("giftLink","true"),es(encodeURIComponent(e.pathname+e.search))},[]),(0,o.useEffect)(()=>{i.has("giftLink")&&X(!0)},[i]),(0,G.P)(Q&&ed),n)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{ref:S.setReference,children:(0,t.jsx)(ee,{children:e=>(0,t.jsx)("button",{ref:e,onClick:()=>ec(!Q),"aria-expanded":Q,"aria-haspopup":"true","aria-label":"Gift this article",className:c[a],children:(0,t.jsx)(D,{className:(0,l.Z)(h[a],"_13c2naq1")})})})}),(0,t.jsx)(K.Z,{in:Q&&ed,timeout:200,nodeRef:eu,classNames:{enter:f,enterActive:p,exit:g,exitActive:v},unmountOnExit:!0,children:(0,t.jsx)("div",{ref:eu,className:m})}),(0,t.jsx)(K.Z,{in:Q,timeout:200,nodeRef:S.floating,classNames:{enter:k,enterActive:_,exit:C,exitActive:F},unmountOnExit:!0,children:(0,t.jsx)(M.FocusTrap,{active:Q,focusTrapOptions:{fallbackFocus:`#share-popover-${Date.now()}`,escapeDeactivates:!0,clickOutsideDeactivates:!1,allowOutsideClick:!0},children:(0,t.jsxs)("div",{id:`share-popover-${Date.now()}`,style:{...ed?{}:Z},ref:S.setFloating,className:x,role:"dialog","aria-modal":"true","aria-label":"Share options",children:[(0,t.jsx)(R.Y$,{ref:eh,context:J,className:y}),(0,t.jsxs)("div",{className:w,children:[(0,t.jsxs)("div",{className:j,children:[(0,t.jsx)("div",{className:b,children:"Gift this article"}),(0,t.jsx)("button",{onClick:()=>ec(!1),children:(0,t.jsx)(B.Z,{className:u,width:16,height:16})})]}),eo?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:ea,children:["As a Vox member, you have"," ",(0,t.jsxs)("strong",{children:[Number.isInteger(el)?el:"..."," ",1===el?"article":"articles"]})," ","left to share this month, for anyone to read without a membership."]}),(0,t.jsx)(V.Z,{onClick:()=>{let{pathname:a}=new URL(e);et("Getting gift link..."),navigator.clipboard.write([new ClipboardItem({"text/plain":fetch("/api/account/generate-article-gift-link",{method:"POST",headers:{"Content-Type":"application/json",origin:window.location.origin},body:JSON.stringify({path:a})}).then(e=>e.json()).then(({data:e})=>{let{giftUrl:a,count:n}=e;return a?(ei(N-n),et("Gift link copied!"),a):(et("Failed to copy gift link"),"")}).catch(e=>(et("Failed to copy gift link"),(0,E.Tb)(e,{extra:{message:"There was an error generating the gift link"}}),""))})]).catch(e=>{console.error(e),et("Failed to copy")}),r?.emit({event:"gift_link_share",gift_link_share:{article_url:e}})},className:(0,l.Z)((en||0===el)&&"_13c2naq3"),displayType:"primary",fullWidth:!0,iconLeft:(0,t.jsx)(L.Z,{className:"_13c2naq2"}),text:en||"Copy gift link",disabled:!!en||0===el})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:ea,children:"Gifting articles is one of the benefits of Vox membership. Members can gift 10 articles every month."}),(0,t.jsx)(V.Z,{href:`https://www.vox.com/support-now${er?`?returnUrl=${er}`:""}`,displayType:"primary",fullWidth:!0,text:"Become a Member",className:"_13c2naq4",onClick:()=>{r?.emit({event:"gift_link_share_become_member",gift_link_share_become_member:{article_url:e}})}}),(0,t.jsxs)("div",{className:"_13c2naq5",children:["Already a Member?"," ",(0,t.jsx)(U.Z,{href:`/auth/login${er?`?returnPath=${er}`:""}`,className:P.F.text.singleLink,onClick:()=>{r?.emit({event:"authentication",authentication:{article_url:e,method:"gift_link_login"}})},children:"Sign In"})]})]})]})]})})})]}):null},et=n(13700),el=({url:e,layout:a})=>(0,t.jsx)("a",{"aria-label":"Open RSS feed",href:e,className:c[a],children:(0,t.jsx)(et.Z,{className:h[a]})}),ei=({className:e="",width:a=14,height:n=12,fill:l=""})=>(0,t.jsxs)("svg",{className:e,width:a,height:n,viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("title",{children:"Share"}),(0,t.jsx)("path",{fill:l,stroke:l,strokeLinejoin:"round",d:"M8.857 1.125V3.68S2.5 3 .5 9.714v1.161c1.632-3.482 6.275-3.482 8.357-2.786v2.322L13.5 5.768 8.857 1.125Z"})]}),er=n(43385),es=n(64237);n(5471);var eo="_1v5vlbp3",ec="_1v5vlbp2",ed="_1v5vlbp4",eu="_1v5vlbp1",eh=({url:e,title:a,layout:n})=>{let[i,r]=(0,o.useState)(!1),[s,d]=(0,o.useState)(null),N=(0,T.z$)(),{refs:Z,floatingStyles:E,update:q,context:A}=(0,R.YF)({middleware:[(0,I.cv)(10),(0,I.uY)()]}),V=(0,o.useCallback)(e=>{e&&q(),r(e)},[q]),D=(0,Y.B)($.j.tablet),U=(0,o.useRef)(null),P=(0,o.useRef)(null);(0,o.useEffect)(()=>{function e(e){Z.floating.current?.contains(e.target)||Z.reference.current.contains(e.target)||V(!1)}let a=window.scrollY,n=z()(()=>{Math.abs(window.scrollY-a)>50&&e(new Event("scroll")),a=window.scrollY},100);return i&&(document.addEventListener("click",e),document.addEventListener("scroll",n)),()=>{document.removeEventListener("click",e),document.removeEventListener("scroll",n)}},[Z.floating,Z.reference,V,i]),(0,G.P)(i&&D);let O=encodeURIComponent(e),W=encodeURIComponent(a);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>V(!i),ref:Z.setReference,"aria-expanded":i,"aria-haspopup":"true","aria-label":"Share article",className:c[n],children:(0,t.jsx)(ei,{className:h[n]})}),(0,t.jsx)(K.Z,{in:i&&D,timeout:200,nodeRef:U,classNames:{enter:f,enterActive:p,exit:g,exitActive:v},unmountOnExit:!0,children:(0,t.jsx)("div",{ref:U,className:m})}),(0,t.jsx)(K.Z,{in:i,timeout:200,nodeRef:Z.floating,classNames:{enter:k,enterActive:_,exit:C,exitActive:F},unmountOnExit:!0,children:(0,t.jsx)(M.FocusTrap,{active:i,focusTrapOptions:{fallbackFocus:`#share-popover-${Date.now()}`,escapeDeactivates:!0,clickOutsideDeactivates:!1,allowOutsideClick:!0},children:(0,t.jsxs)("div",{id:`share-popover-${Date.now()}`,style:{...D?{}:E},ref:Z.setFloating,className:x,role:"dialog","aria-modal":"true","aria-label":"Share options",children:[(0,t.jsx)(R.Y$,{ref:P,context:A,className:y}),(0,t.jsxs)("div",{className:w,children:[(0,t.jsxs)("div",{className:j,children:[(0,t.jsx)("div",{className:b,children:"Share on:"}),(0,t.jsx)("button",{onClick:()=>V(!1),children:(0,t.jsx)(B.Z,{className:u,width:16,height:16})})]}),(0,t.jsxs)("div",{className:"_1v5vlbp0",children:[(0,t.jsxs)("button",{onClick:()=>{N?.emit({event:"social_share",social_share:{platform:"copy link"}}),navigator.clipboard.writeText(e).then(()=>{d("Link copied!"),setTimeout(()=>{d(null)},2e3)}).catch(e=>{console.error(e),d("Failed to copy"),setTimeout(()=>{d(null)},2e3)})},className:eu,"aria-label":"Copy link",children:[(0,t.jsx)("span",{className:(0,l.Z)(c.standard,ec),children:(0,t.jsx)(L.Z,{className:eo})}),(0,t.jsx)("span",{className:ed,children:"Copy Link"}),s&&(0,t.jsx)("span",{className:"_1v5vlbp5",children:s})]}),(0,t.jsxs)("button",{onClick:()=>{N?.emit({event:"social_share",social_share:{platform:"facebook"}});let e=`https://www.facebook.com/sharer/sharer.php?u=${O}`;window.open(e,"share_facebook","width=658, height=354, scrollbars=no"),V(!1)},className:eu,"aria-label":"Share on Facebook",children:[(0,t.jsx)("span",{className:(0,l.Z)(c.standard,ec),children:(0,t.jsx)(S.Z,{className:eo})}),(0,t.jsx)("span",{className:ed,children:"Facebook"})]}),(0,t.jsxs)("button",{onClick:()=>{N?.emit({event:"social_share",social_share:{platform:"threads"}});let e=`https://threads.net/intent/post?text=${W}&url=${O}&via=Verge`;window.open(e,"share_threads","width=658, height=354, scrollbars=no"),V(!1)},className:eu,"aria-label":"Share on Threads",children:[(0,t.jsx)("span",{className:(0,l.Z)(c.standard,ec),children:(0,t.jsx)(es.Z,{className:eo})}),(0,t.jsx)("span",{className:ed,children:"Threads"})]}),(0,t.jsxs)("button",{onClick:()=>{N?.emit({event:"social_share",social_share:{platform:"linkedin"}});let e=`https://www.linkedin.com/sharing/share-offsite/?url=${O}`;window.open(e,"share_linkedin","width=658, height=354, scrollbars=no"),V(!1)},className:eu,"aria-label":"Share on Facebook",children:[(0,t.jsx)("span",{className:(0,l.Z)(c.standard,ec),children:(0,t.jsx)(er.Z,{className:eo})}),(0,t.jsx)("span",{className:ed,children:"Linkedin"})]})]})]})]})})})]})},em=({url:e,title:a,layout:n})=>{let l=(0,T.z$)();return(0,t.jsx)("div",{className:d,children:(0,t.jsx)("button",{"aria-label":"Share on Threads",onClick:()=>{l?.emit({event:"social_share",social_share:{platform:"threads"}});let n=`https://threads.net/intent/post?text=${a}&url=${e}&via=Verge`;return window.open(n,"share_threads","width=658, height=354, scrollbars=no")},className:c[n],children:(0,t.jsx)(es.Z,{className:h[n]})})})},ef=({url:e,title:a,rssUrl:n,layout:o,...c})=>{let u=encodeURIComponent(e),h=encodeURIComponent(a),m=(0,r.dj)("shareButtons",""),{buttons:f}=(0,s.Z)(c,m);return(0,t.jsx)("ul",{className:(0,l.Z)(i.Z.ShareButtons,d),children:f.map(l=>"copy"===l?(0,t.jsx)("li",{children:(0,t.jsx)(N,{url:e,layout:o})},l):"giftLink"===l?(0,t.jsx)("li",{children:(0,t.jsx)(en,{url:e,layout:o})},l):"facebook"===l?(0,t.jsx)("li",{children:(0,t.jsx)(Z,{url:u,title:h,layout:o})},l):"threads"===l?(0,t.jsx)("li",{children:(0,t.jsx)(em,{url:u,title:h,layout:o})},l):"sharePopover"===l?(0,t.jsx)("li",{children:(0,t.jsx)(eh,{url:e,title:a,layout:o})},l):n?(0,t.jsx)("li",{children:(0,t.jsx)(el,{url:n,layout:o})},l):null)})}},43385:function(e,a,n){var t=n(35683);a.Z=({className:e="",fill:a="",width:n=40,height:l=40})=>(0,t.jsxs)("svg",{className:e,width:n,height:l,viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("title",{children:"LinkedIn"}),(0,t.jsx)("path",{d:"M34 32.9984V22.9409C34 17.5524 31.1451 15.045 27.337 15.045C24.2642 15.045 22.888 16.7477 22.1218 17.9425V15.4564H16.334C16.4105 17.1034 16.334 32.9984 16.334 32.9984H22.1218V23.2014C22.1218 22.6787 22.1592 22.1542 22.3121 21.7806C22.7302 20.7334 23.6818 19.6485 25.2809 19.6485C27.3761 19.6485 28.2138 21.2562 28.2138 23.6144V33L34 32.9984ZM10.2355 13.062C12.2526 13.062 13.5101 11.7133 13.5101 10.0302C13.4726 8.30942 12.2526 7 10.2729 7C8.29323 7 7 8.30779 7 10.0286C7 11.7133 8.25581 13.0604 10.1997 13.0604H10.2355V13.062ZM13.1294 32.9984V15.4564H7.34323V32.9984H13.1294Z",fill:a})]})},86131:function(e,a,n){var t=n(35683),l=n(4093),i=n(66123),r=n(2653),s=n(26900),o=n(3610),c=n(65707),d=n(50229),u=n(7209),h=n(22856);a.Z=({authors:e,additionalBylines:a,gaComponentName:n,overlay:m,layout:f,componentContext:p,CustomAuthorByline:g})=>{let{inlineOnDesktop:v}=(0,c.dj)("ledeByline",p||""),b=(0,u.z$)();return(0,t.jsxs)("div",{className:(0,l.Z)(o.Z.ArticleByline,d.F.text.ledeTextColor[f],h.nC),children:[(0,t.jsxs)("span",{className:(0,l.Z)(m&&h.aj),children:[(0,t.jsx)("span",{children:"by"})," ",e.map((a,r)=>(0,t.jsxs)(i.Fragment,{children:[r===e.length-1&&2===e.length&&" and ",r===e.length-1&&e.length>2&&", and ",0!==r&&r!==e.length-1&&e.length>2&&", "," ",g?(0,t.jsx)(g,{author:a,layout:f,componentContext:p,isFirst:0===r}):(0,t.jsx)("span",{className:(0,l.Z)(h.C$,h.sw[f]),children:a.permalink?(0,t.jsx)(s.Z,{href:a.permalink,onClick:()=>{b?.emit({event:"author_click",author_click:{author:a.name,component_name:n}})},children:a.name}):a.name})]},r))]}),a&&(0,t.jsxs)(t.Fragment,{children:[v&&(0,t.jsx)("span",{className:(0,l.Z)(d.F.layout.pipeSeparator,h.OB)}),(0,t.jsx)(r.Z,{className:(0,l.Z)(h.VZ,v&&h.YJ),component:"p",html:a})]})]})}},15317:function(e,a,n){n.d(a,{Z:function(){return t.Z}});var t=n(86131);n(22856)},31038:function(e,a,n){n.d(a,{Z:function(){return d}});var t=n(35683),l=n(4093),i=n(67519),r=n(81546),s=n(92246),o=n(28054);n(69944);var c={high:"_1ibjt4j2 _1ibjt4j1",low:"_1ibjt4j3 _1ibjt4j1"},d=e=>{let{stickyNavTriggerClassName:a}=(0,o.Q)(),n=null;switch(e.ledeType){case"embed":n=(0,t.jsx)(i.Z,{...e,lede:!0});break;case"image":n=(0,t.jsx)(r.Z,{...e});break;case"video":n=(0,t.jsx)(s.Z,{...e,className:"_1ibjt4j4"})}return(0,t.jsxs)("div",{className:"_1ibjt4j0",children:[(0,t.jsx)("div",{className:(0,l.Z)(c[e.stickyNavTriggerPosition||"high"],a)}),n]})}}}]);