/*! For license information please see embed.js.LICENSE.txt */
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c58bdd70-522f-45e2-9a76-6a9328a35d8b",e._sentryDebugIdIdentifier="sentry-dbid-c58bdd70-522f-45e2-9a76-6a9328a35d8b")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"frontend-reader3@142f8d7"},(()=>{var __webpack_modules__={8814:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USER_INFO_KEY=t.SESSION_KEY=t.LOCAL_STORAGE_ID_KEY=void 0,t.LOCAL_STORAGE_ID_KEY="localStorageId",t.SESSION_KEY="pico_session",t.USER_INFO_KEY="pico_user_info"},1419:(e,t,r)=>{"use strict";t.C8=t.id=void 0;const n=r(9302);Object.defineProperty(t,"C8",{enumerable:!0,get:function(){return n.createPico}});const i=r(5564),o=r(7358);r(3904),r(1972),i.blockWitoutUserConsent,o.picoApiManager,r(4556);var a=r(7559);Object.defineProperty(t,"id",{enumerable:!0,get:function(){return a.sessionManager}})},5564:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blockWitoutUserConsent=void 0,t.blockWitoutUserConsent=e=>({processEvent:t=>{if(e())return t}})},7358:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.picoApiManager=void 0;const i=r(723),o=n(r(5865)),a=r(8814),s={production:"https://api.pico.bendingspoonsapps.com",staging:"https://api.staging.pico.bendingspoonsapps.com"};t.picoApiManager=e=>{const t=t=>{var r;let n,i,a,s,c=t.userIds;return"UserAction"===t.type&&(n=t.kind,i=null!==(r=null==t?void 0:t.info)&&void 0!==r?r:{}),"SignIn"===t.type&&(c={...t.userIds,signInIds:t.signInIDs},s={provider:t.provider,isSignUp:t.isSignUp}),"subtype"in t&&(a=t.subtype),(0,o.default)({id:t.id,timestamp:t.timestamp,type:t.type,requestTimestamp:e.timestampGenerator(),app:e.bspId,user:{ids:c,info:t.userInfo},data:{...s,actionKind:n,actionInfo:i,subtype:a,sessionStartId:t.sessionStartId,sessionId:t.sessionId,secondsFromSessionStart:t.secondsFromSessionStart}})};return{sendEvents:async r=>{if(0===r.length)return;const n=r.map(t),o=(()=>{const t=e.environment;switch(t.type){case"production":case"staging":return`${s[t.type]}/v4/web-events`;case"custom":return t.url}})(),c=r[0].userIds[a.LOCAL_STORAGE_ID_KEY];if(void 0===c)throw new Error("Not all events have the `localStorageId` set, events won't be sent to the backend as they'll fail the validation.");const u=await fetch(o,{method:"POST",body:JSON.stringify({events:n}),headers:{"Pico-Client-ID":c,"Pico-Version":i.version,"Content-Type":"application/json","bsp-id":e.bspId}});if(200!==u.status)throw e.logger.error(`Received invalid response: ${u.status}`),new Error("Received invalid response!")}}}},7559:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sessionManager=void 0;const n=r(3904),i=r(1972),o=r(8814),a={logger:{trace:()=>{},info:()=>{},debug:()=>{},warn:()=>{},error:()=>{},fatal:()=>{}},scheduler:(0,n.timeoutScheduler)(),sessionResolution:1e4,timestampGenerator:i.timestampGenerator,onNewSession:()=>{},sessionIdGenerator:()=>"123s"};t.sessionManager=async e=>{const t={...a,...e};let r=!1;const n=e=>{var r;return null!==(r=e&&e.updatedAt+t.sessionResolution/1e3>t.timestampGenerator())&&void 0!==r&&r},i=async()=>{const e=await t.persistenceManager.getValue(o.SESSION_KEY),a=n(e)?e:(()=>{t.logger.trace("Starting new session."),r=!0;const e={id:t.uuidFactory(),start:t.timestampGenerator(),updatedAt:t.timestampGenerator()};return t.onNewSession(e.id,e.start),e})();await t.persistenceManager.saveValue(o.SESSION_KEY,{id:a.id,start:a.start,updatedAt:t.timestampGenerator()}),t.scheduler.scheduleAction(i,t.sessionResolution/2,"updateSession")};t.runInLock("picoUpdateSession",i);const s=await new Promise(((e,r)=>{let i=0;const a=async()=>{const s=await t.persistenceManager.getValue(o.SESSION_KEY);if(n(s))return e(s);++i>10&&r(new Error("Could not get a valid session!")),t.scheduler.scheduleAction(a,100,"readSession")};a()}));return{isEnabled:()=>!0,isNewSession:()=>r,getSessionStartId:()=>s.id,getSessionStart:()=>s.start,getSessionId:t.sessionIdGenerator}}},9302:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createPico=void 0;const i=r(3904),o=r(7358),a=r(1972),s=n(r(8670)),c=r(8814);t.createPico=async e=>{try{const t=(e=>{var t,r,n;const s={trace:()=>{},info:()=>{},debug:()=>{},warn:()=>{},error:()=>{},fatal:()=>{}};return{apiManager:(0,o.picoApiManager)({bspId:e.bspId,environment:null!==(t=e.environment)&&void 0!==t?t:{type:"production"},logger:null!==(r=e.logger)&&void 0!==r?r:s,timestampGenerator:null!==(n=e.timestampGenerator)&&void 0!==n?n:a.timestampGenerator}),batchDeleteSizeWhenFull:200,environment:{type:"production"},eventProcessors:[],eventsBatchSize:10,logger:s,maxEventsStored:1e3,maxExponentialBackoffInterval:3e5,scheduler:(0,i.timeoutScheduler)(),sessionManager:{isEnabled:()=>!1,isNewSession:()=>!1,getSessionStartId:()=>"",getSessionStart:()=>0,getSessionId:()=>"123"},sendNextBatchInterval:1e4,timestampGenerator:a.timestampGenerator,userInfo:{},...e}})(e);let r=t.sendNextBatchInterval;const n=new s.default,u=async()=>n.run((async()=>{t.logger.debug("Sending events batch.");try{const e=await t.persistenceManager.countEvents();if(e>0){const e=await t.persistenceManager.getEvents(t.eventsBatchSize);await t.apiManager.sendEvents(e),await t.persistenceManager.deleteEvents(e)}else t.logger.debug("No events found.");r=0===t.sendNextBatchInterval&&e>t.eventsBatchSize?1:t.sendNextBatchInterval}catch(e){t.logger.error("An error occurred while sending events."),r=2*(0!==r?r:1e4),r=Math.min(r,t.maxExponentialBackoffInterval)}finally{r>0&&t.scheduler.scheduleAction(u,r,"sendEvents")}})),l=async e=>{const t={};for(const r in e){const n=e[r];n&&(t[r]=await n())}return t},d=async(e,r)=>{var n;const i=await l(t.userIdGenerators),o=null!==(n=await t.persistenceManager.getValue(c.USER_INFO_KEY))&&void 0!==n?n:{};let a={};t.sessionManager.isEnabled()&&(a={sessionId:t.sessionManager.getSessionId(),sessionStartId:t.sessionManager.getSessionStartId(),secondsFromSessionStart:t.timestampGenerator()-t.sessionManager.getSessionStart()});let s={...r,...a,id:t.uuidFactory(),timestamp:t.timestampGenerator(),type:e,userIds:i,userInfo:o};for(const e of t.eventProcessors){const t=e.processEvent(s);if(!t)return;s=t}await t.persistenceManager.saveEvent(s)},h=(e,t)=>{const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!0;for(const n of r)if(t[n]!==e[n])return!0;return!1},p=async()=>{var e;return null!==(e=await t.persistenceManager.getValue(c.USER_INFO_KEY))&&void 0!==e?e:{}},f=async e=>await t.persistenceManager.saveValue(c.USER_INFO_KEY,e);return Object.keys(t.userInfo).length>0&&await f(t.userInfo),t.sessionManager.isEnabled()&&t.sessionManager.isNewSession()&&await d("Session",{subtype:"session_start"}),t.lockRunner("picoSendEvents",u),{result:"success",pico:{trackExperimentSegmentReceived:async e=>{var r;try{let t=await p();const n=null!==(r=t.experiment)&&void 0!==r?r:{};t={...t,experiment:e},await f(t),h(n,e)&&await d("ExperimentSegmentReceived",{})}catch(e){t.logger.error("An error occurred while tracking experiment segment received.",e)}},trackUserAction:async e=>{try{await d("UserAction",e)}catch(e){t.logger.error("An error occurred while tracking user action.",e)}},trackSignInAction:async e=>{try{await d("SignIn",e)}catch(e){t.logger.error("An error occurred while tracking sign in action.",e)}},getUserInfo:p,updateUserInfo:async e=>{try{let t=await p();t={...t,...e},await f(t)}catch(e){t.logger.error("An error occurred while updating user info.",e)}}}}}catch(e){return{result:"error",error:e}}}},4556:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emptyLockRunner=void 0,t.emptyLockRunner=()=>async(e,t)=>{await t()}},8670:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.mutex=Promise.resolve()}async run(e){return new Promise(((t,r)=>{this.mutex=this.mutex.then((async()=>{try{t(await e())}catch(e){r(e)}}))}))}}},3904:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutScheduler=void 0,t.timeoutScheduler=()=>({scheduleAction:(e,t)=>{setTimeout(e,t)}})},1972:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timestampGenerator=void 0,t.timestampGenerator=()=>Math.round(Date.now()/1e3)},723:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.6.12"},5865:(e,t,r)=>{"use strict";const n=r(5525),{snakeCase:i}=r(5515),o={}.constructor;function a(e,t,r){return r.shouldRecurse?{shouldRecurse:r.shouldRecurse(e,t)}:void 0}e.exports=function(e,t){if(Array.isArray(e)){if(e.some((e=>e.constructor!==o)))throw new Error("obj must be array of plain objects")}else if(e.constructor!==o)throw new Error("obj must be an plain object");return t=Object.assign({deep:!0,exclude:[],parsingOptions:{}},t),n(e,(function(e,r){return[(n=t.exclude,o=e,n.some((function(e){return"string"==typeof e?e===o:e.test(o)}))?e:i(e,t.parsingOptions)),r,a(e,r,t)];var n,o}),t)}},6478:(e,t,r)=>{"use strict";t.u1=t.qw=t.kd=t.bU=void 0;var n=r(7635);Object.defineProperty(t,"bU",{enumerable:!0,get:function(){return n.indexedDBPersistence}});var i=r(2797);Object.defineProperty(t,"kd",{enumerable:!0,get:function(){return i.webLockApiRunner}});var o=r(505);Object.defineProperty(t,"qw",{enumerable:!0,get:function(){return o.localStorageID}}),r(1012);var a=r(359);Object.defineProperty(t,"u1",{enumerable:!0,get:function(){return a.syncSessionStorageID}})},7635:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.indexedDBPersistence=void 0;const r="events",n="keyval",i="timestamp",o=async(e,t,r,n)=>new Promise(((i,o)=>{const a=e.transaction(t,"readwrite").objectStore(t).put(n,r);a.onerror=()=>{o(a.error)},a.onsuccess=()=>{i()}})),a=async(e,t,r,n,i)=>new Promise(((o,a)=>{const s=e.transaction(t,"readonly").objectStore(t).index(r).openCursor(null,i),c=[];s.onerror=()=>{a(s.error)},s.onsuccess=()=>{const e=s.result;e&&c.length<n?(c.push(e.value),e.continue()):o(c)}})),s=async(e,t)=>new Promise(((r,n)=>{const i=e.transaction(t,"readonly").objectStore(t).count();i.onerror=()=>{n(i.error)},i.onsuccess=()=>{r(i.result)}}));t.indexedDBPersistence=async(e={})=>{const t={dbName:"pico",maxEventsStored:300,targetSizeAfterClearingSpace:200,...e},c=await(async e=>new Promise(((t,o)=>{const a=indexedDB.open(e,2);a.onerror=()=>{o(a.error)},a.onsuccess=()=>{t(a.result)},a.onupgradeneeded=()=>{(e=>{e.objectStoreNames.contains(r)||e.createObjectStore(r).createIndex(i,"timestamp"),e.objectStoreNames.contains(n)||e.createObjectStore(n)})(a.result)}})))(t.dbName),u=async e=>{const t=e.map((e=>e.id));await(async(e,t,r)=>new Promise(((n,i)=>{const o=e.transaction(t,"readwrite").objectStore(t),a=[];r.forEach((e=>{const t=o.delete(e);a.push(new Promise(((e,r)=>{t.onerror=()=>{r(t.error)},t.onsuccess=()=>{e()}})))})),Promise.all(a).then((()=>n())).catch(i)})))(c,r,t)};return{getValue:async e=>{const t=await(async(e,t,r)=>new Promise(((n,i)=>{const o=e.transaction(t,"readonly").objectStore(t).get(r);o.onerror=()=>{i(o.error)},o.onsuccess=()=>{n(o.result)}})))(c,n,e);return t},saveValue:async(e,t)=>{await o(c,n,e,t)},getEvents:async e=>await a(c,r,i,e,"next"),saveEvent:async e=>{const n=await s(c,r);if(n>=t.maxEventsStored){const e=n-t.targetSizeAfterClearingSpace,o=await a(c,r,i,e,"next");await u(o)}await o(c,r,e.id,e)},countEvents:async()=>await s(c,r),deleteEvents:u}}},505:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localStorageID=void 0,t.localStorageID=(e,t)=>{if("undefined"==typeof window)throw new Error("This helper can only be used in web-based environments");const r=`LOCAL_STORAGE_ID_${e}`;return async()=>{const e=window.localStorage.getItem(r);if(null==e){const e=t();return window.localStorage.setItem(r,e),e}return e}}},2797:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.webLockApiRunner=void 0,t.webLockApiRunner=e=>async(t,r)=>{null==e||e.debug(`Waiting for lock ${t}...`),navigator.locks.request(t,(async()=>(null==e||e.debug(`Lock ${t} acquired!`),await r(),new Promise((()=>{})))))}},1012:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sessionStorageID=void 0,t.sessionStorageID=(e,t)=>{if("undefined"==typeof window)throw new Error("This helper can only be used in web-based environments");const r=`SESSION_STORAGE_ID_${e}`;return async()=>{const e=window.sessionStorage.getItem(r);if(null==e){const e=t();return window.sessionStorage.setItem(r,e),e}return e}}},359:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syncSessionStorageID=void 0,t.syncSessionStorageID=(e,t)=>{if("undefined"==typeof window)throw new Error("This helper can only be used in web-based environments");const r=`SESSION_STORAGE_ID_${e}`;return()=>{const e=window.sessionStorage.getItem(r);if(null==e){const e=t();return window.sessionStorage.setItem(r,e),e}return e}}},6233:e=>{"use strict";e.exports=function(e,t){for(var r=new Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,a){r[n]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,a(e))}}))}},1979:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=new Array(64),i=new Array(123),o=0;o<64;)i[n[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;r.encode=function(e,t,r){for(var i,o=null,a=[],s=0,c=0;t<r;){var u=e[t++];switch(c){case 0:a[s++]=n[u>>2],i=(3&u)<<4,c=1;break;case 1:a[s++]=n[i|u>>4],i=(15&u)<<2,c=2;break;case 2:a[s++]=n[i|u>>6],a[s++]=n[63&u],c=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=n[i],a[s++]=61,1===c&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var a="invalid encoding";r.decode=function(e,t,r){for(var n,o=r,s=0,c=0;c<e.length;){var u=e.charCodeAt(c++);if(61===u&&s>1)break;if(void 0===(u=i[u]))throw Error(a);switch(s){case 0:n=u,s=1;break;case 1:t[r++]=n<<2|(48&u)>>4,n=u,s=2;break;case 2:t[r++]=(15&n)<<4|(60&u)>>2,n=u,s=3;break;case 3:t[r++]=(3&n)<<6|u,s=0}}if(1===s)throw Error(a);return r-o},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},3474:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},5750:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,r,n)}}function a(e,t,r){var n=e(t,r),i=2*(n>>31)+1,o=n>>>23&255,a=8388607&n;return 255===o?a?NaN:i*(1/0):0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=a.bind(null,i),e.readFloatBE=a.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(e,t,r,n,i,o){var a=n<0?1:0;if(a&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+r);else{var s;if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,i,o+t),e((a<<31|s/4294967296)>>>0,i,o+r);else{var c=Math.floor(Math.log(n)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=n*Math.pow(2,-c))>>>0,i,o+t),e((a<<31|c+1023<<20|1048576*s&1048575)>>>0,i,o+r)}}}function a(e,t,r,n,i){var o=e(n,i+t),a=e(n,i+r),s=2*(a>>31)+1,c=a>>>20&2047,u=4294967296*(1048575&a)+o;return 2047===c?u?NaN:s*(1/0):0===c?5e-324*s*u:s*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=a.bind(null,i,0,4),e.readDoubleBE=a.bind(null,o,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},1925:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},4226:e=>{"use strict";e.exports=function(e,t,r){var n=r||8192,i=n>>>1,o=null,a=n;return function(r){if(r<1||r>i)return e(r);a+r>n&&(o=e(n),a=0);var s=t.call(o,a,a+=r);return 7&a&&(a=1+(7|a)),s}}},2971:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],a=0;t<r;)(n=e[t++])<128?o[a++]=n:n>191&&n<224?o[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(n>>10),o[a++]=56320+(1023&n)):o[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},r.write=function(e,t,r){for(var n,i,o=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(i=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&i),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-o}},74:(e,t,r)=>{"use strict";r.d(t,{B:()=>a,V:()=>o});var n=r(2489),i={};function o(){return(0,n.wD)()?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:i}function a(e,t,r){var n=r||o(),i=n.__SENTRY__=n.__SENTRY__||{};return i[e]||(i[e]=t())}},2489:(e,t,r)=>{"use strict";function n(){return!1}function i(e,t){return e.require(t)}r.d(t,{fj:()=>i,wD:()=>n}),e=r.hmd(e)},6772:(e,t,r)=>{"use strict";r.d(t,{lu:()=>c,zf:()=>u});var n=r(74),i=r(2489);e=r.hmd(e);var o={nowSeconds:function(){return Date.now()/1e3}},a=(0,i.wD)()?function(){try{return(0,i.fj)(e,"perf_hooks").performance}catch(e){return}}():function(){var e=(0,n.V)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),s=void 0===a?o:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},c=o.nowSeconds.bind(o),u=s.nowSeconds.bind(s);!function(){var e=(0,n.V)().performance;if(e&&e.now){var t=36e5,r=e.now(),i=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+r-i):t,a=o<t,s=e.timing&&e.timing.navigationStart,c="number"==typeof s?Math.abs(s+r-i):t;(a||c<t)&&o<=c&&e.timeOrigin}}()},7219:(e,t,r)=>{"use strict";var n=r(9343)("ArrayBuffer.prototype.byteLength",!0),i=r(2658);e.exports=function(e){return i(e)?n?n(e):e.byteLength:NaN}},8668:e=>{var t=function(){var e=new Function;return e.extend=function(){return new Function},e};t.debug=t,t.default=t,e.exports=t},9343:(e,t,r)=>{"use strict";var n=r(8897),i=r(8179),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i(r):r}},8179:(e,t,r)=>{"use strict";var n=r(4499),i=r(8897),o=r(8973),a=r(1711),s=i("%Function.prototype.apply%"),c=i("%Function.prototype.call%"),u=i("%Reflect.apply%",!0)||n.call(c,s),l=r(7539),d=i("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new a("a function is required");var t=u(n,c,arguments);return o(t,1+d(0,e.length-(arguments.length-1)),!0)};var h=function(){return u(n,s,arguments)};l?l(e.exports,"apply",{value:h}):e.exports.apply=h},3498:(e,t,r)=>{"use strict";var n=r(7745),i=r(9343),o=r(9353),a=r(8897),s=r(8418),c=r(588),u=r(9513),l=r(5456),d=r(9134),h=r(2658),p=r(228),f=r(7647),g=r(6050),m=r(3425),v=r(9767),y=r(5493),b=r(6059),_=r(7219),w=i("SharedArrayBuffer.prototype.byteLength",!0),x=i("Date.prototype.getTime"),T=Object.getPrototypeOf,S=i("Object.prototype.toString"),E=a("%Set%",!0),I=i("Map.prototype.has",!0),k=i("Map.prototype.get",!0),M=i("Map.prototype.size",!0),A=i("Set.prototype.add",!0),N=i("Set.prototype.delete",!0),O=i("Set.prototype.has",!0),j=i("Set.prototype.size",!0);function P(e,t,r,n){for(var i,o=s(e);(i=o.next())&&!i.done;)if(B(t,i.value,r,n))return N(e,i.value),!0;return!1}function C(e){return void 0===e?null:"object"!=typeof e?"symbol"!=typeof e&&("string"!=typeof e&&"number"!=typeof e||+e==+e):void 0}function D(e,t,r,i,o,a){var s=C(r);if(null!=s)return s;var c=k(t,s),u=n({},o,{strict:!1});return!(void 0===c&&!I(t,s)||!B(i,c,u,a))&&!I(e,s)&&B(i,c,u,a)}function L(e,t,r){var n=C(r);return null!=n?n:O(t,n)&&!O(e,n)}function R(e,t,r,n,i,o){for(var a,c,u=s(e);(a=u.next())&&!a.done;)if(B(r,c=a.value,i,o)&&B(n,k(t,c),i,o))return N(e,c),!0;return!1}function B(e,t,r,i){var a=r||{};if(a.strict?u(e,t):e===t)return!0;if(v(e)!==v(t))return!1;if(!e||!t||"object"!=typeof e&&"object"!=typeof t)return a.strict?u(e,t):e==t;var c,N=i.has(e),C=i.has(t);if(N&&C){if(i.get(e)===i.get(t))return!0}else c={};return N||i.set(e,c),C||i.set(t,c),function(e,t,r,i){var a,c;if(typeof e!=typeof t)return!1;if(null==e||null==t)return!1;if(S(e)!==S(t))return!1;if(l(e)!==l(t))return!1;if(d(e)!==d(t))return!1;var u=e instanceof Error,v=t instanceof Error;if(u!==v)return!1;if((u||v)&&(e.name!==t.name||e.message!==t.message))return!1;var N=f(e),C=f(t);if(N!==C)return!1;if((N||C)&&(e.source!==t.source||o(e)!==o(t)))return!1;var F=p(e),z=p(t);if(F!==z)return!1;if((F||z)&&x(e)!==x(t))return!1;if(r.strict&&T&&T(e)!==T(t))return!1;var G=b(e),H=b(t);if(G!==H)return!1;if(G||H){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}var W=U(e),$=U(t);if(W!==$)return!1;if(W||$){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}var V=h(e),Y=h(t);if(V!==Y)return!1;if(V||Y)return _(e)===_(t)&&"function"==typeof Uint8Array&&B(new Uint8Array(e),new Uint8Array(t),r,i);var q=g(e),Z=g(t);if(q!==Z)return!1;if(q||Z)return w(e)===w(t)&&"function"==typeof Uint8Array&&B(new Uint8Array(e),new Uint8Array(t),r,i);if(typeof e!=typeof t)return!1;var Q=m(e),X=m(t);if(Q.length!==X.length)return!1;for(Q.sort(),X.sort(),a=Q.length-1;a>=0;a--)if(Q[a]!=X[a])return!1;for(a=Q.length-1;a>=0;a--)if(!B(e[c=Q[a]],t[c],r,i))return!1;var J=y(e),K=y(t);return J===K&&("Set"===J||"Set"===K?function(e,t,r,n){if(j(e)!==j(t))return!1;for(var i,o,a,c=s(e),u=s(t);(i=c.next())&&!i.done;)if(i.value&&"object"==typeof i.value)a||(a=new E),A(a,i.value);else if(!O(t,i.value)){if(r.strict)return!1;if(!L(e,t,i.value))return!1;a||(a=new E),A(a,i.value)}if(a){for(;(o=u.next())&&!o.done;)if(o.value&&"object"==typeof o.value){if(!P(a,o.value,r.strict,n))return!1}else if(!r.strict&&!O(e,o.value)&&!P(a,o.value,r.strict,n))return!1;return 0===j(a)}return!0}(e,t,r,i):"Map"!==J||function(e,t,r,i){if(M(e)!==M(t))return!1;for(var o,a,c,u,l,d,h=s(e),p=s(t);(o=h.next())&&!o.done;)if(u=o.value[0],l=o.value[1],u&&"object"==typeof u)c||(c=new E),A(c,u);else if(void 0===(d=k(t,u))&&!I(t,u)||!B(l,d,r,i)){if(r.strict)return!1;if(!D(e,t,u,l,r,i))return!1;c||(c=new E),A(c,u)}if(c){for(;(a=p.next())&&!a.done;)if(u=a.value[0],d=a.value[1],u&&"object"==typeof u){if(!R(c,e,u,d,r,i))return!1}else if(!(r.strict||e.has(u)&&B(k(e,u),d,r,i)||R(c,e,u,d,n({},r,{strict:!1}),i)))return!1;return 0===j(c)}return!0}(e,t,r,i))}(e,t,a,i)}function U(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0]||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))}e.exports=function(e,t,r){return B(e,t,r,c())}},9381:(e,t,r)=>{"use strict";var n=r(7539),i=r(6296),o=r(1711),a=r(1399);e.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],d=!!a&&a(e,t);if(n)n(e,t,{configurable:null===u&&d?d.configurable:!u,enumerable:null===s&&d?d.enumerable:!s,value:r,writable:null===c&&d?d.writable:!c});else{if(!l&&(s||c||u))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}},5144:(e,t,r)=>{"use strict";var n=r(3425),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=r(9381),c=r(6900)(),u=function(e,t,r,n){if(t in e)if(!0===n){if(e[t]===r)return}else if("function"!=typeof(i=n)||"[object Function]"!==o.call(i)||!n())return;var i;c?s(e,t,r,!0):s(e,t,r)},l=function(e,t){var r=arguments.length>2?arguments[2]:{},o=n(t);i&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)u(e,o[s],t[o[s]],r[o[s]])};l.supportsDescriptors=!!c,e.exports=l},7539:(e,t,r)=>{"use strict";var n=r(8897)("%Object.defineProperty%",!0)||!1;if(n)try{n({},"a",{value:1})}catch(e){n=!1}e.exports=n},3841:e=>{"use strict";e.exports=EvalError},219:e=>{"use strict";e.exports=Error},6190:e=>{"use strict";e.exports=RangeError},3950:e=>{"use strict";e.exports=ReferenceError},6296:e=>{"use strict";e.exports=SyntaxError},1711:e=>{"use strict";e.exports=TypeError},3221:e=>{"use strict";e.exports=URIError},1484:e=>{!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function r(e){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(e)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function n(e,t){e.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function i(e){var t=e.g.offsetWidth,r=t+100;return e.j.style.width=r+"px",e.i.scrollLeft=r,e.h.scrollLeft=e.h.scrollWidth+100,e.l!==t&&(e.l=t,!0)}function o(e,r){function n(){var e=o;i(e)&&null!==e.g.parentNode&&r(e.l)}var o=e;t(e.h,n),t(e.i,n),i(e)}function a(e,t,r){t=t||{},r=r||window,this.family=e,this.style=t.style||"normal",this.weight=t.weight||"normal",this.stretch=t.stretch||"normal",this.context=r}var s=null,c=null,u=null,l=null;function d(e){return null===l&&(l=!!e.document.fonts),l}function h(e,t){var r=e.style,n=e.weight;if(null===u){var i=document.createElement("div");try{i.style.font="condensed 100px sans-serif"}catch(e){}u=""!==i.style.font}return[r,n,u?e.stretch:"","100px",t].join(" ")}a.prototype.load=function(e,t){var i=this,a=e||"BESbswy",u=0,l=t||3e3,p=(new Date).getTime();return new Promise((function(e,t){if(d(i.context)&&!function(e){return null===c&&(d(e)&&/Apple/.test(window.navigator.vendor)?(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!e&&603>parseInt(e[1],10)):c=!1),c}(i.context)){var f=new Promise((function(e,t){!function r(){(new Date).getTime()-p>=l?t(Error(l+"ms timeout exceeded")):i.context.document.fonts.load(h(i,'"'+i.family+'"'),a).then((function(t){1<=t.length?e():setTimeout(r,25)}),t)}()})),g=new Promise((function(e,t){u=setTimeout((function(){t(Error(l+"ms timeout exceeded"))}),l)}));Promise.race([g,f]).then((function(){clearTimeout(u),e(i)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function c(){var t;(t=-1!=m&&-1!=v||-1!=m&&-1!=y||-1!=v&&-1!=y)&&((t=m!=v&&m!=y&&v!=y)||(null===s&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(m==b&&v==b&&y==b||m==_&&v==_&&y==_||m==w&&v==w&&y==w)),t=!t),t&&(null!==x.parentNode&&x.parentNode.removeChild(x),clearTimeout(u),e(i))}var d=new r(a),f=new r(a),g=new r(a),m=-1,v=-1,y=-1,b=-1,_=-1,w=-1,x=document.createElement("div");x.dir="ltr",n(d,h(i,"sans-serif")),n(f,h(i,"serif")),n(g,h(i,"monospace")),x.appendChild(d.g),x.appendChild(f.g),x.appendChild(g.g),i.context.document.body.appendChild(x),b=d.g.offsetWidth,_=f.g.offsetWidth,w=g.g.offsetWidth,function e(){if((new Date).getTime()-p>=l)null!==x.parentNode&&x.parentNode.removeChild(x),t(Error(l+"ms timeout exceeded"));else{var r=i.context.document.hidden;!0!==r&&void 0!==r||(m=d.g.offsetWidth,v=f.g.offsetWidth,y=g.g.offsetWidth,c()),u=setTimeout(e,50)}}(),o(d,(function(e){m=e,c()})),n(d,h(i,'"'+i.family+'",sans-serif')),o(f,(function(e){v=e,c()})),n(f,h(i,'"'+i.family+'",serif')),o(g,(function(e){y=e,c()})),n(g,h(i,'"'+i.family+'",monospace'))}))}))},e.exports=a}()},7270:(e,t,r)=>{"use strict";var n=r(9916),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=r),"[object Array]"===i.call(e)?function(e,t,r){for(var n=0,i=e.length;n<i;n++)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,a):"string"==typeof e?function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(e,t,a):function(e,t,r){for(var n in e)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,a)}},5845:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r};e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,a=function(e){for(var t=[],r=1,n=0;r<e.length;r+=1,n+=1)t[n]=e[r];return t}(arguments),s=r(0,i.length-a.length),c=[],u=0;u<s;u++)c[u]="$"+u;if(o=Function("binder","return function ("+function(e){for(var t="",r=0;r<e.length;r+=1)t+=e[r],r+1<e.length&&(t+=",");return t}(c)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=i.apply(this,n(a,arguments));return Object(t)===t?t:this}return i.apply(e,n(a,arguments))})),i.prototype){var l=function(){};l.prototype=i.prototype,o.prototype=new l,l.prototype=null}return o}},4499:(e,t,r)=>{"use strict";var n=r(5845);e.exports=Function.prototype.bind||n},1442:e=>{"use strict";var t=function(){return"string"==typeof function(){}.name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(e){r=null}t.functionsHaveConfigurableNames=function(){if(!t()||!r)return!1;var e=r((function(){}),"name");return!!e&&!!e.configurable};var n=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"==typeof n&&""!==function(){}.bind().name},e.exports=t},8897:(e,t,r)=>{"use strict";var n,i=r(219),o=r(3841),a=r(6190),s=r(3950),c=r(6296),u=r(1711),l=r(3221),d=Function,h=function(e){try{return d('"use strict"; return ('+e+").constructor;")()}catch(e){}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch(e){p=null}var f=function(){throw new u},g=p?function(){try{return f}catch(e){try{return p(arguments,"callee").get}catch(e){return f}}}():f,m=r(4923)(),v=r(9372)(),y=Object.getPrototypeOf||(v?function(e){return e.__proto__}:null),b={},_="undefined"!=typeof Uint8Array&&y?y(Uint8Array):n,w={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":m&&y?y([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":b,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&y?y(y([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&m&&y?y((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":a,"%ReferenceError%":s,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&m&&y?y((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&y?y(""[Symbol.iterator]()):n,"%Symbol%":m?Symbol:n,"%SyntaxError%":c,"%ThrowTypeError%":g,"%TypedArray%":_,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":l,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(y)try{null.error}catch(e){var x=y(y(e));w["%Error.prototype%"]=x}var T=function e(t){var r;if("%AsyncFunction%"===t)r=h("async function () {}");else if("%GeneratorFunction%"===t)r=h("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=h("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&y&&(r=y(i.prototype))}return w[t]=r,r},S={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},E=r(4499),I=r(4313),k=E.call(Function.call,Array.prototype.concat),M=E.call(Function.apply,Array.prototype.splice),A=E.call(Function.call,String.prototype.replace),N=E.call(Function.call,String.prototype.slice),O=E.call(Function.call,RegExp.prototype.exec),j=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,C=function(e,t){var r,n=e;if(I(S,n)&&(n="%"+(r=S[n])[0]+"%"),I(w,n)){var i=w[n];if(i===b&&(i=T(n)),void 0===i&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===O(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=N(e,0,1),r=N(e,-1);if("%"===t&&"%"!==r)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var n=[];return A(e,j,(function(e,t,r,i){n[n.length]=r?A(i,P,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",i=C("%"+n+"%",t),o=i.name,a=i.value,s=!1,l=i.alias;l&&(n=l[0],M(r,k([0,1],l)));for(var d=1,h=!0;d<r.length;d+=1){var f=r[d],g=N(f,0,1),m=N(f,-1);if(('"'===g||"'"===g||"`"===g||'"'===m||"'"===m||"`"===m)&&g!==m)throw new c("property names with quotes must have matching quotes");if("constructor"!==f&&h||(s=!0),I(w,o="%"+(n+="."+f)+"%"))a=w[o];else if(null!=a){if(!(f in a)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(p&&d+1>=r.length){var v=p(a,f);a=(h=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:a[f]}else h=I(a,f),a=a[f];h&&!s&&(w[o]=a)}}return a}},1399:(e,t,r)=>{"use strict";var n=r(8897)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},6626:e=>{"use strict";var t="undefined"!=typeof BigInt&&BigInt;e.exports=function(){return"function"==typeof t&&"function"==typeof BigInt&&"bigint"==typeof t(42)&&"bigint"==typeof BigInt(42)}},6900:(e,t,r)=>{"use strict";var n=r(7539),i=function(){return!!n};i.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},9372:e=>{"use strict";var t={__proto__:null,foo:{}},r=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof r)}},4923:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(4361);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},4361:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},1432:(e,t,r)=>{"use strict";var n=r(4361);e.exports=function(){return n()&&!!Symbol.toStringTag}},4313:(e,t,r)=>{"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r(4499);e.exports=o.call(n,i)},8486:(e,t,r)=>{"use strict";var n=r(8210),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return n.isMemo(e)?a:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(f){var i=p(r);i&&i!==f&&e(t,i,n)}var a=l(r);d&&(a=a.concat(d(r)));for(var s=c(t),g=c(r),m=0;m<a.length;++m){var v=a[m];if(!(o[v]||n&&n[v]||g&&g[v]||s&&s[v])){var y=h(r,v);try{u(t,v,y)}catch(e){}}}}return t}},8347:(e,t,r)=>{"use strict";var n=r(4313),i=r(588)(),o=r(1711),a={assert:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`O` is not an object");if("string"!=typeof t)throw new o("`slot` must be a string");if(i.assert(e),!a.has(e,t))throw new o("`"+t+"` is not present on `O`")},get:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`O` is not an object");if("string"!=typeof t)throw new o("`slot` must be a string");var r=i.get(e);return r&&r["$"+t]},has:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`O` is not an object");if("string"!=typeof t)throw new o("`slot` must be a string");var r=i.get(e);return!!r&&n(r,"$"+t)},set:function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`O` is not an object");if("string"!=typeof t)throw new o("`slot` must be a string");var n=i.get(e);n||(n={},i.set(e,n)),n["$"+t]=r}};Object.freeze&&Object.freeze(a),e.exports=a},5456:(e,t,r)=>{"use strict";var n=r(1432)(),i=r(9343)("Object.prototype.toString"),o=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,e.exports=s?o:a},2658:(e,t,r)=>{"use strict";var n=r(8179),i=r(9343),o=r(8897)("%ArrayBuffer%",!0),a=i("ArrayBuffer.prototype.byteLength",!0),s=i("Object.prototype.toString"),c=!!o&&!a&&new o(0).slice,u=!!c&&n(c);e.exports=a||u?function(e){if(!e||"object"!=typeof e)return!1;try{return a?a(e):u(e,0),!0}catch(e){return!1}}:o?function(e){return"[object ArrayBuffer]"===s(e)}:function(){return!1}},8959:(e,t,r)=>{"use strict";if(r(6626)()){var n=BigInt.prototype.valueOf;e.exports=function(e){return null!=e&&"boolean"!=typeof e&&"string"!=typeof e&&"number"!=typeof e&&"symbol"!=typeof e&&"function"!=typeof e&&("bigint"==typeof e||function(e){try{return n.call(e),!0}catch(e){}return!1}(e))}}else e.exports=function(){return!1}},8092:(e,t,r)=>{"use strict";var n=r(9343),i=n("Boolean.prototype.toString"),o=n("Object.prototype.toString"),a=r(1432)();e.exports=function(e){return"boolean"==typeof e||null!==e&&"object"==typeof e&&(a&&Symbol.toStringTag in e?function(e){try{return i(e),!0}catch(e){return!1}}(e):"[object Boolean]"===o(e))}},9916:e=>{"use strict";var t,r,n=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},i((function(){throw 42}),null,t)}catch(e){e!==r&&(i=null)}else i=null;var o=/^\s*class\b/,a=function(e){try{var t=n.call(e);return o.test(t)}catch(e){return!1}},s=function(e){try{return!a(e)&&(n.call(e),!0)}catch(e){return!1}},c=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,l=!(0 in[,]),d=function(){return!1};if("object"==typeof document){var h=document.all;c.call(h)===c.call(document.all)&&(d=function(e){if((l||!e)&&(void 0===e||"object"==typeof e))try{var t=c.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=i?function(e){if(d(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{i(e,null,t)}catch(e){if(e!==r)return!1}return!a(e)&&s(e)}:function(e){if(d(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(u)return s(e);if(a(e))return!1;var t=c.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&s(e)}},228:(e,t,r)=>{"use strict";var n=Date.prototype.getDay,i=Object.prototype.toString,o=r(1432)();e.exports=function(e){return"object"==typeof e&&null!==e&&(o?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Date]"===i.call(e))}},7174:e=>{"use strict";var t,r="function"==typeof Map&&Map.prototype?Map:null,n="function"==typeof Set&&Set.prototype?Set:null;r||(t=function(){return!1});var i=r?Map.prototype.has:null,o=n?Set.prototype.has:null;t||i||(t=function(){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(i.call(e),o)try{o.call(e)}catch(e){return!0}return e instanceof r}catch(e){}return!1}},4267:(e,t,r)=>{"use strict";var n=Number.prototype.toString,i=Object.prototype.toString,o=r(1432)();e.exports=function(e){return"number"==typeof e||"object"==typeof e&&(o?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Number]"===i.call(e))}},7647:(e,t,r)=>{"use strict";var n,i,o,a,s=r(9343),c=r(1432)();if(c){n=s("Object.prototype.hasOwnProperty"),i=s("RegExp.prototype.exec"),o={};var u=function(){throw o};a={toString:u,valueOf:u},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=u)}var l=s("Object.prototype.toString"),d=Object.getOwnPropertyDescriptor;e.exports=c?function(e){if(!e||"object"!=typeof e)return!1;var t=d(e,"lastIndex");if(!t||!n(t,"value"))return!1;try{i(e,a)}catch(e){return e===o}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===l(e)}},1620:e=>{"use strict";var t,r="function"==typeof Map&&Map.prototype?Map:null,n="function"==typeof Set&&Set.prototype?Set:null;n||(t=function(){return!1});var i=r?Map.prototype.has:null,o=n?Set.prototype.has:null;t||o||(t=function(){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(o.call(e),i)try{i.call(e)}catch(e){return!0}return e instanceof n}catch(e){}return!1}},6050:(e,t,r)=>{"use strict";var n=r(9343)("SharedArrayBuffer.prototype.byteLength",!0);e.exports=n?function(e){if(!e||"object"!=typeof e)return!1;try{return n(e),!0}catch(e){return!1}}:function(){return!1}},9453:(e,t,r)=>{"use strict";var n=String.prototype.valueOf,i=Object.prototype.toString,o=r(1432)();e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(o?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object String]"===i.call(e))}},8832:(e,t,r)=>{"use strict";var n=Object.prototype.toString;if(r(4923)()){var i=Symbol.prototype.toString,o=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==n.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&o.test(i.call(e))}(e)}catch(e){return!1}}}else e.exports=function(){return!1}},8014:e=>{"use strict";var t,r="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,n="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;r||(t=function(){return!1});var i=r?r.prototype.has:null,o=n?n.prototype.has:null;t||i||(t=function(){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(i.call(e,i),o)try{o.call(e,o)}catch(e){return!0}return e instanceof r}catch(e){}return!1}},5692:(e,t,r)=>{"use strict";var n=r(8897),i=r(9343),o=n("%WeakSet%",!0),a=i("WeakSet.prototype.has",!0);if(a){var s=i("WeakMap.prototype.has",!0);e.exports=function(e){if(!e||"object"!=typeof e)return!1;try{if(a(e,a),s)try{s(e,s)}catch(e){return!0}return e instanceof o}catch(e){}return!1}}else e.exports=function(){return!1}},9134:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},7842:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",l="[object Boolean]",d="[object Date]",h="[object Error]",p="[object Function]",f="[object GeneratorFunction]",g="[object Map]",m="[object Number]",v="[object Null]",y="[object Object]",b="[object Promise]",_="[object Proxy]",w="[object RegExp]",x="[object Set]",T="[object String]",S="[object Undefined]",E="[object WeakMap]",I="[object ArrayBuffer]",k="[object DataView]",M=/^\[object .+?Constructor\]$/,A=/^(?:0|[1-9]\d*)$/,N={};N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N[s]=N[c]=N[I]=N[l]=N[k]=N[d]=N[h]=N[p]=N[g]=N[m]=N[y]=N[w]=N[x]=N[T]=N[E]=!1;var O="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,j="object"==typeof self&&self&&self.Object===Object&&self,P=O||j||Function("return this")(),C=t&&!t.nodeType&&t,D=C&&e&&!e.nodeType&&e,L=D&&D.exports===C,R=L&&O.process,B=function(){try{return R&&R.binding&&R.binding("util")}catch(e){}}(),U=B&&B.isTypedArray;function F(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function z(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function G(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var H,W,$,V=Array.prototype,Y=Function.prototype,q=Object.prototype,Z=P["__core-js_shared__"],Q=Y.toString,X=q.hasOwnProperty,J=(H=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",K=q.toString,ee=RegExp("^"+Q.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=L?P.Buffer:void 0,re=P.Symbol,ne=P.Uint8Array,ie=q.propertyIsEnumerable,oe=V.splice,ae=re?re.toStringTag:void 0,se=Object.getOwnPropertySymbols,ce=te?te.isBuffer:void 0,ue=(W=Object.keys,$=Object,function(e){return W($(e))}),le=De(P,"DataView"),de=De(P,"Map"),he=De(P,"Promise"),pe=De(P,"Set"),fe=De(P,"WeakMap"),ge=De(Object,"create"),me=Ue(le),ve=Ue(de),ye=Ue(he),be=Ue(pe),_e=Ue(fe),we=re?re.prototype:void 0,xe=we?we.valueOf:void 0;function Te(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ee(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ie(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Ee;++t<r;)this.add(e[t])}function ke(e){var t=this.__data__=new Se(e);this.size=t.size}function Me(e,t){for(var r=e.length;r--;)if(Fe(e[r][0],t))return r;return-1}function Ae(e){return null==e?void 0===e?S:v:ae&&ae in Object(e)?function(e){var t=X.call(e,ae),r=e[ae];try{e[ae]=void 0;var n=!0}catch(e){}var i=K.call(e);return n&&(t?e[ae]=r:delete e[ae]),i}(e):function(e){return K.call(e)}(e)}function Ne(e){return Ye(e)&&Ae(e)==s}function Oe(e,t,r,n,a){return e===t||(null==e||null==t||!Ye(e)&&!Ye(t)?e!=e&&t!=t:function(e,t,r,n,a,u){var p=Ge(e),f=Ge(t),v=p?c:Re(e),b=f?c:Re(t),_=(v=v==s?y:v)==y,S=(b=b==s?y:b)==y,E=v==b;if(E&&He(e)){if(!He(t))return!1;p=!0,_=!1}if(E&&!_)return u||(u=new ke),p||qe(e)?je(e,t,r,n,a,u):function(e,t,r,n,a,s,c){switch(r){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!s(new ne(e),new ne(t)));case l:case d:case m:return Fe(+e,+t);case h:return e.name==t.name&&e.message==t.message;case w:case T:return e==t+"";case g:var u=z;case x:var p=n&i;if(u||(u=G),e.size!=t.size&&!p)return!1;var f=c.get(e);if(f)return f==t;n|=o,c.set(e,t);var v=je(u(e),u(t),n,a,s,c);return c.delete(e),v;case"[object Symbol]":if(xe)return xe.call(e)==xe.call(t)}return!1}(e,t,v,r,n,a,u);if(!(r&i)){var M=_&&X.call(e,"__wrapped__"),A=S&&X.call(t,"__wrapped__");if(M||A){var N=M?e.value():e,O=A?t.value():t;return u||(u=new ke),a(N,O,r,n,u)}}return!!E&&(u||(u=new ke),function(e,t,r,n,o,a){var s=r&i,c=Pe(e),u=c.length;if(u!=Pe(t).length&&!s)return!1;for(var l=u;l--;){var d=c[l];if(!(s?d in t:X.call(t,d)))return!1}var h=a.get(e);if(h&&a.get(t))return h==t;var p=!0;a.set(e,t),a.set(t,e);for(var f=s;++l<u;){var g=e[d=c[l]],m=t[d];if(n)var v=s?n(m,g,d,t,e,a):n(g,m,d,e,t,a);if(!(void 0===v?g===m||o(g,m,r,n,a):v)){p=!1;break}f||(f="constructor"==d)}if(p&&!f){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return a.delete(e),a.delete(t),p}(e,t,r,n,a,u))}(e,t,r,n,Oe,a))}function je(e,t,r,n,a,s){var c=r&i,u=e.length,l=t.length;if(u!=l&&!(c&&l>u))return!1;var d=s.get(e);if(d&&s.get(t))return d==t;var h=-1,p=!0,f=r&o?new Ie:void 0;for(s.set(e,t),s.set(t,e);++h<u;){var g=e[h],m=t[h];if(n)var v=c?n(m,g,h,t,e,s):n(g,m,h,e,t,s);if(void 0!==v){if(v)continue;p=!1;break}if(f){if(!F(t,(function(e,t){if(i=t,!f.has(i)&&(g===e||a(g,e,r,n,s)))return f.push(t);var i}))){p=!1;break}}else if(g!==m&&!a(g,m,r,n,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function Pe(e){return function(e,t,r){var n=t(e);return Ge(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,Ze,Le)}function Ce(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function De(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ve(e)||function(e){return!!J&&J in e}(e))&&(We(e)?ee:M).test(Ue(e))}(r)?r:void 0}Te.prototype.clear=function(){this.__data__=ge?ge(null):{},this.size=0},Te.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Te.prototype.get=function(e){var t=this.__data__;if(ge){var r=t[e];return r===n?void 0:r}return X.call(t,e)?t[e]:void 0},Te.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:X.call(t,e)},Te.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ge&&void 0===t?n:t,this},Se.prototype.clear=function(){this.__data__=[],this.size=0},Se.prototype.delete=function(e){var t=this.__data__,r=Me(t,e);return!(r<0||(r==t.length-1?t.pop():oe.call(t,r,1),--this.size,0))},Se.prototype.get=function(e){var t=this.__data__,r=Me(t,e);return r<0?void 0:t[r][1]},Se.prototype.has=function(e){return Me(this.__data__,e)>-1},Se.prototype.set=function(e,t){var r=this.__data__,n=Me(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Ee.prototype.clear=function(){this.size=0,this.__data__={hash:new Te,map:new(de||Se),string:new Te}},Ee.prototype.delete=function(e){var t=Ce(this,e).delete(e);return this.size-=t?1:0,t},Ee.prototype.get=function(e){return Ce(this,e).get(e)},Ee.prototype.has=function(e){return Ce(this,e).has(e)},Ee.prototype.set=function(e,t){var r=Ce(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Ie.prototype.add=Ie.prototype.push=function(e){return this.__data__.set(e,n),this},Ie.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.clear=function(){this.__data__=new Se,this.size=0},ke.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},ke.prototype.get=function(e){return this.__data__.get(e)},ke.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Se){var n=r.__data__;if(!de||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ee(n)}return r.set(e,t),this.size=r.size,this};var Le=se?function(e){return null==e?[]:(e=Object(e),function(t){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];s=a,ie.call(e,s)&&(o[i++]=a)}var s;return o}(se(e)))}:function(){return[]},Re=Ae;function Be(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||A.test(e))&&e>-1&&e%1==0&&e<t}function Ue(e){if(null!=e){try{return Q.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Fe(e,t){return e===t||e!=e&&t!=t}(le&&Re(new le(new ArrayBuffer(1)))!=k||de&&Re(new de)!=g||he&&Re(he.resolve())!=b||pe&&Re(new pe)!=x||fe&&Re(new fe)!=E)&&(Re=function(e){var t=Ae(e),r=t==y?e.constructor:void 0,n=r?Ue(r):"";if(n)switch(n){case me:return k;case ve:return g;case ye:return b;case be:return x;case _e:return E}return t});var ze=Ne(function(){return arguments}())?Ne:function(e){return Ye(e)&&X.call(e,"callee")&&!ie.call(e,"callee")},Ge=Array.isArray,He=ce||function(){return!1};function We(e){if(!Ve(e))return!1;var t=Ae(e);return t==p||t==f||t==u||t==_}function $e(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Ve(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ye(e){return null!=e&&"object"==typeof e}var qe=U?function(e){return function(t){return e(t)}}(U):function(e){return Ye(e)&&$e(e.length)&&!!N[Ae(e)]};function Ze(e){return null!=(t=e)&&$e(t.length)&&!We(t)?function(e){var t=Ge(e),r=!t&&ze(e),n=!t&&!r&&He(e),i=!t&&!r&&!n&&qe(e),o=t||r||n||i,a=o?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],s=a.length;for(var c in e)!X.call(e,c)||o&&("length"==c||n&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Be(c,s))||a.push(c);return a}(e):function(e){if(r=(t=e)&&t.constructor,t!==("function"==typeof r&&r.prototype||q))return ue(e);var t,r,n=[];for(var i in Object(e))X.call(e,i)&&"constructor"!=i&&n.push(i);return n}(e);var t}e.exports=function(e,t){return Oe(e,t)}},4930:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object AsyncFunction]",s="[object Function]",c="[object GeneratorFunction]",u="[object Null]",l="[object Object]",d="[object Proxy]",h="[object Undefined]",p=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[o]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g[s]=g["[object Map]"]=g["[object Number]"]=g[l]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1;var m,v,y,b="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,_="object"==typeof self&&self&&self.Object===Object&&self,w=b||_||Function("return this")(),x=t&&!t.nodeType&&t,T=x&&e&&!e.nodeType&&e,S=T&&T.exports===x,E=S&&b.process,I=function(){try{return T&&T.require&&T.require("util").types||E&&E.binding&&E.binding("util")}catch(e){}}(),k=I&&I.isTypedArray,M=Array.prototype,A=Function.prototype,N=Object.prototype,O=w["__core-js_shared__"],j=A.toString,P=N.hasOwnProperty,C=(m=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",D=N.toString,L=j.call(Object),R=RegExp("^"+j.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=S?w.Buffer:void 0,U=w.Symbol,F=w.Uint8Array,z=(B&&B.allocUnsafe,v=Object.getPrototypeOf,y=Object,function(e){return v(y(e))}),G=Object.create,H=N.propertyIsEnumerable,W=M.splice,$=U?U.toStringTag:void 0,V=function(){try{var e=he(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Y=B?B.isBuffer:void 0,q=Math.max,Z=Date.now,Q=he(w,"Map"),X=he(Object,"create"),J=function(){function e(){}return function(t){if(!Se(t))return{};if(G)return G(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function K(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ee(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function te(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function re(e){var t=this.__data__=new ee(e);this.size=t.size}function ne(e,t,r){(void 0!==r&&!ve(e[t],r)||void 0===r&&!(t in e))&&ae(e,t,r)}function ie(e,t,r){var n=e[t];P.call(e,t)&&ve(n,r)&&(void 0!==r||t in e)||ae(e,t,r)}function oe(e,t){for(var r=e.length;r--;)if(ve(e[r][0],t))return r;return-1}function ae(e,t,r){"__proto__"==t&&V?V(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function se(e){return null==e?void 0===e?h:u:$&&$ in Object(e)?function(e){var t=P.call(e,$),r=e[$];try{e[$]=void 0;var n=!0}catch(e){}var i=D.call(e);return n&&(t?e[$]=r:delete e[$]),i}(e):function(e){return D.call(e)}(e)}function ce(e){return Ee(e)&&se(e)==o}function ue(e,t,r,n,i){e!==t&&function(e,t,r){for(var n=-1,i=Object(e),o=r(e),a=o.length;a--;){var s=o[++n];if(!1===t(i[s],s))break}}(t,(function(o,a){if(i||(i=new re),Se(o))!function(e,t,r,n,i,o,a){var s=ge(e,r),c=ge(t,r),u=a.get(c);if(u)ne(e,r,u);else{var d,h,p,f,g,m=o?o(s,c,r+"",e,t,a):void 0,v=void 0===m;if(v){var y=be(c),b=!y&&we(c),_=!y&&!b&&Ie(c);m=c,y||b||_?be(s)?m=s:Ee(g=s)&&_e(g)?m=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(s):b?(v=!1,m=function(e){return e.slice()}(c)):_?(v=!1,f=new(p=(d=c).buffer).constructor(p.byteLength),new F(f).set(new F(p)),h=f,m=new d.constructor(h,d.byteOffset,d.length)):m=[]:function(e){if(!Ee(e)||se(e)!=l)return!1;var t=z(e);if(null===t)return!0;var r=P.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&j.call(r)==L}(c)||ye(c)?(m=s,ye(s)?m=function(e){return function(e,t,r){var n=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=void 0;void 0===s&&(s=e[a]),n?ae(r,a,s):ie(r,a,s)}return r}(e,ke(e))}(s):Se(s)&&!xe(s)||(m=function(e){return"function"!=typeof e.constructor||fe(e)?{}:J(z(e))}(c))):v=!1}v&&(a.set(c,m),i(m,c,n,o,a),a.delete(c)),ne(e,r,m)}}(e,t,a,r,ue,n,i);else{var s=n?n(ge(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),ne(e,a,s)}}),ke)}K.prototype.clear=function(){this.__data__=X?X(null):{},this.size=0},K.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},K.prototype.get=function(e){var t=this.__data__;if(X){var r=t[e];return r===n?void 0:r}return P.call(t,e)?t[e]:void 0},K.prototype.has=function(e){var t=this.__data__;return X?void 0!==t[e]:P.call(t,e)},K.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=X&&void 0===t?n:t,this},ee.prototype.clear=function(){this.__data__=[],this.size=0},ee.prototype.delete=function(e){var t=this.__data__,r=oe(t,e);return!(r<0||(r==t.length-1?t.pop():W.call(t,r,1),--this.size,0))},ee.prototype.get=function(e){var t=this.__data__,r=oe(t,e);return r<0?void 0:t[r][1]},ee.prototype.has=function(e){return oe(this.__data__,e)>-1},ee.prototype.set=function(e,t){var r=this.__data__,n=oe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},te.prototype.clear=function(){this.size=0,this.__data__={hash:new K,map:new(Q||ee),string:new K}},te.prototype.delete=function(e){var t=de(this,e).delete(e);return this.size-=t?1:0,t},te.prototype.get=function(e){return de(this,e).get(e)},te.prototype.has=function(e){return de(this,e).has(e)},te.prototype.set=function(e,t){var r=de(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},re.prototype.clear=function(){this.__data__=new ee,this.size=0},re.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},re.prototype.get=function(e){return this.__data__.get(e)},re.prototype.has=function(e){return this.__data__.has(e)},re.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ee){var n=r.__data__;if(!Q||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new te(n)}return r.set(e,t),this.size=r.size,this};var le=V?function(e,t){return V(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:Ne;function de(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function he(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Se(e)||function(e){return!!C&&C in e}(e))&&(xe(e)?R:p).test(function(e){if(null!=e){try{return j.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(r)?r:void 0}function pe(e,t){var r=typeof e;return!!(t=null==t?i:t)&&("number"==r||"symbol"!=r&&f.test(e))&&e>-1&&e%1==0&&e<t}function fe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||N)}function ge(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var me=function(e){var t=0,r=0;return function(){var n=Z(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(le);function ve(e,t){return e===t||e!=e&&t!=t}var ye=ce(function(){return arguments}())?ce:function(e){return Ee(e)&&P.call(e,"callee")&&!H.call(e,"callee")},be=Array.isArray;function _e(e){return null!=e&&Te(e.length)&&!xe(e)}var we=Y||function(){return!1};function xe(e){if(!Se(e))return!1;var t=se(e);return t==s||t==c||t==a||t==d}function Te(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Se(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ee(e){return null!=e&&"object"==typeof e}var Ie=k?function(e){return function(t){return e(t)}}(k):function(e){return Ee(e)&&Te(e.length)&&!!g[se(e)]};function ke(e){return _e(e)?function(e){var t=be(e),r=!t&&ye(e),n=!t&&!r&&we(e),i=!t&&!r&&!n&&Ie(e),o=t||r||n||i,a=o?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],s=a.length;for(var c in e)o&&("length"==c||n&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||pe(c,s))||a.push(c);return a}(e):function(e){if(!Se(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=fe(e),r=[];for(var n in e)("constructor"!=n||!t&&P.call(e,n))&&r.push(n);return r}(e)}var Me,Ae=(Me=function(e,t,r){ue(e,t,r)},function(e){return me(function(e,t,r){return t=q(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=q(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,s)}}(e,void 0,Ne),e+"")}((function(e,t){var r=-1,n=t.length,i=n>1?t[n-1]:void 0,o=n>2?t[2]:void 0;for(i=Me.length>3&&"function"==typeof i?(n--,i):void 0,o&&function(e,t,r){if(!Se(r))return!1;var n=typeof t;return!!("number"==n?_e(r)&&pe(t,r.length):"string"==n&&t in r)&&ve(r[t],e)}(t[0],t[1],o)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var a=t[r];a&&Me(e,a,r)}return e})));function Ne(e){return e}e.exports=Ae},8550:(e,t,r)=>{var n="Expected a function",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,l="object"==typeof self&&self&&self.Object===Object&&self,d=u||l||Function("return this")(),h=Object.prototype.toString,p=Math.max,f=Math.min,g=function(){return d.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=a.test(e);return r||s.test(e)?c(e.slice(2),r?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,r){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError(n);return m(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),function(e,t,r){var i,o,a,s,c,u,l=0,d=!1,h=!1,y=!0;if("function"!=typeof e)throw new TypeError(n);function b(t){var r=i,n=o;return i=o=void 0,l=t,s=e.apply(n,r)}function _(e){var r=e-u;return void 0===u||r>=t||r<0||h&&e-l>=a}function w(){var e=g();if(_(e))return x(e);c=setTimeout(w,function(e){var r=t-(e-u);return h?f(r,a-(e-l)):r}(e))}function x(e){return c=void 0,y&&i?b(e):(i=o=void 0,s)}function T(){var e=g(),r=_(e);if(i=arguments,o=this,u=e,r){if(void 0===c)return function(e){return l=e,c=setTimeout(w,t),d?b(e):s}(u);if(h)return c=setTimeout(w,t),b(u)}return void 0===c&&(c=setTimeout(w,t)),s}return t=v(t)||0,m(r)&&(d=!!r.leading,a=(h="maxWait"in r)?p(v(r.maxWait)||0,t):a,y="trailing"in r?!!r.trailing:y),T.cancel=function(){void 0!==c&&clearTimeout(c),l=0,i=u=o=c=void 0},T.flush=function(){return void 0===c?s:x(g())},T}(e,t,{leading:i,maxWait:t,trailing:o})}},5525:e=>{"use strict";const t=e=>"object"==typeof e&&null!==e,r=Symbol("skip"),n=e=>t(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),i=(e,t,o,a=new WeakMap)=>{if(o={deep:!1,target:{},...o},a.has(e))return a.get(e);a.set(e,o.target);const{target:s}=o;delete o.target;const c=e=>e.map((e=>n(e)?i(e,t,o,a):e));if(Array.isArray(e))return c(e);for(const[u,l]of Object.entries(e)){const d=t(u,l,e);if(d===r)continue;let[h,p,{shouldRecurse:f=!0}={}]=d;"__proto__"!==h&&(o.deep&&f&&n(p)&&(p=Array.isArray(p)?c(p):i(p,t,o,a)),s[h]=p)}return s};e.exports=(e,r,n)=>{if(!t(e))throw new TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return i(e,r,n)},e.exports.mapObjectSkip=r},1664:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e){for(var i,o,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var c in i=Object(arguments[s]))r.call(i,c)&&(a[c]=i[c]);if(t){o=t(i);for(var u=0;u<o.length;u++)n.call(i,o[u])&&(a[o[u]]=i[o[u]])}}return a}},8527:(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"==typeof i.get?i.get:null,a=n&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&c&&"function"==typeof c.get?c.get:null,l=s&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,h="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,g=Object.prototype.toString,m=Function.prototype.toString,v=String.prototype.match,y=String.prototype.slice,b=String.prototype.replace,_=String.prototype.toUpperCase,w=String.prototype.toLowerCase,x=RegExp.prototype.test,T=Array.prototype.concat,S=Array.prototype.join,E=Array.prototype.slice,I=Math.floor,k="function"==typeof BigInt?BigInt.prototype.valueOf:null,M=Object.getOwnPropertySymbols,A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,N="function"==typeof Symbol&&"object"==typeof Symbol.iterator,O="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,j=Object.prototype.propertyIsEnumerable,P=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function C(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||x.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-I(-e):I(e);if(n!==e){var i=String(n),o=y.call(t,i.length+1);return b.call(i,r,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,r,"$&_")}var D=r(3966),L=D.custom,R=G(L)?L:null;function B(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function U(e){return b.call(String(e),/"/g,"&quot;")}function F(e){return!("[object Array]"!==$(e)||O&&"object"==typeof e&&O in e)}function z(e){return!("[object RegExp]"!==$(e)||O&&"object"==typeof e&&O in e)}function G(e){if(N)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!A)return!1;try{return A.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,i,s){var c=n||{};if(W(c,"quoteStyle")&&"single"!==c.quoteStyle&&"double"!==c.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(W(c,"maxStringLength")&&("number"==typeof c.maxStringLength?c.maxStringLength<0&&c.maxStringLength!==1/0:null!==c.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var g=!W(c,"customInspect")||c.customInspect;if("boolean"!=typeof g&&"symbol"!==g)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(W(c,"indent")&&null!==c.indent&&"\t"!==c.indent&&!(parseInt(c.indent,10)===c.indent&&c.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(W(c,"numericSeparator")&&"boolean"!=typeof c.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _=c.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return Y(t,c);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var x=String(t);return _?C(t,x):x}if("bigint"==typeof t){var I=String(t)+"n";return _?C(t,I):I}var M=void 0===c.depth?5:c.depth;if(void 0===i&&(i=0),i>=M&&M>0&&"object"==typeof t)return F(t)?"[Array]":"[Object]";var L,H=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=S.call(Array(e.indent+1)," ")}return{base:r,prev:S.call(Array(t+1),r)}}(c,i);if(void 0===s)s=[];else if(V(s,t)>=0)return"[Circular]";function q(t,r,n){if(r&&(s=E.call(s)).push(r),n){var o={depth:c.depth};return W(c,"quoteStyle")&&(o.quoteStyle=c.quoteStyle),e(t,o,i+1,s)}return e(t,c,i+1,s)}if("function"==typeof t&&!z(t)){var ee=function(e){if(e.name)return e.name;var t=v.call(m.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),te=K(t,q);return"[Function"+(ee?": "+ee:" (anonymous)")+"]"+(te.length>0?" { "+S.call(te,", ")+" }":"")}if(G(t)){var re=N?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):A.call(t);return"object"!=typeof t||N?re:Z(re)}if((L=t)&&"object"==typeof L&&("undefined"!=typeof HTMLElement&&L instanceof HTMLElement||"string"==typeof L.nodeName&&"function"==typeof L.getAttribute)){for(var ne="<"+w.call(String(t.nodeName)),ie=t.attributes||[],oe=0;oe<ie.length;oe++)ne+=" "+ie[oe].name+"="+B(U(ie[oe].value),"double",c);return ne+=">",t.childNodes&&t.childNodes.length&&(ne+="..."),ne+"</"+w.call(String(t.nodeName))+">"}if(F(t)){if(0===t.length)return"[]";var ae=K(t,q);return H&&!function(e){for(var t=0;t<e.length;t++)if(V(e[t],"\n")>=0)return!1;return!0}(ae)?"["+J(ae,H)+"]":"[ "+S.call(ae,", ")+" ]"}if(function(e){return!("[object Error]"!==$(e)||O&&"object"==typeof e&&O in e)}(t)){var se=K(t,q);return"cause"in Error.prototype||!("cause"in t)||j.call(t,"cause")?0===se.length?"["+String(t)+"]":"{ ["+String(t)+"] "+S.call(se,", ")+" }":"{ ["+String(t)+"] "+S.call(T.call("[cause]: "+q(t.cause),se),", ")+" }"}if("object"==typeof t&&g){if(R&&"function"==typeof t[R]&&D)return D(t,{depth:M-i});if("symbol"!==g&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ce=[];return a&&a.call(t,(function(e,r){ce.push(q(r,t,!0)+" => "+q(e,t))})),X("Map",o.call(t),ce,H)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ue=[];return l&&l.call(t,(function(e){ue.push(q(e,t))})),X("Set",u.call(t),ue,H)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{h.call(e,h)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return Q("WeakMap");if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{h.call(e,h);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return Q("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(t))return Q("WeakRef");if(function(e){return!("[object Number]"!==$(e)||O&&"object"==typeof e&&O in e)}(t))return Z(q(Number(t)));if(function(e){if(!e||"object"!=typeof e||!k)return!1;try{return k.call(e),!0}catch(e){}return!1}(t))return Z(q(k.call(t)));if(function(e){return!("[object Boolean]"!==$(e)||O&&"object"==typeof e&&O in e)}(t))return Z(f.call(t));if(function(e){return!("[object String]"!==$(e)||O&&"object"==typeof e&&O in e)}(t))return Z(q(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if(t===r.g)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==$(e)||O&&"object"==typeof e&&O in e)}(t)&&!z(t)){var le=K(t,q),de=P?P(t)===Object.prototype:t instanceof Object||t.constructor===Object,he=t instanceof Object?"":"null prototype",pe=!de&&O&&Object(t)===t&&O in t?y.call($(t),8,-1):he?"Object":"",fe=(de||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(pe||he?"["+S.call(T.call([],pe||[],he||[]),": ")+"] ":"");return 0===le.length?fe+"{}":H?fe+"{"+J(le,H)+"}":fe+"{ "+S.call(le,", ")+" }"}return String(t)};var H=Object.prototype.hasOwnProperty||function(e){return e in this};function W(e,t){return H.call(e,t)}function $(e){return g.call(e)}function V(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function Y(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Y(y.call(e,0,t.maxStringLength),t)+n}return B(b.call(b.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,q),"single",t)}function q(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function Z(e){return"Object("+e+")"}function Q(e){return e+" { ? }"}function X(e,t,r,n){return e+" ("+t+") {"+(n?J(r,n):S.call(r,", "))+"}"}function J(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+S.call(e,","+r)+"\n"+t.prev}function K(e,t){var r=F(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=W(e,i)?t(e[i],e):""}var o,a="function"==typeof M?M(e):[];if(N){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var c in e)W(e,c)&&(r&&String(Number(c))===c&&c<e.length||N&&o["$"+c]instanceof Symbol||(x.call(/[^\w$]/,c)?n.push(t(c,e)+": "+t(e[c],e)):n.push(c+": "+t(e[c],e))));if("function"==typeof M)for(var u=0;u<a.length;u++)j.call(e,a[u])&&n.push("["+t(a[u])+"]: "+t(e[a[u]],e));return n}},6223:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,r){return 0===e&&0===r?1/e==1/r:e===r||!(!t(e)||!t(r))}},9513:(e,t,r)=>{"use strict";var n=r(5144),i=r(8179),o=r(6223),a=r(3809),s=r(2700),c=i(a(),Object);n(c,{getPolyfill:a,implementation:o,shim:s}),e.exports=c},3809:(e,t,r)=>{"use strict";var n=r(6223);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},2700:(e,t,r)=>{"use strict";var n=r(3809),i=r(5144);e.exports=function(){var e=n();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},1895:(e,t,r)=>{"use strict";var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=r(8825),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===o.call(e),n=a(e),s=t&&"[object String]"===o.call(e),h=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var f=u&&r;if(s&&e.length>0&&!i.call(e,0))for(var g=0;g<e.length;++g)h.push(String(g));if(n&&e.length>0)for(var m=0;m<e.length;++m)h.push(String(m));else for(var v in e)f&&"prototype"===v||!i.call(e,v)||h.push(String(v));if(c)for(var y=function(e){if("undefined"==typeof window||!p)return d(e);try{return d(e)}catch(e){return!1}}(e),b=0;b<l.length;++b)y&&"constructor"===l[b]||!i.call(e,l[b])||h.push(l[b]);return h}}e.exports=n},3425:(e,t,r)=>{"use strict";var n=Array.prototype.slice,i=r(8825),o=Object.keys,a=o?function(e){return o(e)}:r(1895),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?s(n.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},8825:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},8599:(e,t,r)=>{"use strict";var n=r(3425),i=r(4361)(),o=r(9343),a=Object,s=o("Array.prototype.push"),c=o("Object.prototype.propertyIsEnumerable"),u=i?Object.getOwnPropertySymbols:null;e.exports=function(e){if(null==e)throw new TypeError("target must be an object");var t=a(e);if(1===arguments.length)return t;for(var r=1;r<arguments.length;++r){var o=a(arguments[r]),l=n(o),d=i&&(Object.getOwnPropertySymbols||u);if(d)for(var h=d(o),p=0;p<h.length;++p){var f=h[p];c(o,f)&&s(l,f)}for(var g=0;g<l.length;++g){var m=l[g];if(c(o,m)){var v=o[m];t[m]=v}}}return t}},7745:(e,t,r)=>{"use strict";var n=r(5144),i=r(8179),o=r(8599),a=r(8662),s=r(3700),c=i.apply(a()),u=function(){return c(Object,arguments)};n(u,{getPolyfill:a,implementation:o,shim:s}),e.exports=u},8662:(e,t,r)=>{"use strict";var n=r(8599);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var i=Object.assign({},r),o="";for(var a in i)o+=a;return e!==o}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?n:Object.assign:n}},3700:(e,t,r)=>{"use strict";var n=r(5144),i=r(8662);e.exports=function(){var e=i();return n(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},6350:e=>{"use strict";e.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},4110:(e,t,r)=>{"use strict";e.exports=r(7134)},7134:(e,t,r)=>{"use strict";var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(4301),n.BufferWriter=r(8422),n.Reader=r(1137),n.BufferReader=r(4010),n.util=r(5382),n.rpc=r(9691),n.roots=r(381),n.configure=i,i()},1137:(e,t,r)=>{"use strict";e.exports=c;var n,i=r(5382),o=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var u,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},d=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l};function h(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw s(this,8);return new o(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}c.create=d(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return u}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return p(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|p(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},c.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){n=e,c.create=d(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},4010:(e,t,r)=>{"use strict";e.exports=o;var n=r(1137);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(5382);function o(e){n.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},381:e=>{"use strict";e.exports={}},9691:(e,t,r)=>{"use strict";t.Service=r(4447)},4447:(e,t,r)=>{"use strict";e.exports=i;var n=r(5382);function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return n.asPromise(e,s,t,r,i,o);if(s.rpcImpl)try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,r){if(e)return s.emit("error",e,t),a(e);if(null!==r){if(!(r instanceof i))try{r=i[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",r,t),a(null,r)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},5003:(e,t,r)=>{"use strict";e.exports=i;var n=r(5382);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?o:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},5382:function(e,t,r){"use strict";var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&i(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=r(6233),n.base64=r(1979),n.EventEmitter=r(3474),n.float=r(5750),n.inquire=r(1925),n.utf8=r(2971),n.pool=r(4226),n.LongBits=r(5003),n.isNode=Boolean(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),n.global=n.isNode&&r.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},4301:(e,t,r)=>{"use strict";e.exports=d;var n,i=r(5382),o=i.LongBits,a=i.base64,s=i.utf8;function c(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function u(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}var h=function(){return i.Buffer?function(){return(d.create=function(){return new n})()}:function(){return new d}};function p(e,t,r){t[r]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function m(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}d.create=h(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,r){return this.tail=this.tail.next=new c(e,t,r),this.len+=t,this},f.prototype=Object.create(c.prototype),f.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(g,10,o.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=o.from(e);return this._push(g,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(g,t.length(),t)},d.prototype.bool=function(e){return this._push(p,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=o.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var v=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(i.isString(e)){var r=d.alloc(t=a.length(e));a.decode(e,r,0),e=r}return this.uint32(t)._push(v,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(p,1,0)},d.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new c(u,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},d._configure=function(e){n=e,d.create=h(),n._configure()}},8422:(e,t,r)=>{"use strict";e.exports=o;var n=r(4301);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(5382);function o(){n.call(this)}function a(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},o._configure()},2987:(e,t,r)=>{"use strict";(n=r(1594))&&"object"==typeof n&&"default"in n&&n.default;var n,i=new(r(7290)),o=i.getBrowser(),a=(i.getCPU(),i.getDevice()),s=i.getEngine(),c=i.getOS(),u=i.getUA(),l="tablet",d=function(e){return e||(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none")},h=function(){return!("undefined"==typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},p=function(e){var t=h();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)},f=function(e){return void 0===e.type},g=function(e){return"Edge"===e.name},m=function(e){return"string"==typeof e&&-1!==e.indexOf("Edg/")},v=function(){return p("iPad")};a.type,a.type,a.type,a.type,"Mobile Safari"===o.name||v(),o.name;var y,b,_,w,x,T,S,E="mobile"===(_=a.type)||_===l||v(),I=(a.type,a.type===l||v()),k=(f(a),f(a)),M=(c.name,c.name,"iOS"===c.name||v(),o.name,o.name,o.name,o.name,o.name,b=c.version,d(b)),A=(S=c.name,d(S)),N=(function(e){var t=e.version;d(t)}(o),y=o.major,d(y),function(e){var t=e.name;return d(t)}(o));T=a.vendor,d(T),x=a.model,d(x),function(e){var t=e.name;d(t)}(s),function(e){var t=e.version;d(t)}(s),d(u),g(o)||m(u),o.name,function(e){var t=e.type;d(t,"browser")}(a),(w=h())&&(/iPad|iPhone|iPod/.test(w.platform)||"MacIntel"===w.platform&&w.maxTouchPoints>1)&&window.MSStream,v(),p("iPhone"),p("iPod"),function(){var e=h(),t=e&&e.userAgent&&e.userAgent.toLowerCase();"string"==typeof t&&/electron/.test(t)}(),m(u),g(o)&&m(u),c.name,c.name,o.name,o.name,t.C0=N,t.xl=k,t.Fr=E,t.v1=I,t.wH=A,t.B4=M},7290:function(e,t,r){var n;!function(i,o){"use strict";var a="function",s="undefined",c="object",u="string",l="major",d="model",h="name",p="type",f="vendor",g="version",m="architecture",v="console",y="mobile",b="tablet",_="smarttv",w="wearable",x="embedded",T="Amazon",S="Apple",E="ASUS",I="BlackBerry",k="Browser",M="Chrome",A="Firefox",N="Google",O="Huawei",j="LG",P="Microsoft",C="Motorola",D="Opera",L="Samsung",R="Sharp",B="Sony",U="Xiaomi",F="Zebra",z="Facebook",G="Chromium OS",H="Mac OS",W=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},$=function(e,t){return typeof e===u&&-1!==V(t).indexOf(V(e))},V=function(e){return e.toLowerCase()},Y=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,""),typeof t===s?e:e.substring(0,500)},q=function(e,t){for(var r,n,i,s,u,l,d=0;d<t.length&&!u;){var h=t[d],p=t[d+1];for(r=n=0;r<h.length&&!u&&h[r];)if(u=h[r++].exec(e))for(i=0;i<p.length;i++)l=u[++n],typeof(s=p[i])===c&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):o:this[s[0]]=l?s[1].call(this,l,s[2]):o:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):o):this[s]=l||o;d+=2}},Z=function(e,t){for(var r in t)if(typeof t[r]===c&&t[r].length>0){for(var n=0;n<t[r].length;n++)if($(t[r][n],e))return"?"===r?o:r}else if($(t[r],e))return"?"===r?o:r;return e},Q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,g],[/opios[\/ ]+([\w\.]+)/i],[g,[h,D+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[g,[h,D+" GX"]],[/\bopr\/([\w\.]+)/i],[g,[h,D]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[h,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,g],[/\bddg\/([\w\.]+)/i],[g,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[h,"UC"+k]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[h,"Smart Lenovo "+k]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+k],g],[/\bfocus\/([\w\.]+)/i],[g,[h,A+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[h,D+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[h,D+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[h,"MIUI "+k]],[/fxios\/([-\w\.]+)/i],[g,[h,A]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+k]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+k],g],[/samsungbrowser\/([\w\.]+)/i],[g,[h,L+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],g],[/metasr[\/ ]?([\d\.]+)/i],[g,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[h,g],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,z],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[h,M+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,M+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[h,"Android "+k]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[g,Z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[h,A+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[h,g],[/(cobalt)\/([\w\.]+)/i],[h,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,V]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",V]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,V]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[f,L],[p,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[f,L],[p,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[f,S],[p,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[f,S],[p,b]],[/(macintosh);/i],[d,[f,S]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[f,R],[p,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[f,O],[p,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[f,O],[p,y]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[f,U],[p,y]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[f,U],[p,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[f,"OPPO"],[p,y]],[/\b(opd2\d{3}a?) bui/i],[d,[f,"OPPO"],[p,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[f,"Vivo"],[p,y]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[f,"Realme"],[p,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[f,C],[p,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[f,C],[p,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[f,j],[p,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[f,j],[p,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[f,"Lenovo"],[p,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[f,"Nokia"],[p,y]],[/(pixel c)\b/i],[d,[f,N],[p,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[f,N],[p,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[f,B],[p,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[f,B],[p,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[f,"OnePlus"],[p,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[f,T],[p,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[f,T],[p,y]],[/(playbook);[-\w\),; ]+(rim)/i],[d,f,[p,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[f,I],[p,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[f,E],[p,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[f,E],[p,y]],[/(nexus 9)/i],[d,[f,"HTC"],[p,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[d,/_/g," "],[p,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[f,"Acer"],[p,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[f,"Meizu"],[p,y]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[f,"Ulefone"],[p,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,d,[p,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,d,[p,b]],[/(surface duo)/i],[d,[f,P],[p,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[f,"Fairphone"],[p,y]],[/(u304aa)/i],[d,[f,"AT&T"],[p,y]],[/\bsie-(\w*)/i],[d,[f,"Siemens"],[p,y]],[/\b(rct\w+) b/i],[d,[f,"RCA"],[p,b]],[/\b(venue[\d ]{2,7}) b/i],[d,[f,"Dell"],[p,b]],[/\b(q(?:mv|ta)\w+) b/i],[d,[f,"Verizon"],[p,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[f,"Barnes & Noble"],[p,b]],[/\b(tm\d{3}\w+) b/i],[d,[f,"NuVision"],[p,b]],[/\b(k88) b/i],[d,[f,"ZTE"],[p,b]],[/\b(nx\d{3}j) b/i],[d,[f,"ZTE"],[p,y]],[/\b(gen\d{3}) b.+49h/i],[d,[f,"Swiss"],[p,y]],[/\b(zur\d{3}) b/i],[d,[f,"Swiss"],[p,b]],[/\b((zeki)?tb.*\b) b/i],[d,[f,"Zeki"],[p,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],d,[p,b]],[/\b(ns-?\w{0,9}) b/i],[d,[f,"Insignia"],[p,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[f,"NextBook"],[p,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],d,[p,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],d,[p,y]],[/\b(ph-1) /i],[d,[f,"Essential"],[p,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[f,"Envizen"],[p,b]],[/\b(trio[-\w\. ]+) b/i],[d,[f,"MachSpeed"],[p,b]],[/\btu_(1491) b/i],[d,[f,"Rotor"],[p,b]],[/(shield[\w ]+) b/i],[d,[f,"Nvidia"],[p,b]],[/(sprint) (\w+)/i],[f,d,[p,y]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[f,P],[p,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[f,F],[p,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[f,F],[p,y]],[/smart-tv.+(samsung)/i],[f,[p,_]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[f,L],[p,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,j],[p,_]],[/(apple) ?tv/i],[f,[d,S+" TV"],[p,_]],[/crkey/i],[[d,M+"cast"],[f,N],[p,_]],[/droid.+aft(\w+)( bui|\))/i],[d,[f,T],[p,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[f,R],[p,_]],[/(bravia[\w ]+)( bui|\))/i],[d,[f,B],[p,_]],[/(mitv-\w{5}) bui/i],[d,[f,U],[p,_]],[/Hbbtv.*(technisat) (.*);/i],[f,d,[p,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,Y],[d,Y],[p,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,d,[p,v]],[/droid.+; (shield) bui/i],[d,[f,"Nvidia"],[p,v]],[/(playstation [345portablevi]+)/i],[d,[f,B],[p,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[f,P],[p,v]],[/((pebble))app/i],[f,d,[p,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[f,S],[p,w]],[/droid.+; (glass) \d/i],[d,[f,N],[p,w]],[/droid.+; (wt63?0{2,3})\)/i],[d,[f,F],[p,w]],[/(quest( \d| pro)?)/i],[d,[f,z],[p,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[p,x]],[/(aeobc)\b/i],[d,[f,T],[p,x]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[p,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,y]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,g],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[g,Z,Q]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,Z,Q],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,H],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,g],[/\(bb(10);/i],[g,[h,I]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[h,A+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[h,M+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,G],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,g],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,g]]},J=function(e,t){if(typeof e===c&&(t=e,e=o),!(this instanceof J))return new J(e,t).getResult();var r=typeof i!==s&&i.navigator?i.navigator:o,n=e||(r&&r.userAgent?r.userAgent:""),v=r&&r.userAgentData?r.userAgentData:o,_=t?function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}(X,t):X,w=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[h]=o,t[g]=o,q.call(t,n,_.browser),t[l]=typeof(e=t[g])===u?e.replace(/[^\d\.]/g,"").split(".")[0]:o,w&&r&&r.brave&&typeof r.brave.isBrave==a&&(t[h]="Brave"),t},this.getCPU=function(){var e={};return e[m]=o,q.call(e,n,_.cpu),e},this.getDevice=function(){var e={};return e[f]=o,e[d]=o,e[p]=o,q.call(e,n,_.device),w&&!e[p]&&v&&v.mobile&&(e[p]=y),w&&"Macintosh"==e[d]&&r&&typeof r.standalone!==s&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[d]="iPad",e[p]=b),e},this.getEngine=function(){var e={};return e[h]=o,e[g]=o,q.call(e,n,_.engine),e},this.getOS=function(){var e={};return e[h]=o,e[g]=o,q.call(e,n,_.os),w&&!e[h]&&v&&v.platform&&"Unknown"!=v.platform&&(e[h]=v.platform.replace(/chrome os/i,G).replace(/macos/i,H)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===u&&e.length>500?Y(e,500):e,this},this.setUA(n),this};J.VERSION="1.0.38",J.BROWSER=W([h,g,l]),J.CPU=W([m]),J.DEVICE=W([d,f,p,v,y,_,b,w,x]),J.ENGINE=J.OS=W([h,g]),typeof t!==s?(e.exports&&(t=e.exports=J),t.UAParser=J):r.amdO?(n=function(){return J}.call(t,r,t,e))===o||(e.exports=n):typeof i!==s&&(i.UAParser=J);var K=typeof i!==s&&(i.jQuery||i.Zepto);if(K&&!K.ua){var ee=new J;K.ua=ee.getResult(),K.ua.get=function(){return ee.getUA()},K.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var r in t)K.ua[r]=t[r]}}}("object"==typeof window?window:this)},2192:(e,t,r)=>{"use strict";r(1664);var n=r(1594),i=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,o={},u=null,l=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,n)&&!c.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:i,type:e,key:u,ref:l,props:o,_owner:a.current}}t.jsx=u,t.jsxs=u},2540:(e,t,r)=>{"use strict";e.exports=r(2192)},4207:(e,t,r)=>{"use strict";var n=r(3426),i=r(1711),o=Object;e.exports=n((function(){if(null==this||this!==o(this))throw new i("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e}),"get flags",!0)},9353:(e,t,r)=>{"use strict";var n=r(5144),i=r(8179),o=r(4207),a=r(2318),s=r(2156),c=i(a());n(c,{getPolyfill:a,implementation:o,shim:s}),e.exports=c},2318:(e,t,r)=>{"use strict";var n=r(4207),i=r(5144).supportsDescriptors,o=Object.getOwnPropertyDescriptor;e.exports=function(){if(i&&"gim"===/a/gim.flags){var e=o(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return n}},2156:(e,t,r)=>{"use strict";var n=r(5144).supportsDescriptors,i=r(2318),o=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,c=Object.getPrototypeOf,u=/a/;e.exports=function(){if(!n||!c)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=i(),t=c(u),r=o(t,"flags");return r&&r.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},8973:(e,t,r)=>{"use strict";var n=r(8897),i=r(9381),o=r(6900)(),a=r(1399),s=r(1711),c=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||c(t)!==t)throw new s("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,u=!0;if("length"in e&&a){var l=a(e,"length");l&&!l.configurable&&(n=!1),l&&!l.writable&&(u=!1)}return(n||u||!r)&&(o?i(e,"length",t,!0,!0):i(e,"length",t)),e}},3426:(e,t,r)=>{"use strict";var n=r(9381),i=r(6900)(),o=r(1442).functionsHaveConfigurableNames(),a=r(1711);e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");return arguments.length>2&&!!arguments[2]&&!o||(i?n(e,"name",t,!0,!0):n(e,"name",t)),e}},5317:e=>{e.exports=function(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var u=o[c];if(!s(u))return!1;var l=e[u],d=t[u];if(!1===(i=r?r.call(n,l,d,u):void 0)||void 0===i&&l!==d)return!1}return!0}},588:(e,t,r)=>{"use strict";var n=r(8897),i=r(9343),o=r(8527),a=r(1711),s=n("%WeakMap%",!0),c=n("%Map%",!0),u=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),d=i("WeakMap.prototype.has",!0),h=i("Map.prototype.get",!0),p=i("Map.prototype.set",!0),f=i("Map.prototype.has",!0),g=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new a("Side channel does not contain "+o(e))},get:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(e)return u(e,n)}else if(c){if(t)return h(t,n)}else if(r)return function(e,t){var r=g(e,t);return r&&r.value}(r,n)},has:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(e)return d(e,n)}else if(c){if(t)return f(t,n)}else if(r)return function(e,t){return!!g(e,t)}(r,n);return!1},set:function(n,i){s&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new s),l(e,n,i)):c?(t||(t=new c),p(t,n,i)):(r||(r={key:{},next:null}),function(e,t,r){var n=g(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,n,i))}};return n}},5515:(e,t,r)=>{"use strict";r.r(t),r.d(t,{snakeCase:()=>c});var n=function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function i(e){return e.toLowerCase()}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var o=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],a=/[^A-Z0-9]+/gi;function s(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce((function(e,t){return e.replace(t,r)}),e)}function c(e,t){return void 0===t&&(t={}),function(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var r=t.splitRegexp,n=void 0===r?o:r,c=t.stripRegexp,u=void 0===c?a:c,l=t.transform,d=void 0===l?i:l,h=t.delimiter,p=void 0===h?" ":h,f=s(s(e,n,"$1\0$2"),u,"\0"),g=0,m=f.length;"\0"===f.charAt(g);)g++;for(;"\0"===f.charAt(m-1);)m--;return f.slice(g,m).split("\0").map(d).join(p)}(e,n({delimiter:"."},t))}(e,n({delimiter:"_"},t))}},7330:(e,t,r)=>{"use strict";const n=r(5525),{snakeCase:i}=r(5515);function o(e,t,r){return r.shouldRecurse?{shouldRecurse:r.shouldRecurse(e,t)}:void 0}e.exports=function(e,t){return t=Object.assign({deep:!0,exclude:[],parsingOptions:{}},t),n(e,(function(e,r){return[(n=t.exclude,a=e,n.some((function(e){return"string"==typeof e?e===a:e.test(a)}))?e:i(e,t.parsingOptions)),r,o(e,r,t)];var n,a}),t)}},2824:(e,t,r)=>{"use strict";var n=r(8347),i=SyntaxError,o="object"==typeof StopIteration?StopIteration:null;e.exports=function(e){if(!o)throw new i("this environment lacks StopIteration");n.set(e,"[[Done]]",!1);var t={next:function(){var e=n.get(this,"[[Iterator]]"),t=n.get(e,"[[Done]]");try{return{done:t,value:t?void 0:e.next()}}catch(t){if(n.set(e,"[[Done]]",!0),t!==o)throw t;return{done:!0,value:void 0}}}};return n.set(t,"[[Iterator]]",e),t}},9767:(e,t,r)=>{"use strict";var n=r(9453),i=r(4267),o=r(8092),a=r(8832),s=r(8959);e.exports=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e?null:n(e)?"String":i(e)?"Number":o(e)?"Boolean":a(e)?"Symbol":s(e)?"BigInt":void 0}},5493:(e,t,r)=>{"use strict";var n=r(7174),i=r(1620),o=r(8014),a=r(5692);e.exports=function(e){if(e&&"object"==typeof e){if(n(e))return"Map";if(i(e))return"Set";if(o(e))return"WeakMap";if(a(e))return"WeakSet"}return!1}},6059:(e,t,r)=>{"use strict";var n=r(7270),i=r(2847),o=r(8179),a=r(9343),s=r(1399),c=a("Object.prototype.toString"),u=r(1432)(),l="undefined"==typeof globalThis?r.g:globalThis,d=i(),h=a("String.prototype.slice"),p=Object.getPrototypeOf,f=a("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},g={__proto__:null};n(d,u&&s&&p?function(e){var t=new l[e];if(Symbol.toStringTag in t){var r=p(t),n=s(r,Symbol.toStringTag);if(!n){var i=p(r);n=s(i,Symbol.toStringTag)}g["$"+e]=o(n.get)}}:function(e){var t=new l[e],r=t.slice||t.set;r&&(g["$"+e]=o(r))}),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!u){var t=h(c(e),8,-1);return f(d,t)>-1?t:"Object"===t&&function(e){var t=!1;return n(g,(function(r,n){if(!t)try{r(e),t=h(n,1)}catch(e){}})),t}(e)}return s?function(e){var t=!1;return n(g,(function(r,n){if(!t)try{"$"+r(e)===n&&(t=h(n,1))}catch(e){}})),t}(e):null}},1594:e=>{"use strict";e.exports=React},8210:e=>{"use strict";e.exports=ReactIs},3966:()=>{},2847:(e,t,r)=>{"use strict";var n=r(6350),i="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof i[n[t]]&&(e[e.length]=n[t]);return e}},4452:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=a(e,o(r)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=a(t,r));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},8120:(e,t,r)=>{"use strict";var n=r(1483),i=r(8761),o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(i(e)+" is not a function")}},2293:(e,t,r)=>{"use strict";var n=r(1704),i=String,o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(i(e)+" is not an object")}},9037:(e,t,r)=>{"use strict";var n=r(382),i=r(5835),o=r(7738);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},7738:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},3864:(e,t,r)=>{"use strict";var n=r(169),i=r(5835);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},2095:(e,t,r)=>{"use strict";var n=r(8389),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},382:(e,t,r)=>{"use strict";var n=r(8473);e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},3145:(e,t,r)=>{"use strict";var n=r(8389),i=r(1704),o=n.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},9966:e=>{"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},6170:(e,t,r)=>{"use strict";var n,i,o=r(8389),a=r(9966),s=o.process,c=o.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(i=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},8473:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},274:(e,t,r)=>{"use strict";var n=r(8473);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},1807:(e,t,r)=>{"use strict";var n=r(274),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},2048:(e,t,r)=>{"use strict";var n=r(382),i=r(5755),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),c=s&&"something"===function(){}.name,u=s&&(!n||n&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},4762:(e,t,r)=>{"use strict";var n=r(274),i=Function.prototype,o=i.call,a=n&&i.bind.bind(o,o);e.exports=n?a:function(e){return function(){return o.apply(e,arguments)}}},1409:(e,t,r)=>{"use strict";var n=r(8389),i=r(1483);e.exports=function(e,t){return arguments.length<2?(r=n[e],i(r)?r:void 0):n[e]&&n[e][t];var r}},2564:(e,t,r)=>{"use strict";var n=r(8120),i=r(5983);e.exports=function(e,t){var r=e[t];return i(r)?void 0:n(r)}},8389:function(e,t,r){"use strict";var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},5755:(e,t,r)=>{"use strict";var n=r(4762),i=r(2347),o=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},1507:e=>{"use strict";e.exports={}},1799:(e,t,r)=>{"use strict";var n=r(382),i=r(8473),o=r(3145);e.exports=!n&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7268:(e,t,r)=>{"use strict";var n=r(4762),i=r(1483),o=r(1831),a=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},4483:(e,t,r)=>{"use strict";var n,i,o,a=r(4644),s=r(8389),c=r(1704),u=r(9037),l=r(5755),d=r(1831),h=r(5409),p=r(1507),f="Object already initialized",g=s.TypeError,m=s.WeakMap;if(a||d.state){var v=d.state||(d.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,n=function(e,t){if(v.has(e))throw new g(f);return t.facade=e,v.set(e,t),t},i=function(e){return v.get(e)||{}},o=function(e){return v.has(e)}}else{var y=h("state");p[y]=!0,n=function(e,t){if(l(e,y))throw new g(f);return t.facade=e,u(e,y,t),t},i=function(e){return l(e,y)?e[y]:{}},o=function(e){return l(e,y)}}e.exports={set:n,get:i,has:o,enforce:function(e){return o(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=i(t)).type!==e)throw new g("Incompatible receiver, "+e+" required");return r}}}},1483:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},5983:e=>{"use strict";e.exports=function(e){return null==e}},1704:(e,t,r)=>{"use strict";var n=r(1483);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},9557:e=>{"use strict";e.exports=!1},1423:(e,t,r)=>{"use strict";var n=r(1409),i=r(1483),o=r(4815),a=r(5022),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&o(t.prototype,s(e))}},169:(e,t,r)=>{"use strict";var n=r(4762),i=r(8473),o=r(1483),a=r(5755),s=r(382),c=r(2048).CONFIGURABLE,u=r(7268),l=r(4483),d=l.enforce,h=l.get,p=String,f=Object.defineProperty,g=n("".slice),m=n("".replace),v=n([].join),y=s&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),b=String(String).split("String"),_=e.exports=function(e,t,r){"Symbol("===g(p(t),0,7)&&(t="["+m(p(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!a(e,"name")||c&&e.name!==t)&&(s?f(e,"name",{value:t,configurable:!0}):e.name=t),y&&r&&a(r,"arity")&&e.length!==r.arity&&f(e,"length",{value:r.arity});try{r&&a(r,"constructor")&&r.constructor?s&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=d(e);return a(n,"source")||(n.source=v(b,"string"==typeof t?t:"")),e};Function.prototype.toString=_((function(){return o(this)&&h(this).source||u(this)}),"toString")},5835:(e,t,r)=>{"use strict";var n=r(382),i=r(1799),o=r(3896),a=r(2293),s=r(3815),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",p="writable";t.f=n?o?function(e,t,r){if(a(e),t=s(t),a(r),"function"==typeof e&&"prototype"===t&&"value"in r&&p in r&&!r[p]){var n=l(e,t);n&&n[p]&&(e[t]=r.value,r={configurable:h in r?r[h]:n[h],enumerable:d in r?r[d]:n[d],writable:!1})}return u(e,t,r)}:u:function(e,t,r){if(a(e),t=s(t),a(r),i)try{return u(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},4815:(e,t,r)=>{"use strict";var n=r(4762);e.exports=n({}.isPrototypeOf)},348:(e,t,r)=>{"use strict";var n=r(1807),i=r(1483),o=r(1704),a=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&i(r=e.toString)&&!o(s=n(r,e)))return s;if(i(r=e.valueOf)&&!o(s=n(r,e)))return s;if("string"!==t&&i(r=e.toString)&&!o(s=n(r,e)))return s;throw new a("Can't convert object to primitive value")}},6653:(e,t,r)=>{"use strict";var n=r(2293);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},3312:(e,t,r)=>{"use strict";var n=r(5983),i=TypeError;e.exports=function(e){if(n(e))throw new i("Can't call method on "+e);return e}},5409:(e,t,r)=>{"use strict";var n=r(7255),i=r(1866),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},1831:(e,t,r)=>{"use strict";var n=r(9557),i=r(8389),o=r(2095),a="__core-js_shared__",s=e.exports=i[a]||o(a,{});(s.versions||(s.versions=[])).push({version:"3.36.1",mode:n?"pure":"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.1/LICENSE",source:"https://github.com/zloirock/core-js"})},7255:(e,t,r)=>{"use strict";var n=r(1831);e.exports=function(e,t){return n[e]||(n[e]=t||{})}},6029:(e,t,r)=>{"use strict";var n=r(6170),i=r(8473),o=r(8389).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},2347:(e,t,r)=>{"use strict";var n=r(3312),i=Object;e.exports=function(e){return i(n(e))}},2355:(e,t,r)=>{"use strict";var n=r(1807),i=r(1704),o=r(1423),a=r(2564),s=r(348),c=r(1),u=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var r,c=a(e,l);if(c){if(void 0===t&&(t="default"),r=n(c,e,t),!i(r)||o(r))return r;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},3815:(e,t,r)=>{"use strict";var n=r(2355),i=r(1423);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},8761:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},1866:(e,t,r)=>{"use strict";var n=r(4762),i=0,o=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},5022:(e,t,r)=>{"use strict";var n=r(6029);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3896:(e,t,r)=>{"use strict";var n=r(382),i=r(8473);e.exports=n&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4644:(e,t,r)=>{"use strict";var n=r(8389),i=r(1483),o=n.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},1:(e,t,r)=>{"use strict";var n=r(8389),i=r(7255),o=r(5755),a=r(1866),s=r(6029),c=r(5022),u=n.Symbol,l=i("wks"),d=c?u.for||u:u&&u.withoutSetter||a;e.exports=function(e){return o(l,e)||(l[e]=s&&o(u,e)?u[e]:d("Symbol."+e)),l[e]}},2553:(e,t,r)=>{"use strict";var n=r(8389),i=r(382),o=r(3864),a=r(6653),s=r(8473),c=n.RegExp,u=c.prototype;i&&s((function(){var e=!0;try{c(".","d")}catch(t){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(e,n){Object.defineProperty(t,e,{get:function(){return r+=n,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in e&&(o.hasIndices="d"),o)i(a,o[a]);return Object.getOwnPropertyDescriptor(u,"flags").get.call(t)!==n||r!==n}))&&o(u,"flags",{configurable:!0,get:a})},8418:(e,t,r)=>{"use strict";var n=r(5456),i=r(2824);if(r(4923)()||r(4361)()){var o=Symbol.iterator;e.exports=function(e){return null!=e&&void 0!==e[o]?e[o]():n(e)?Array.prototype[o].call(e):void 0}}else{var a=r(9134),s=r(9453),c=r(8897),u=c("%Map%",!0),l=c("%Set%",!0),d=r(9343),h=d("Array.prototype.push"),p=d("String.prototype.charCodeAt"),f=d("String.prototype.slice"),g=function(e){var t=0;return{next:function(){var r,n=t>=e.length;return n||(r=e[t],t+=1),{done:n,value:r}}}},m=function(e,t){if(a(e)||n(e))return g(e);if(s(e)){var r=0;return{next:function(){var t=function(e,t){if(t+1>=e.length)return t+1;var r=p(e,t);if(r<55296||r>56319)return t+1;var n=p(e,t+1);return n<56320||n>57343?t+1:t+2}(e,r),n=f(e,r,t);return r=t,{done:t>e.length,value:n}}}}return t&&void 0!==e["_es6-shim iterator_"]?e["_es6-shim iterator_"]():void 0};if(u||l){var v=r(7174),y=r(1620),b=d("Map.prototype.forEach",!0),_=d("Set.prototype.forEach",!0);if("undefined"==typeof process||!process.versions||!process.versions.node)var w=d("Map.prototype.iterator",!0),x=d("Set.prototype.iterator",!0);var T=d("Map.prototype.@@iterator",!0)||d("Map.prototype._es6-shim iterator_",!0),S=d("Set.prototype.@@iterator",!0)||d("Set.prototype._es6-shim iterator_",!0);e.exports=function(e){return function(e){if(v(e)){if(w)return i(w(e));if(T)return T(e);if(b){var t=[];return b(e,(function(e,r){h(t,[r,e])})),g(t)}}if(y(e)){if(x)return i(x(e));if(S)return S(e);if(_){var r=[];return _(e,(function(e){h(r,e)})),g(r)}}}(e)||m(e)}}else e.exports=function(e){if(null!=e)return m(e,!0)}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{"use strict";const e={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let t;const r=new Uint8Array(16);function n(){if(!t&&(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!t))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(r)}const i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));const o=function(t,r,o){if(e.randomUUID&&!r&&!t)return e.randomUUID();const a=(t=t||{}).random||(t.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,r){o=o||0;for(let e=0;e<16;++e)r[o+e]=a[e];return r}return function(e,t=0){return i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]}(a)};var a={sessionId:o(),documentLoaded(e){return{kind:"document_loaded",info:{publicationId:e.publicationId,revisionId:e.revisionId,creatorUserId:e.creatorUserId,creatorOwnerId:e.creatorOwnerId,visitSource:e.readerEndpoint,url:e.url,document_read_id:this.sessionId,is_document_gated:e.isDocumentGated,...e.referrerUrl&&{referrer_url:e.referrerUrl}}}},interactionHappened(e){return{kind:"interaction_happened",info:{visitSource:e.readerEndpoint,document_read_id:this.sessionId}}},pageChanged(e){return{kind:"page_changed",info:{visitSource:e.readerEndpoint,document_read_id:this.sessionId}}},leadGenerationFormDisplayed(e){return{kind:"lead_generation_form_displayed",info:{publication_id:e.publicationId,creator_user_id:e.creatorUserId,creator_owner_id:e.creatorOwnerId,lead_generation_form_is_mandatory:e.isMandatory,document_read_id:this.sessionId}}},leadGenerationFormSubmitted(e){return{kind:"lead_generation_form_submitted",info:{publication_id:e.publicationId,creator_user_id:e.creatorUserId,creator_owner_id:e.creatorOwnerId,lead_generation_form_submitted_email:e.email,lead_generation_form_submitted_name:e.name,document_read_id:this.sessionId}}},leadGenerationFormDismissed(e){return{kind:"lead_generation_form_dismissed",info:{publication_id:e.publicationId,creator_user_id:e.creatorUserId,creator_owner_id:e.creatorOwnerId,document_read_id:this.sessionId}}},stackCreateButtonClicked(e){return{kind:"stack_create_button_clicked",info:{is_unlisted:e.isUnlisted,stack_id:e.stackId,document_read_id:this.sessionId}}},readerDownloadButtonClicked(){return{kind:"reader_download_button_clicked",info:{document_read_id:this.sessionId}}},readerAddToStackButtonClicked(){return{kind:"reader_add_to_stack_button_clicked",info:{document_read_id:this.sessionId}}},stackFlipbookAddButtonClicked(e){var[t,r]=e.documentId?.split("-")??[];return{kind:"stack_flipbook_add_button_clicked",info:{document_read_id:this.sessionId,stack_add_button_location:"reader_view",stack_id:e.stackId,...r&&{publication_id:r},...t&&{revision_id:t}}}}};function s(){return o()}var c="iutk",u=null;function l(){if("undefined"!=typeof document&&void 0!==document.cookie){var e=document.cookie.split(";").filter((e=>e.includes(`${c}=`)));if(e.length)return e[0].split("=")[1].trim()}return null}function d(){if("undefined"!=typeof document&&void 0!==document.cookie){var e=document.cookie.split(";").map((e=>e.trim())).filter((e=>e.startsWith("iutk=")));if(e.length)return e[0].split("=")[1].trim()}return null}var h=null;function p(){if(null===h){var e;try{null===(e=d())&&(function(){var e=s(),t=function(){if("undefined"!=typeof document){var e=/(?:t?)issuu.com$/.exec(document.domain);return e?e[0]:null}return null}();document.cookie=`iutk=${e}${t?`;domain=${t}`:""};path=/;max-age=15552000;samesite=none;secure`}(),e=d())}catch{e=null}h=null===e?"00000000-0000-0000-0000-000000000000":e}return h}class f extends Error{constructor(e,t,r){super("Unable to send request"),this.url=e,this.options=t,this.nativeError=r}}class g extends Error{constructor(e,t,r,n){super(e),this.url=t,this.httpStatus=r,this.value=n}}class m extends Error{constructor(e){super("The request was aborted due to timeout"),this.url=e}}class v extends Error{constructor(e,t,r){super("Unable to decode response as json string"),this.url=e,this.nativeError=t,this.nativeErrorMessage=r}}var y,b=__webpack_require__(8668),_=__webpack_require__.n(b),w={error:_()("@issuu/request:error"),info:_()("@issuu/request:info")};w.info.log=console.log.bind(console);try{y=!0}catch(e){y=!0}var x=e=>Object.entries(e).reduce(((e,t)=>{var[r,n]=t;return null!=n&&e.push(`${r}=${n}`),e}),[]).join("; "),T=e=>Object.entries(e).map((e=>{var[t,r]=e;return null!=r?`${encodeURIComponent(t)}=${encodeURIComponent(r)}`:""})).join("&"),S=e=>T(e).replace(/%20/g,"+");function E(e,t){var r=Date.now(),n=t.method,i=t.cookies||{};if(t.req&&t.req.cookies){var o=t.req.cookies;for(var a of(i={...i,"site.model.username":o["site.model.username"],"site.model.token":o["site.model.token"],iutk:o.iutk},Object.keys(o).filter((e=>e.startsWith("x-issuu-")))))i[a]=o[a]}var s,c="nativeProperty"===t.forwardOriginatingIp?t.req?.ip:"customHeader"===t.forwardOriginatingIp?t.req?.headers["x-forwarded-for"]:void 0,u=t.forwardOriginalRequestedHost?t.req?.hostname:void 0,l=Object.fromEntries(Object.entries({"x-forwarded-for":c,"x-forwarded-host":u,Cookie:x(i),"Content-Type":"GET"!==n&&"formdata"===t.bodyType?void 0:"GET"!==n&&"urlencoded"===t.bodyType?"application/x-www-form-urlencoded":"application/json",...t.headers}).filter((e=>"string"==typeof e[1]&&!!e[1]))),d=e;if("GET"===n&&(t.body||t.noCache)){var h=t.body||{};t.noCache&&(h={...h,_:Date.now()}),d=e.indexOf("?")>-1?`${e}&${T(h)}`:`${e}?${T(h)}`}"GET"!==n&&(s="urlencoded"===t.bodyType?S(t.body||{}):"formdata"===t.bodyType||"jsonstring"===t.bodyType?t.body:JSON.stringify(t.body||{}));var p="undefined"!=typeof AbortController?new AbortController:void 0,b=t.timeout||(y?4e3:void 0),_=b?p?.signal:void 0,E=b?setTimeout((()=>{p?.abort()}),b):void 0,I={credentials:"same-origin",method:n,headers:l,body:s,signal:_},k=!1!==t.log;return fetch(d,I).catch((e=>(k&&w.error(`${n} ${d} ERROR_REQUEST ${e.message}`),"AbortError"===e.name?Promise.reject(new m(d)):Promise.reject(new f(d,t,e))))).then((e=>e.text().then((t=>{if(!e.ok){k&&w.error(`${n} ${d} ${e.status}: ${e.statusText}, response: %o`,t);var r=(e=>{try{return JSON.parse(e)}catch(t){if(e)return e}})(t),i="string"==typeof r?r:`${e.status} ${e.statusText}`,o=new g(i,d,e.status,r);return Promise.reject(o)}return t})).then((e=>{if(t.textResponse)return e;try{return JSON.parse(e)}catch(e){var r=e instanceof Error?e.message:String(e);return k&&w.error(`${n} ${d} ERROR_JSON_DECODE ${r}: %o`,e),Promise.reject(new v(d,e,r))}})).then((t=>{if(k){var i=Date.now()-r;w.info(`${n} ${d} ${e.status} ${i}ms`)}return t})))).finally((()=>E&&clearTimeout(E)))}function I(e,t){void 0===t&&(t={});var r=t.headers;return t.noCache&&(r={...r,"Cache-Control":"no-cache"}),E(e,{...t,method:"GET",headers:r})}function k(e,t){var r;return void 0===t&&(t={}),"undefined"!=typeof document&&(r=document.cookie.replace(/(?:(?:^|.*;\s*)CSRF-TOKEN\s*=\s*([^;]*).*$)|^.*$/,"$1")),t.req&&t.req.cookies&&(r=t.req.cookies["CSRF-TOKEN"]),E(e,{...t,method:t.method?t.method:"POST",headers:{"X-Csrf-Token":r,...t.headers}})}var M=e=>{var t=p();return t?{iutk:t,...e}:e};function A(e){return function(t){return(!Array.isArray(t)||0!==t.length)&&((e,t)=>{var r=`https://${t.pingbackHost}/ping`,n=new Blob([JSON.stringify(M(e))],{type:"text/plain;charset=UTF-8"}),i=!1;try{i=navigator.sendBeacon(r,n)}catch(e){}return i})({type:"monitor",version:"2.2.0",origin:"@issuu/tracking-micro-v18.0.2",data:(Array.isArray(t)?t:[t]).map((e=>({version:"1.0.0",...e})))},e)}}p();var N=window.ENV||{},O=(N.ISSUU_ENV_NAME,N.SCHEME),j=N.API_DNS,P=N.EMBED_DNS,C=N.IMAGE_DNS,D=N.MAIN_DNS,L=N.PHOTO_DNS,R=N.PINGBACK_DNS,B=N.READER3_DNS,U=(N.STATIC_DNS,N.GOOGLE_ANALYTICS_ID,N.QUANTCAST_ID);class F{_batchedQueue=[];constructor(){this._post=A({pingbackHost:R})}_queueLength=()=>this._batchedQueue.length;_addToQueue=e=>{this._batchedQueue.push({...e,version:"1.0.0"})};_startPostTimerIfNeeded=()=>{void 0===this._postBatchedTimeoutId&&(this._postBatchedTimeoutId=setTimeout((()=>{this._postAllQueued()}),2e3))};_postAllQueued=()=>{void 0!==this._postBatchedTimeoutId&&(clearTimeout(this._postBatchedTimeoutId),this._postBatchedTimeoutId=void 0),0!==this._queueLength()&&(this._post(this._batchedQueue),this._batchedQueue=[])};monitor=e=>{this._addToQueue(e),this._postAllQueued()};monitorBatched=e=>{this._addToQueue(e),this._queueLength()>=20?this._postAllQueued():this._startPostTimerIfNeeded()};flush=()=>{this._postAllQueued()}}var z=[2e3,3e3,4e3,6e3,8e3,12e3];class G{_eventsAfterDocumentRead=[];_documentReadTriggered=!1;_pageReadLastPages=null;_pageReadStartTime=Date.now();_pageReadLastEndTime=Date.now();_delays=null;constructor(e){this._readerPingbackHelper=e}_setUpPageReadTimers=()=>{this._delays=z.slice(0),this._pageReadStartTime=this._pageReadLastEndTime=Date.now(),this._startPageReadTimer()};_getReaderSize=()=>this._readerPingbackHelper._model&&this._readerPingbackHelper._model.is_fullscreen?"fullscreen":"normal";_startPageReadTimer=()=>{this._pageReadTimeTimeoutId=setTimeout((()=>{this._pageReadTimeTimeoutId=void 0,this._trackPageReadTime(),this._startPageReadTimer()}),this._getNextPageReadTimeout())};_startIdleTimer=()=>{this._idleTimeoutId=setTimeout((()=>{this._idleTimeoutId=void 0,void 0!==this._pageReadTimeTimeoutId&&(this._pageReadTimeTimeoutId&&clearTimeout(this._pageReadTimeTimeoutId),this._pageReadTimeTimeoutId=void 0,this._trackPageReadTime())}),6e5)};_resetIdleTimer=()=>{void 0!==this._idleTimeoutId?(this._idleTimeoutId&&clearTimeout(this._idleTimeoutId),this._idleTimeoutId=void 0):this._readerPingbackHelper.viewportHasUserAttention()&&(this._pageReadLastEndTime=(new Date).getTime(),this._delays?this._startPageReadTimer():this._setUpPageReadTimers()),this._startIdleTimer()};_clearTimers=()=>{void 0!==this._idleTimeoutId&&(this._idleTimeoutId&&clearTimeout(this._idleTimeoutId),this._idleTimeoutId=void 0),void 0!==this._pageReadTimeTimeoutId&&(this._pageReadTimeTimeoutId&&clearTimeout(this._pageReadTimeTimeoutId),this._pageReadTimeTimeoutId=void 0,this._trackPageReadTime()),void 0!==this._documentReadTimeoutId&&(this._documentReadTimeoutId&&clearTimeout(this._documentReadTimeoutId),this._documentReadTimeoutId=void 0)};_getNextPageReadTimeout=()=>{var e=this._delays?this._delays.shift():NaN;if(void 0===e||isNaN(e)){var t=z.length;return z[t-1]+.2*((new Date).getTime()-this._pageReadStartTime)}return e};_trackDocumentImpression=()=>{this._readerPingbackHelper.updateSignal({type:"document_impression"}),this._readerPingbackHelper.timeoutPingback()};_trackDocumentRead=()=>{for(;this._eventsAfterDocumentRead.length>0;)this._readerPingbackHelper.updateSignal(this._eventsAfterDocumentRead.shift());this._readerPingbackHelper.updateSignal({type:"document_read"}),this._readerPingbackHelper.executePingback(),this._documentReadTriggered=!0,this._documentReadTimeoutId=void 0};_trackPageImpression=e=>{e.forEach((e=>{this._readerPingbackHelper.updateSignal({type:"page_impression",page:e})})),this._readerPingbackHelper.timeoutPingback()};_maybeTrackPageRead=()=>{var e=this._readerPingbackHelper.getCurrentPages(),t=JSON.stringify(e);this._pageReadLastPages!==t&&(this._pageReadLastPages=t,e.forEach((e=>{var t={type:"page_read_v2",page:e,reader_size:this._getReaderSize()};this._documentReadTriggered?this._readerPingbackHelper.updateSignal(t):this._eventsAfterDocumentRead.push(t)})),this._readerPingbackHelper.timeoutPingback())};_trackPageReadTime=()=>{var e=(new Date).getTime(),t=this._readerPingbackHelper.getCurrentPages(),r=Math.floor((e-this._pageReadLastEndTime)/t.length);r<=0||(t.forEach((e=>{var t={type:"page_read_time_v2",time_increment:r,page:e,reader_size:this._getReaderSize()};this._documentReadTriggered?this._readerPingbackHelper.updateSignal(t):this._eventsAfterDocumentRead.push(t)})),this._pageReadLastEndTime=e,this._readerPingbackHelper.timeoutPingback())};_maybeStartDocumentReadTimer=()=>{void 0!==this._documentReadTimeoutId||this._documentReadTriggered||(this._documentReadTimeoutId=setTimeout((()=>{this._trackDocumentRead()}),2e3))};documentLoad=e=>{this._readerPingbackHelper.initializeModel(e),this._trackDocumentImpression(),this._trackPageImpression(e.pages),this._readerPingbackHelper.viewportHasUserAttention()&&(this._maybeStartDocumentReadTimer(),this._maybeTrackPageRead(),this._setUpPageReadTimers()),this._startIdleTimer()};documentUnLoad=()=>{this.flush(),this._readerPingbackHelper.clearModel()};userInteracted=()=>{this._readerPingbackHelper.updateModelOnUserInteracted(),this._resetIdleTimer(),this._readerPingbackHelper.viewportHasUserAttention()&&(this._maybeStartDocumentReadTimer(),this._maybeTrackPageRead(),this._setUpPageReadTimers()),void 0!==this._documentReadTimeoutId&&(this._documentReadTimeoutId&&clearTimeout(this._documentReadTimeoutId),this._documentReadTimeoutId=void 0,this._trackDocumentRead())};pageChange=e=>{this._resetIdleTimer(),void 0!==this._documentReadTimeoutId&&(this._documentReadTimeoutId&&clearTimeout(this._documentReadTimeoutId),this._documentReadTimeoutId=void 0,this._trackDocumentRead()),void 0!==this._pageReadTimeTimeoutId&&(this._pageReadTimeTimeoutId&&clearTimeout(this._pageReadTimeTimeoutId),this._pageReadTimeTimeoutId=void 0,this._trackPageReadTime()),this._readerPingbackHelper.updateModelOnPageChange(e),this._trackPageImpression(e.pages),this._readerPingbackHelper.viewportHasUserAttention()&&(this._maybeTrackPageRead(),this._setUpPageReadTimers())};zoom=()=>{this._resetIdleTimer()};resize=e=>{this._resetIdleTimer(),this._readerPingbackHelper.updateModelOnResize(e),this._readerPingbackHelper.viewportHasUserAttention()?(this._maybeStartDocumentReadTimer(),void 0===this._pageReadTimeTimeoutId&&this._setUpPageReadTimers(),this._maybeTrackPageRead()):(this._documentReadTimeoutId&&(clearTimeout(this._documentReadTimeoutId),this._documentReadTimeoutId=void 0),this._pageReadTimeTimeoutId&&(clearTimeout(this._pageReadTimeTimeoutId),this._pageReadTimeTimeoutId=void 0,this._trackPageReadTime()))};flush=()=>{this._clearTimers(),this._eventsAfterDocumentRead=[],this._readerPingbackHelper.executePingback()}}class H{constructor(e){this._readerPingbackHelper=e}clippingAction=e=>{this._readerPingbackHelper.updateSignal(e),this._readerPingbackHelper.timeoutPingback()}}function W(e){return{version:"1.3.3",username:e.getUsername(),ui_language:e.getLanguage(),location:e.getLocation(),referrer:e.getReferrer(),source:e.getSource(),contexts:[]}}class ${constructor(e,t,r){this._wrapper=e,this._post=t,this._environment=r}initializeModel=e=>{this._model||(this._model={doc_id:`${e.revisionId}-${e.publicationId}`,doc_creator:"user"===e.documentPath.type?e.documentPath.username:"",doc_name:"user"===e.documentPath.type?e.documentPath.documentName:"",pages:e.pages,pageNumber:e.pageNumber,ad_id:e.adpageId||null,ad_token:e.adpageToken||null,is_embed:e.isEmbed,embed_id:e.embedId||null,display_size:this._environment.getBrowserSize(),is_fullscreen:e.isFullscreen,stream_origin:e.streamOrigin||null,stream_ranking:e.streamRanking||null,user_interacted:!1,isReaderGated:e.isReaderGated})};clearModel=()=>{this.executePingback(),this._model=void 0};updateModelOnPageChange=e=>{this._model&&(this._model.pages=e.pages)};updateModelOnResize=e=>{this._model&&(this._model.display_size=e.displaySize,this._model.is_fullscreen=e.isFullscreen)};updateModelOnUserInteracted=()=>{this._model&&(this._model.user_interacted=!0)};_executePingbackIfPlatformHasChanged=()=>{var e=this._signal;if(e){var t=W(this._environment);["version","username","location","referrer","source"].find((r=>e.data[r]!==t[r]))&&this.executePingback()}};_untrackedGatedReaderEvent=e=>["document_read","document_read_v2","page_read","page_read_v2","page_read_time","page_read_time_v2"].includes(e.type);viewportHasUserAttention=()=>!!this._model&&(!this._model.is_embed||this._model.is_fullscreen||this._model.user_interacted);updateSignal=e=>{var t=this._model;if(t&&(!t.isReaderGated()||!this._untrackedGatedReaderEvent(e))){this._executePingbackIfPlatformHasChanged();var r=this._signal||{...this._wrapper.getReaderPingbackWrapper(),data:W(this._environment)};this._signal=r,function(e,t){var r=e.data.contexts.length;if(0===r)return!0;var n=!1;return["doc_id","doc_creator","doc_name","ad_id","ad_token","embed_id","display_size","stream_origin","stream_ranking"].forEach((i=>{n=n||e.data.contexts[r-1][i]!==t[i]})),n=n||e.data.contexts[r-1].pages.toString()!==t.pages.toString()}(r,t)&&r.data.contexts.push({doc_id:t.doc_id,doc_creator:t.doc_creator,doc_name:t.doc_name,pages:t.pages,ad_id:t.ad_id,ad_token:t.ad_token,embed_id:t.embed_id,display_size:t.display_size,stream_origin:t.stream_origin,stream_ranking:t.stream_ranking,events:[]});var n=r.data.contexts.length;n>0&&r.data.contexts[n-1].events.push(e)}};getCurrentPages=()=>this._model?this._model.pages:[];timeoutPingback=()=>{if(this._signal){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=void 0);for(var e=0,t=this._signal.data.contexts.length-1;t>=0;t--)e+=this._signal.data.contexts[t].events.length;e>=20?this.executePingback():this._timeoutId=setTimeout((()=>{this.executePingback()}),1500)}};executePingback=()=>{this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=void 0),this._signal&&(this._post(this._signal),this._signal=void 0)}}class V{constructor(e,t,r){this._wrapper=e,this._post=t,this._environment=r}sendSignal(e){this._post({...this._wrapper.getWebsitePingbackWrapper(),data:{version:"2.2.2",username:this._environment.getUsername(),ui_language:this._environment.getLanguage(),location:this._environment.getLocation(),referrer:this._environment.getReferrer(),contexts:[{browser_size:this._environment.getBrowserSize(),events:[e]}]}})}}class Y{constructor(e,t){this._origin=e,this._iutk=t}_getPingbackWrapper=e=>({version:"2.2.0",origin:this._origin,iutk:this._iutk,type:e});getWebsitePingbackWrapper=()=>this._getPingbackWrapper("website");getReaderPingbackWrapper=()=>this._getPingbackWrapper("reader")}class q{constructor(e){var t={getUsername:()=>e.username,getLanguage:()=>e.language,getLocation:()=>e.location,getReferrer:()=>e.referrer,getSource:()=>e.source,getWidth:()=>e.width,getHeight:()=>e.height,getBrowserSize:()=>`${t.getWidth()}x${t.getHeight()}`},r=t=>{if(!e.monitorEventsOnly||"monitor"===t.type)try{window.navigator.sendBeacon(`${e.pingbackOrigin}/ping`,new Blob([JSON.stringify(t)],{type:"text/plain;charset=UTF-8"}))}catch(e){}},n=function(){if(null===u){var e;try{null===(e=l())&&(function(){if("undefined"!=typeof document){var e=s(),t=(r=/t?issuu.com$/.exec(document.domain||""))?r[0]:null;document.cookie=`${c}=${e}${t?`;domain=${t}`:""};path=/;max-age=15552000;samesite=none;secure`}var r}(),e=l())}catch(t){e=null}u=null===e?"00000000-0000-0000-0000-000000000000":e}return u}(),i=new Y(`${e.origin}_tracking-buildin`,n),o=new $(i,r,t);this.readerEndpoint=e.readerEndpoint,this._monitorHandler=new F,this._linkHandler=new H(o),this._documentHandler=new G(o),this._websiteHandler=new V(i,r,t)}onEvent(e){switch(e.type){case"DOCUMENT_LOAD_MESSAGE":this._documentHandler.documentLoad(e.data);break;case"USER_INTERACTED_MESSAGE":this._documentHandler.userInteracted();break;case"PAGE_CHANGE_MESSAGE":this._documentHandler.pageChange(e.data);break;case"ZOOM_MESSAGE":this._documentHandler.zoom();break;case"RESIZE_MESSAGE":this._documentHandler.resize(e.data);break;case"SEND_WEBSITE_METRICS":this._websiteHandler.sendSignal(e.data);break;case"CLIPPING_ACTION_MESSAGE":this._linkHandler.clippingAction(e.data);break;case"MONITOR_BATCHED_MESSAGE":this._monitorHandler.monitorBatched(e.data);break;case"MONITOR_MESSAGE":this._monitorHandler.monitor(e.data);break;case"MONITOR_TRAFFIC_SOURCE":this._monitorHandler.monitorBatched({type:"reader3.document_impression",attributes:{readerConfig:this.readerEndpoint}});break;case"MONITOR_DROPPED_FRAMES":var t=e.data;this._monitorHandler.monitorBatched({...t,type:"reader3-dropped-frames",attributes:{engine:t.webgl?"3d":"2d",readerConfig:this.readerEndpoint}})}}}function Z(){try{return document.cookie.match(/\bsite.model.username=([^;]+);/)?.[1]||null}catch(e){return null}}var Q={products:{},remove_read_more_section_enabled:!1,share_start_on_page_enabled:!1,url_shortening_enabled:!1,lead_generation_form_enabled:!1,unlimited_carousel_enabled:!1,anon_trial_offer:{show_offer:!1},user_trial_offer:{show_offer:!1},user_paywall_increase:{show_paywalls:!1,min_interval_hours:24},city_level_stats_enabled:!1,state_level_stats_enabled:!1,skip_link_editor_promo_enabled:!1,vertical_flip:!1,teams_self_serve_enabled:!1,teams_self_serve_upgrade_enabled:!1,themes_in_reader:!1,search_experiments_enabled:!1,new_query_suggest_enabled:!1,signup_single_paywall_flow_enabled:!1,advertising_publish_page_enabled:!1,advertising_share_page_enabled:!1,mobile_custom_pdf_enabled:!1,paywall_dismiss:{category:"BUTTON"},upload_recaptcha_enabled:!1,feature_overrides_basic:{}},X=__webpack_require__(2540);function J(e){return null!=e}var K=__webpack_require__(7330);class ee extends Error{constructor(e){super(e),this.name="Error4xx"}}function te(e){async function t(t){return async function(e){if(e.status>=400&&e.status<500)throw new ee(`Received invalid response! Code: ${e.status}, Message: ${e.statusText}, Source: proxy`);let t=null;try{t=await e.json()}catch{throw new Error(`Received invalid response! Code: ${e.status}, Message: ${e.statusText}, Extra: Invalid JSON content, Source: proxy`)}if(200!==e.status){const e=(()=>{if("object"!=typeof t||!t)return{code:"",message:"Received unexpected json",extra:JSON.stringify(t)};const{error_code:e,code:r,error_message:n,message:i,extra:o}=t;return{code:e??r??"",message:n??i??"",extra:JSON.stringify(o??{})}})();throw new Error(`Received invalid response! Code: ${e.code}, Message: ${e.message}, Extra: ${e.extra}, Source: orion`)}return t}(await e.fetcher(t.url,{method:t.method,...t.body&&{body:JSON.stringify(K(t.body))},headers:{...t.body&&{"Content-Type":"application/json"},"bsp-id":e.appId}}))}return{async requestSettingsAndSegmentations(r){const n={...r,bspId:e.appId};return await t({url:`${e.baseUrl}/orion/v3/identity/settings`,body:n,method:"POST"})},async getAllExperiments(r){const n={...r,returnIncompatible:!0};return await t({url:`${e.baseUrl}/orion/v3/secret/experiments`,body:n,method:"POST"})},async forceExperimentSegmentation(r,n,i){const o=J(n)?`&segment_index=${n}`:"",a=`${e.baseUrl}/orion/v3/secret/forced-segmentation?segmentation_id_name=${i.idName}&segmentation_id=${i.idValue}&experiment_name=${r}${o}`;await t({url:a,body:{},method:J(n)?"PUT":"DELETE"})},async forceExperimentSegmentations(r){await t({url:`${e.baseUrl}/orion/v3/secret/forced-segmentations`,method:"PUT",body:{segmentations_to_force:r}})},async setSegmentationState(r,n){await t({url:`${e.baseUrl}/orion/v3/secret/segmentation-state`,method:"PUT",body:{excludeFromSegmentation:r,segmentationIdName:n}})}}}const re=class{mutex=Promise.resolve();async run(e){return new Promise(((t,r)=>{this.mutex=this.mutex.then((async()=>{try{t(await e())}catch(e){r(e)}}))}))}};async function ne(e){const t=new re,r=t=>({isDefaultIdentity:t?.isDefaultIdentity??!0,settings:{...e.defaultSettings,...t?.settings??{}},segmentations:{...e.defaultSegmentations,...t?.segmentations??{}},settingsHash:t?.settingsHash??""}),n=async e=>{const t={};for(const r in e){const n=e[r];if(void 0!==n){const e=await n();void 0!==e&&(t[r]=e)}}return t},i=async()=>await t.run((async()=>await(async()=>{if(e.shouldReturnDefaultsImmediately)return{isDefaultIdentity:!0,settings:e.defaultSettings,segmentations:e.defaultSegmentations,settingsHash:""};const[t,i]=await Promise.all([n(e.deviceAttributeGetters),n(e.appSpecificAttributeGetters)]),o={...t,...i},a=await e.userIdGenerator(o);try{const t=await(async t=>{const r=await e.persistenceManager.loadIdentity(t);if(!r)return null;const{identity:n,updatedAt:i}=r;return i+e.identityCacheTtlInMs<(new Date).getTime()?null:n})(a);return t?r(t):await(async(t,n)=>{e.logger.debug(`Requesting latest settings from remote at time: ${(new Date).getTime()}`);const i=await async function(e){return new Promise((t=>{e.then((e=>t({data:e,err:void 0}))).catch((e=>t({err:e,data:void 0})))}))}(e.apiManager.requestSettingsAndSegmentations(n));if(i.err)return e.logger.debug(i.err.message),r(null);if(null==i.data)return r(null);try{const n=i.data,o={isDefaultIdentity:!1,settings:n.settings,segmentations:n.segmentations,settingsHash:n.settings_hash},a=r(o);return await e.persistenceManager.saveIdentity(a,t),a}catch(t){return e.logger.error("Failed to store remote identity",t),r(null)}})(a,o)}catch(t){return e.logger.error("Failed to fetch identity",t),r(null)}})()));return{isSecretMenuEligible:async()=>{const e=await i();return Boolean(e?.settings?.is_spooner_device)},getAllExperiments:async()=>{const[t,r]=await Promise.all([n(e.deviceAttributeGetters),n(e.appSpecificAttributeGetters)]);return await e.apiManager.getAllExperiments({...t,...r})},setExperimentSegmentation:(t,r,n)=>e.apiManager.forceExperimentSegmentation(t,r,n),setExperimentSegmentations:t=>e.apiManager.forceExperimentSegmentations(t),getDeviceAttributes:async()=>await n(e.deviceAttributeGetters),getUserAttributes:async()=>await n(e.appSpecificAttributeGetters),excludeFromSegmentation:(t,r)=>e.apiManager.setSegmentationState(t,r),getIdentity:i}}const ie=(e,t)=>t.some((t=>e instanceof t));let oe,ae;const se=new WeakMap,ce=new WeakMap,ue=new WeakMap;let le={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return se.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return he(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function de(e){le=e(le)}function he(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(he(e.result)),n()},o=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",o)}));return ue.set(t,e),t}(e);if(ce.has(e))return ce.get(e);const t=function(e){return"function"==typeof e?(t=e,(ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(pe(this),e),he(this.request)}:function(...e){return he(t.apply(pe(this),e))}):(e instanceof IDBTransaction&&function(e){if(se.has(e))return;const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),n()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));se.set(e,t)}(e),ie(e,oe||(oe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,le):e);var t}(e);return t!==e&&(ce.set(e,t),ue.set(t,e)),t}const pe=e=>ue.get(e),fe=["get","getKey","getAll","getAllKeys","count"],ge=["put","add","delete","clear"],me=new Map;function ve(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(me.get(t))return me.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=ge.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!i&&!fe.includes(r))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let a=o.store;return n&&(a=a.index(t.shift())),(await Promise.all([a[r](...t),i&&o.done]))[0]};return me.set(t,o),o}de((e=>({...e,get:(t,r,n)=>ve(t,r)||e.get(t,r,n),has:(t,r)=>!!ve(t,r)||e.has(t,r)})));const ye=["continue","continuePrimaryKey","advance"],be={},_e=new WeakMap,we=new WeakMap,xe={get(e,t){if(!ye.includes(t))return e[t];let r=be[t];return r||(r=be[t]=function(...e){_e.set(this,we.get(this)[t](...e))}),r}};async function*Te(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const r=new Proxy(t,xe);for(we.set(r,t),ue.set(r,pe(t));t;)yield r,t=await(_e.get(r)||t.continue()),_e.delete(r)}function Se(e,t){return t===Symbol.asyncIterator&&ie(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&ie(e,[IDBIndex,IDBObjectStore])}de((e=>({...e,get:(t,r,n)=>Se(t,r)?Te:e.get(t,r,n),has:(t,r)=>Se(t,r)||e.has(t,r)})));const Ee="identity";var Ie,ke=__webpack_require__(1419),Me=__webpack_require__(6478),Ae=__webpack_require__(1594),Ne=__webpack_require__.n(Ae),Oe=__webpack_require__(2987);!function(e){e.INFO="info",e.WARNING="warning",e.ERROR="error",e.CRITICAL="critical"}(Ie||(Ie={}));const je=1e3,Pe=({event:e,rule:t,isSpooner:r,isPremium:n,experiments:i})=>{switch(t.name){case"spooners":return r?t.value:void 0;case"premium_users":return n?t.value:void 0;case"categories":{const r=e.categories.join("/").toLowerCase();return t.value.find((e=>r.includes(e.name.toLowerCase())))?.value}case"experiments":return t.value.find((e=>i.includes(e.name.toLowerCase())))?.value;case"severity":return t.value.find((t=>t.name.toLowerCase()===e.severity.toLowerCase()))?.value;case"standard":return t.value;case"and":{const o=t.value.flatMap((t=>Pe({event:e,rule:t,isSpooner:r,isPremium:n,experiments:i}))).filter((e=>void 0!==e));if(o.length!==t.value.length)return;return o.every((e=>e))}default:return}},Ce=(e,t,r,n,i)=>{for(const o of t){const t=Pe({event:e,rule:o,isSpooner:r,isPremium:n,experiments:i});if(void 0!==t)return t}return!1};function De(e){return null!=e}const Le=(e,t)=>e.categories.join("/")+(De(t)?`/${t}`:""),Re={track:()=>{},trackStart:()=>{},trackComplete:()=>{},trackFail:()=>{},trackCancel:()=>{},trackSubEventStart:()=>{},trackSubEventComplete:()=>{},updateUserInfo:()=>{},withCategoriesPrefix:()=>Re},Be="event",Ue="createdAt",Fe="user_info",ze="user_info_id",Ge="setup_response",He=async(e,t,r,n)=>new Promise(((i,o)=>{const a=e.transaction(t,"readwrite").objectStore(t).put(n,r);a.onerror=()=>{o(a.error)},a.onsuccess=()=>{i()}})),We=async(e,t,r,n,i)=>new Promise(((o,a)=>{const s=e.transaction(t,"readonly").objectStore(t).index(r).openCursor(null,i),c=[];s.onerror=()=>{a(s.error)},s.onsuccess=()=>{const e=s.result;e&&c.length<n?(c.push(e.value),e.continue()):o(c)}})),$e=async(e,t,r)=>new Promise(((n,i)=>{const o=e.transaction(t,"readonly").objectStore(t).get(r);o.onerror=()=>{i(o.error)},o.onsuccess=()=>{n(o.result)}})),Ve=(e,t)=>{if("undefined"==typeof window)throw"This helper can only be used in web-based environments";const r=`spidersense:user_id:v1_${e}`;return()=>{const e=window.localStorage.getItem(r);if(null==e){const e=t();return window.localStorage.setItem(r,e),e}return e}};var Ye,qe="",Ze="function",Qe="undefined",Xe="object",Je="string",Ke="major",et="model",tt="name",rt="type",nt="vendor",it="version",ot="architecture",at="console",st="mobile",ct="tablet",ut="smarttv",lt="wearable",dt="xr",ht="embedded",pt="inapp",ft="user-agent",gt="brands",mt="formFactors",vt="fullVersionList",yt="platform",bt="platformVersion",_t="bitness",wt="sec-ch-ua",xt=wt+"-full-version-list",Tt=wt+"-arch",St=wt+"-"+_t,Et=wt+"-form-factors",It=wt+"-"+st,kt=wt+"-"+et,Mt=wt+"-"+yt,At=Mt+"-version",Nt=[gt,vt,st,et,yt,bt,ot,mt,_t],Ot="browser",jt="cpu",Pt="device",Ct="engine",Dt="os",Lt="result",Rt="Amazon",Bt="Apple",Ut="ASUS",Ft="BlackBerry",zt="Google",Gt="Huawei",Ht="Lenovo",Wt="LG",$t="Microsoft",Vt="Motorola",Yt="Samsung",qt="Sharp",Zt="Sony",Qt="Xiaomi",Xt="Zebra",Jt="Mobile ",Kt=" Browser",er="Chrome",tr="Chromecast",rr="Firefox",nr="Opera",ir="Facebook",or="Sogou",ar="Windows",sr=typeof window!==Qe&&window.navigator?window.navigator:void 0,cr=sr&&sr.userAgentData?sr.userAgentData:void 0,ur=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},lr=function(e,t){if(typeof e===Xe&&e.length>0){for(var r in e)if(fr(e[r])==fr(t))return!0;return!1}return!!hr(e)&&-1!==fr(t).indexOf(fr(e))},dr=function(e,t){for(var r in e)return/^(browser|cpu|device|engine|os)$/.test(r)||!!t&&dr(e[r])},hr=function(e){return typeof e===Je},pr=function(e){if(e){for(var t=[],r=vr(/\\?\"/g,e).split(","),n=0;n<r.length;n++)if(r[n].indexOf(";")>-1){var i=br(r[n]).split(";v=");t[n]={brand:i[0],version:i[1]}}else t[n]=br(r[n]);return t}},fr=function(e){return hr(e)?e.toLowerCase():e},gr=function(e){return hr(e)?vr(/[^\d\.]/g,e).split(".")[0]:void 0},mr=function(e){for(var t in e){var r=e[t];typeof r==Xe&&2==r.length?this[r[0]]=r[1]:this[r]=void 0}return this},vr=function(e,t){return hr(t)?t.replace(e,qe):t},yr=function(e){return vr(/\\?\"/g,e)},br=function(e,t){if(hr(e))return e=vr(/^\s\s*/,e),typeof t===Qe?e:e.substring(0,500)},_r=function(e,t){if(e&&t)for(var r,n,i,o,a,s,c=0;c<t.length&&!a;){var u=t[c],l=t[c+1];for(r=n=0;r<u.length&&!a&&u[r];)if(a=u[r++].exec(e))for(i=0;i<l.length;i++)s=a[++n],typeof(o=l[i])===Xe&&o.length>0?2===o.length?typeof o[1]==Ze?this[o[0]]=o[1].call(this,s):this[o[0]]=o[1]:3===o.length?typeof o[1]!==Ze||o[1].exec&&o[1].test?this[o[0]]=s?s.replace(o[1],o[2]):void 0:this[o[0]]=s?o[1].call(this,s,o[2]):void 0:4===o.length&&(this[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):void 0):this[o]=s||void 0;c+=2}},wr=function(e,t){for(var r in t)if(typeof t[r]===Xe&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(lr(t[r][n],e))return"?"===r?void 0:r}else if(lr(t[r],e))return"?"===r?void 0:r;return t.hasOwnProperty("*")?t["*"]:e},xr={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Tr={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},Sr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[it,[tt,Jt+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[it,[tt,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[tt,it],[/opios[\/ ]+([\w\.]+)/i],[it,[tt,nr+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[it,[tt,nr+" GX"]],[/\bopr\/([\w\.]+)/i],[it,[tt,nr]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[it,[tt,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[it,[tt,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[tt,it],[/quark(?:pc)?\/([-\w\.]+)/i],[it,[tt,"Quark"]],[/\bddg\/([\w\.]+)/i],[it,[tt,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[it,[tt,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[it,[tt,"WeChat"]],[/konqueror\/([\w\.]+)/i],[it,[tt,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[it,[tt,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[it,[tt,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[it,[tt,"Smart "+Ht+Kt]],[/(avast|avg)\/([\w\.]+)/i],[[tt,/(.+)/,"$1 Secure"+Kt],it],[/\bfocus\/([\w\.]+)/i],[it,[tt,rr+" Focus"]],[/\bopt\/([\w\.]+)/i],[it,[tt,nr+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[it,[tt,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[it,[tt,"Dolphin"]],[/coast\/([\w\.]+)/i],[it,[tt,nr+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[it,[tt,"MIUI"+Kt]],[/fxios\/([\w\.-]+)/i],[it,[tt,Jt+rr]],[/\bqihoobrowser\/?([\w\.]*)/i],[it,[tt,"360"]],[/\b(qq)\/([\w\.]+)/i],[[tt,/(.+)/,"$1Browser"],it],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[tt,/(.+)/,"$1"+Kt],it],[/samsungbrowser\/([\w\.]+)/i],[it,[tt,Yt+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[it,[tt,or+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[tt,or+" Mobile"],it],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[tt,it],[/(lbbrowser|rekonq)/i],[tt],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[it,tt],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[tt,ir],it,[rt,pt]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[tt,it,[rt,pt]],[/\bgsa\/([\w\.]+) .*safari\//i],[it,[tt,"GSA"],[rt,pt]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[it,[tt,"TikTok"],[rt,pt]],[/\[(linkedin)app\]/i],[tt,[rt,pt]],[/(chromium)[\/ ]([-\w\.]+)/i],[tt,it],[/headlesschrome(?:\/([\w\.]+)| )/i],[it,[tt,er+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[tt,er+" WebView"],it],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[it,[tt,"Android"+Kt]],[/chrome\/([\w\.]+) mobile/i],[it,[tt,Jt+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[tt,it],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[it,[tt,Jt+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[tt,Jt+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[it,tt],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[tt,[it,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[tt,it],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[tt,Jt+rr],it],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[tt,"Netscape"],it],[/(wolvic|librewolf)\/([\w\.]+)/i],[tt,it],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[it,[tt,rr+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[tt,[it,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[tt,[it,/[^\d\.]+./,qe]]],cpu:[[/\b(?:(amd|x|x86[-_]?|wow|win)64)\b/i],[[ot,"amd64"]],[/(ia32(?=;))/i,/((?:i[346]|x)86)[;\)]/i],[[ot,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[ot,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[ot,"armhf"]],[/windows (ce|mobile); ppc;/i],[[ot,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[ot,/ower/,qe,fr]],[/(sun4\w)[;\)]/i],[[ot,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[ot,fr]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[et,[nt,Yt],[rt,ct]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[et,[nt,Yt],[rt,st]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[et,[nt,Bt],[rt,st]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[et,[nt,Bt],[rt,ct]],[/(macintosh);/i],[et,[nt,Bt]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[et,[nt,qt],[rt,st]],[/(?:honor)([-\w ]+)[;\)]/i],[et,[nt,"Honor"],[rt,st]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[et,[nt,Gt],[rt,ct]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[et,[nt,Gt],[rt,st]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[et,/_/g," "],[nt,Qt],[rt,st]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[et,/_/g," "],[nt,Qt],[rt,ct]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[et,[nt,"OPPO"],[rt,st]],[/\b(opd2\d{3}a?) bui/i],[et,[nt,"OPPO"],[rt,ct]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[et,[nt,"Vivo"],[rt,st]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[et,[nt,"Realme"],[rt,st]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[et,[nt,Vt],[rt,st]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[et,[nt,Vt],[rt,ct]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[et,[nt,Wt],[rt,ct]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[et,[nt,Wt],[rt,st]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[et,[nt,Ht],[rt,ct]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[et,/_/g," "],[nt,"Nokia"],[rt,st]],[/(pixel c)\b/i],[et,[nt,zt],[rt,ct]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[et,[nt,zt],[rt,st]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[et,[nt,Zt],[rt,st]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[et,"Xperia Tablet"],[nt,Zt],[rt,ct]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[et,[nt,"OnePlus"],[rt,st]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[et,[nt,Rt],[rt,ct]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[et,/(.+)/g,"Fire Phone $1"],[nt,Rt],[rt,st]],[/(playbook);[-\w\),; ]+(rim)/i],[et,nt,[rt,ct]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[et,[nt,Ft],[rt,st]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[et,[nt,Ut],[rt,ct]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[et,[nt,Ut],[rt,st]],[/(nexus 9)/i],[et,[nt,"HTC"],[rt,ct]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[nt,[et,/_/g," "],[rt,st]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[et,[nt,"TCL"],[rt,ct]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[et,[nt,"TCL"],[rt,st]],[/(itel) ((\w+))/i],[[nt,fr],et,[rt,wr,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[et,[nt,"Acer"],[rt,ct]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[et,[nt,"Meizu"],[rt,st]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[et,[nt,"Ulefone"],[rt,st]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[et,[nt,"Energizer"],[rt,st]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[et,[nt,"Cat"],[rt,st]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[et,[nt,"Smartfren"],[rt,st]],[/droid.+; (a(?:015|06[35]|142p?))/i],[et,[nt,"Nothing"],[rt,st]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[nt,et,[rt,st]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[nt,et,[rt,ct]],[/(surface duo)/i],[et,[nt,$t],[rt,ct]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[et,[nt,"Fairphone"],[rt,st]],[/(shield[\w ]+) b/i],[et,[nt,"Nvidia"],[rt,ct]],[/(sprint) (\w+)/i],[nt,et,[rt,st]],[/(kin\.[onetw]{3})/i],[[et,/\./g," "],[nt,$t],[rt,st]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[et,[nt,Xt],[rt,ct]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[et,[nt,Xt],[rt,st]],[/smart-tv.+(samsung)/i],[nt,[rt,ut]],[/hbbtv.+maple;(\d+)/i],[[et,/^/,"SmartTV"],[nt,Yt],[rt,ut]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[nt,Wt],[rt,ut]],[/(apple) ?tv/i],[nt,[et,Bt+" TV"],[rt,ut]],[/crkey.*devicetype\/chromecast/i],[[et,tr+" Third Generation"],[nt,zt],[rt,ut]],[/crkey.*devicetype\/([^/]*)/i],[[et,/^/,"Chromecast "],[nt,zt],[rt,ut]],[/fuchsia.*crkey/i],[[et,tr+" Nest Hub"],[nt,zt],[rt,ut]],[/crkey/i],[[et,tr],[nt,zt],[rt,ut]],[/droid.+aft(\w+)( bui|\))/i],[et,[nt,Rt],[rt,ut]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[et,[nt,qt],[rt,ut]],[/(bravia[\w ]+)( bui|\))/i],[et,[nt,Zt],[rt,ut]],[/(mitv-\w{5}) bui/i],[et,[nt,Qt],[rt,ut]],[/Hbbtv.*(technisat) (.*);/i],[nt,et,[rt,ut]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[nt,br],[et,br],[rt,ut]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[rt,ut]],[/(ouya)/i,/(nintendo) (\w+)/i],[nt,et,[rt,at]],[/droid.+; (shield) bui/i],[et,[nt,"Nvidia"],[rt,at]],[/(playstation \w+)/i],[et,[nt,Zt],[rt,at]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[et,[nt,$t],[rt,at]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[et,[nt,Yt],[rt,lt]],[/((pebble))app/i],[nt,et,[rt,lt]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[et,[nt,Bt],[rt,lt]],[/droid.+; (wt63?0{2,3})\)/i],[et,[nt,Xt],[rt,lt]],[/droid.+; (glass) \d/i],[et,[nt,zt],[rt,dt]],[/(pico) (4|neo3(?: link|pro)?)/i],[nt,et,[rt,dt]],[/; (quest( \d| pro)?)/i],[et,[nt,ir],[rt,dt]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[nt,[rt,ht]],[/(aeobc)\b/i],[et,[nt,Rt],[rt,ht]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[et,[rt,st]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[et,[rt,ct]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[rt,ct]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[rt,st]],[/(android[-\w\. ]{0,9});.+buil/i],[et,[nt,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[it,[tt,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[tt,it],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[it,[tt,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[tt,it],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[it,tt]],os:[[/microsoft (windows) (vista|xp)/i],[tt,it],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[tt,[it,wr,xr]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[it,wr,xr],[tt,ar]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[it,/_/g,"."],[tt,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[tt,"macOS"],[it,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[it,[tt,tr+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[it,[tt,tr+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[it,[tt,tr+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[it,[tt,tr+" Linux"]],[/crkey\/([\d\.]+)/i],[it,[tt,tr]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[it,tt],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[tt,it],[/\(bb(10);/i],[it,[tt,Ft]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[it,[tt,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[it,[tt,rr+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[it,[tt,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[it,[tt,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[tt,"Chrome OS"],it],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[tt,it],[/(sunos) ?([\w\.\d]*)/i],[[tt,"Solaris"],it],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[tt,it]]},Er=(Ye={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}},mr.call(Ye.init,[[Ot,[tt,it,Ke,rt]],[jt,[ot]],[Pt,[rt,et,nt]],[Ct,[tt,it]],[Dt,[tt,it]]]),mr.call(Ye.isIgnore,[[Ot,[it,Ke]],[Ct,[it]],[Dt,[it]]]),mr.call(Ye.isIgnoreRgx,[[Ot,/ ?browser$/i],[Dt,/ ?os$/i]]),mr.call(Ye.toString,[[Ot,[tt,it]],[jt,[ot]],[Pt,[nt,et]],[Ct,[tt,it]],[Dt,[tt,it]]]),Ye),Ir=function(e,t){var r=Er.init[t],n=Er.isIgnore[t]||0,i=Er.isIgnoreRgx[t]||0,o=Er.toString[t]||0;function a(){mr.call(this,r)}return a.prototype.getItem=function(){return e},a.prototype.withClientHints=function(){return cr?cr.getHighEntropyValues(Nt).then((function(t){return e.setCH(new kr(t,!1)).parseCH().get()})):e.parseCH().get()},a.prototype.withFeatureCheck=function(){return e.detectFeature().get()},t!=Lt&&(a.prototype.is=function(e){var t=!1;for(var r in this)if(this.hasOwnProperty(r)&&!lr(n,r)&&fr(i?vr(i,this[r]):this[r])==fr(i?vr(i,e):e)){if(t=!0,e!=Qe)break}else if(e==Qe&&t){t=!t;break}return t},a.prototype.toString=function(){var e=qe;for(var t in o)typeof this[o[t]]!==Qe&&(e+=(e?" ":qe)+this[o[t]]);return e||Qe}),cr||(a.prototype.then=function(e){var t=this,r=function(){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])};r.prototype={is:a.prototype.is,toString:a.prototype.toString};var n=new r;return e(n),n}),new a};function kr(e,t){if(e=e||{},mr.call(this,Nt),t)mr.call(this,[[gt,pr(e[wt])],[vt,pr(e[xt])],[st,/\?1/.test(e[It])],[et,yr(e[kt])],[yt,yr(e[Mt])],[bt,yr(e[At])],[ot,yr(e[Tt])],[mt,pr(e[Et])],[_t,yr(e[St])]]);else for(var r in e)this.hasOwnProperty(r)&&typeof e[r]!==Qe&&(this[r]=e[r])}function Mr(e,t,r,n){return this.get=function(e){return e?this.data.hasOwnProperty(e)?this.data[e]:void 0:this.data},this.set=function(e,t){return this.data[e]=t,this},this.setCH=function(e){return this.uaCH=e,this},this.detectFeature=function(){if(sr&&sr.userAgent==this.ua)switch(this.itemType){case Ot:sr.brave&&typeof sr.brave.isBrave==Ze&&this.set(tt,"Brave");break;case Pt:!this.get(rt)&&cr&&cr[st]&&this.set(rt,st),"Macintosh"==this.get(et)&&sr&&typeof sr.standalone!==Qe&&sr.maxTouchPoints&&sr.maxTouchPoints>2&&this.set(et,"iPad").set(rt,ct);break;case Dt:!this.get(tt)&&cr&&cr[yt]&&this.set(tt,cr[yt]);break;case Lt:var e=this.data,t=function(t){return e[t].getItem().detectFeature().get()};this.set(Ot,t(Ot)).set(jt,t(jt)).set(Pt,t(Pt)).set(Ct,t(Ct)).set(Dt,t(Dt))}return this},this.parseUA=function(){return this.itemType!=Lt&&_r.call(this.data,this.ua,this.rgxMap),this.itemType==Ot&&this.set(Ke,gr(this.get(it))),this},this.parseCH=function(){var e=this.uaCH,t=this.rgxMap;switch(this.itemType){case Ot:var r,n=e[vt]||e[gt];if(n)for(var i in n){var o=vr(/(Google|Microsoft) /,n[i].brand||n[i]),a=n[i].version;/not.a.brand/i.test(o)||r&&(!/chrom/i.test(r)||/chromi/i.test(o))||(this.set(tt,o).set(it,a).set(Ke,gr(a)),r=o)}break;case jt:var s=e[ot];s&&(s&&"64"==e[_t]&&(s+="64"),_r.call(this.data,s+";",t));break;case Pt:if(e[st]&&this.set(rt,st),e[et]&&this.set(et,e[et]),"Xbox"==e[et]&&this.set(rt,at).set(nt,$t),e[mt]){var c;if("string"!=typeof e[mt])for(var u=0;!c&&u<e[mt].length;)c=wr(e[mt][u++],Tr);else c=wr(e[mt],Tr);this.set(rt,c)}break;case Dt:var l=e[yt];if(l){var d=e[bt];l==ar&&(d=parseInt(gr(d),10)>=13?"11":"10"),this.set(tt,l).set(it,d)}this.get(tt)==ar&&"Xbox"==e[et]&&this.set(tt,"Xbox").set(it,void 0);break;case Lt:var h=this.data,p=function(t){return h[t].getItem().setCH(e).parseCH().get()};this.set(Ot,p(Ot)).set(jt,p(jt)).set(Pt,p(Pt)).set(Ct,p(Ct)).set(Dt,p(Dt))}return this},mr.call(this,[["itemType",e],["ua",t],["uaCH",n],["rgxMap",r],["data",Ir(this,e)]]),this}function Ar(e,t,r){if(typeof e===Xe?(dr(e,!0)?(typeof t===Xe&&(r=t),t=e):(r=e,t=void 0),e=void 0):typeof e!==Je||dr(t,!0)||(r=t,t=void 0),r&&typeof r.append===Ze){var n={};r.forEach((function(e,t){n[t]=e})),r=n}if(!(this instanceof Ar))return new Ar(e,t,r).getResult();var i=typeof e===Je?e:r&&r[ft]?r[ft]:sr&&sr.userAgent?sr.userAgent:qe,o=new kr(r,!0),a=t?function(e,t){var r={},n=t;if(!dr(t))for(var i in n={},t)for(var o in t[i])n[o]=t[i][o].concat(n[o]?n[o]:[]);for(var a in e)r[a]=n[a]&&n[a].length%2==0?n[a].concat(e[a]):e[a];return r}(Sr,t):Sr,s=function(e){return e==Lt?function(){return new Mr(e,i,a,o).set("ua",i).set(Ot,this.getBrowser()).set(jt,this.getCPU()).set(Pt,this.getDevice()).set(Ct,this.getEngine()).set(Dt,this.getOS()).get()}:function(){return new Mr(e,i,a[e],o).parseUA().get()}};return mr.call(this,[["getBrowser",s(Ot)],["getCPU",s(jt)],["getDevice",s(Pt)],["getEngine",s(Ct)],["getOS",s(Dt)],["getResult",s(Lt)],["getUA",function(){return i}],["setUA",function(e){return hr(e)&&(i=e.length>500?br(e,500):e),this}]]).setUA(i),this}Ar.VERSION="2.0.0",Ar.BROWSER=ur([tt,it,Ke,rt]),Ar.CPU=ur([ot]),Ar.DEVICE=ur([et,nt,rt,at,st,ut,ct,lt,ht]),Ar.ENGINE=Ar.OS=ur([tt,it]);var Nr,Or,jr,Pr="undefined"!=typeof window?(Or=[],jr=e=>{Nr?e(Nr):Or.push(e)},(async()=>{if(!Nr){if(void 0===navigator?.locks)return Nr=Re,void(Or.length=0);var e=performance.now(),t=await(async(e={})=>{const t={dbName:"spidersense",maxEventsStored:300,targetSizeAfterClearingSpace:200,now:Date.now,...e},r=async()=>(async e=>new Promise(((t,r)=>{const n=indexedDB.open(e,1);n.onerror=()=>{r(n.error)},n.onsuccess=()=>{t(n.result)},n.onupgradeneeded=()=>{var e;(e=n.result).objectStoreNames.contains(Be)||e.createObjectStore(Be).createIndex(Ue,Ue),e.objectStoreNames.contains(Fe)||e.createObjectStore(Fe),e.objectStoreNames.contains(Ge)||e.createObjectStore(Ge)}})))(t.dbName);let n=await r();const i=async()=>(n&&(e=>{try{return e.transaction([Be],"readwrite"),!0}catch(e){return"InvalidStateError"!==e.name}})(n)||(n=await r()),n),o=async e=>{const t=e.map((e=>e.id)),r=await i();await(async(e,t,r)=>new Promise(((n,i)=>{const o=e.transaction(t,"readwrite").objectStore(t),a=[];r.forEach((e=>{const t=o.delete(e);a.push(new Promise(((e,r)=>{t.onerror=()=>{r(t.error)},t.onsuccess=()=>{e()}})))})),Promise.all(a).then((()=>n())).catch(i)})))(r,Be,t)};return{getEvents:async e=>{const t=await i();return await We(t,Be,Ue,e,"next")},saveEvent:async e=>{const r=await i(),n=await(async(e,t)=>new Promise(((r,n)=>{const i=e.transaction(t,"readonly").objectStore(t).count();i.onerror=()=>{n(i.error)},i.onsuccess=()=>{r(i.result)}})))(r,Be);if(n>=t.maxEventsStored){const e=n-t.targetSizeAfterClearingSpace,i=await We(r,Be,Ue,e,"next");await o(i)}await He(r,Be,e.id,e)},deleteEvents:async e=>{await o(e)},getUserInfo:async()=>{const e=await i();return await $e(e,Fe,ze)},saveUserInfo:async e=>{const t=await i();await He(t,Fe,ze,e)},getSetupResponse:async e=>{const t=await i();return await $e(t,Ge,e)},saveSetupResponse:async(e,t)=>{const r=await i();await He(r,Ge,t,e)}}})(),r=await(async e=>{const t=e.apiManager||function(e){return{setup:async t=>{const r=`https://spidersense.bendingspoons.com/v1/public/setup/${e.appId}?user_id=${t}&app_version=${e.appVersion}`;return await function(e,t,r){let n;return Promise.race([e,new Promise(((e,t)=>n=setTimeout((()=>t(r)),5e3)))]).finally((()=>clearTimeout(n)))}(fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>{if(!e.ok)throw new Error("Received invalid /setup response!");return e.json()})),0,new Error("/setup request timed out!"))},send:async(t,r)=>{const n={url:(i=e.appId,`https://spidersense.bendingspoons.com/v2/public/apps/${i}/events?should_sample=false`),body:{user_id:r,sent_at:e.now()/je,payloads:t.map((t=>({id:t.id,severity:t.severity,categories:t.categories,description:t.description,error_code:t.errorCode,created_at:t.createdAt/je,info:{app_version:e.appVersion,...t.info}})))}};var i;if(!(await fetch(n.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n.body)})).ok)throw new Error("Received invalid response!")}}}({appId:e.bspId,appVersion:e.version,now:e.now||Date.now}),r=await(async e=>{let t=await e.persistenceManager.getUserInfo()||{};const r=((e,t,r,n)=>{const i={};return async(o,a)=>{const s=i[o];if(s)return s;let c=await e.getSetupResponse(o);var u;if("object"==typeof(u=c)&&null!==u&&"requestTimestamp"in u&&"response"in u||(c=void 0),c&&c.requestTimestamp+1e3*n>r())return c.response;if(!a)throw new Error("No local config and skip remote fetch");const l=await t.setup(o);return await e.saveSetupResponse({response:l,requestTimestamp:r()},o),i[o]=l,l}})(e.persistenceManager,e.apiManager,e.now,e.setupResponseTtl),n=async t=>{if(!e.canSync())return void e.scheduler.schedule((()=>n(t)),t);let i=t;try{const t=e.user.userID(),n=await(o=t,r(o,!0)),a=await e.persistenceManager.getEvents(50),s=a.filter((t=>Ce(t,n.rules,e.user.isSpooner(),e.user.isPremium(),e.user.experiments())));if(s.length>0){const r=[];for(const t of s){const n=e.eventProcessors.reduce(((t,r)=>r.processEvent(t,e)),t);r.push(n)}await e.apiManager.send(r,t)}await e.persistenceManager.deleteEvents(a),i=n.send_next_batch_interval*je}catch{i=Math.min(2*t,3e5)}finally{e.scheduler.schedule((()=>n(i)),i)}var o};return e.scheduler.schedule((()=>e.lockRunner("spidersenseSendEvents",(()=>n(1e4)))),1e4),{updateUserInfo:async r=>{t={...t,...r},await e.persistenceManager.saveUserInfo(t)},addEvent:async n=>{try{const t=await(i=e.user.userID(),r(i,!1));if(void 0!==t&&!Ce(n,t.rules,e.user.isSpooner(),e.user.isPremium(),e.user.experiments()))return}catch{}var i;await e.persistenceManager.saveEvent({id:e.uuid(),createdAt:e.now(),userId:e.user.userID(),...n,info:{user:{...t,isSpooner:e.user.isSpooner(),isPremium:e.user.isPremium(),experiments:e.user.experiments()},...n.info}})}}})({uuid:e.uuid,now:e.now||Date.now,scheduler:e.scheduler??{schedule:(e,t)=>{setTimeout(e,t)}},persistenceManager:e.persistenceManager,apiManager:t,lockRunner:e.lockRunner??(async(e,t)=>{await t()}),setupResponseTtl:e.network.setupResponseTtl??0,user:e.user,canSync:e.network.canSync,eventProcessors:e.eventProcessors??[]}),n=((e,t)=>{const r=new Map,n=new Map,i=new Map,o=e=>{const t=n.get(e);return n.delete(e),t},a=e=>{const t=i.get(e);return i.delete(e),t},s=t=>{e.addEvent(t)};return{track:s,trackStart:(e,r)=>{n.set(Le(e,r?.id),t()),r?.metadataForComplete&&i.set(Le(e,r?.id),r.metadataForComplete),s({...e,categories:[...e.categories,"start"]})},trackComplete:(e,n)=>{const i=o(Le(e,n)),c=a(Le(e,n)),u=r.get(Le(e,n));De(i)&&s({...e,categories:[...e.categories,"complete"],info:{...e.info,duration:t()-i,...void 0!==u&&{subEvents:Object.values(u).sort(((e,t)=>e.start-t.start))},...void 0!==c&&{metadataFromStart:c}}})},trackFail:(e,n,i,c)=>{const u=o(Le(e,n)),l=a(Le(e,n)),d=r.get(Le(e,n));De(u)&&s({...e,categories:[...e.categories,"fail"],...void 0!==i&&{description:i},...void 0!==c&&{errorCode:c},info:{...e.info,duration:t()-u,...void 0!==d&&{subEvents:Object.values(d).sort(((e,t)=>e.start-t.start))},...void 0!==l&&{metadataFromStart:l}}})},trackCancel:(e,n,i)=>{const c=o(Le(e,n)),u=a(Le(e,n)),l=r.get(Le(e,n));De(c)&&s({...e,categories:[...e.categories,"cancel"],...void 0!==i&&{description:i},info:{...e.info,duration:t()-c,...void 0!==l&&{subEvents:Object.values(l).sort(((e,t)=>e.start-t.start))},...void 0!==u&&{metadataFromStart:u}}})},trackSubEventStart:(e,i,o)=>{const a=Le(e,o);if(!n.has(a))return;const s=t();r.set(a,{...r.get(a),[i]:{name:i,start:s}})},trackSubEventComplete:(e,i,o)=>{const a=Le(e,o);if(!n.has(a))return;const s=r.get(a)?.[i];if(s){const e=t()-s.start;r.set(a,{...r.get(a),[i]:{...s,duration:e}})}}}})(r,e.now||Date.now),i=(e,t)=>({...e,categories:[...t,...e.categories]}),o=e=>{const t=((e,t)=>({track:r=>e.track(i(r,t)),trackStart:(r,n)=>e.trackStart(i(r,t),n),trackComplete:(r,n)=>e.trackComplete(i(r,t),n),trackFail:(r,n,o,a)=>e.trackFail(i(r,t),n,o,a),trackCancel:(r,n,o)=>e.trackCancel(i(r,t),n,o),trackSubEventStart:(r,n,o)=>e.trackSubEventStart(i(r,t),n,o),trackSubEventComplete:(r,n,o)=>e.trackSubEventComplete(i(r,t),n,o)}))(n,e);return{track:t.track,trackStart:t.trackStart,trackComplete:t.trackComplete,trackFail:t.trackFail,trackCancel:t.trackCancel,trackSubEventStart:t.trackSubEventStart,trackSubEventComplete:t.trackSubEventComplete,updateUserInfo:r.updateUserInfo,withCategoriesPrefix:e=>o(e,t)}};return o([],n)})({bspId:"issuu_web",version:"0",uuid:o,persistenceManager:t,user:{userID:Ve("issuu_web",o),isSpooner:()=>!1,isPremium:()=>!1,experiments:()=>[]},network:{canSync:()=>!0},lockRunner:async(e,t)=>{console.debug(`Waiting for lock ${e}...`),navigator.locks.request(e,(async()=>(console.debug(`Lock ${e} acquired!`),await t(),new Promise((()=>{})))))}});Nr=r;var n=window.location.pathname;Nr.track({severity:Ie.INFO,categories:["spidersense","loaded"],info:{durationSec:(performance.now()-e)/1e3,locationPathname:n}});var i=new Ar(window.navigator?.userAgent),a=i.getDevice(),s=i.getBrowser(),c=i.getEngine(),u=i.getOS(),l={browser:{name:s.name,version:s.version,major:s.major,type:s.type},cpu:i.getCPU().architecture,engine:{name:c.name,version:c.version},specifics:{model:a.model,vendor:a.vendor,type:a.type||"desktop"},os:{name:u.name,version:u.version}};Nr.updateUserInfo({device:l}),Or.forEach((e=>e(r))),Or.length=0}})(),{track:e=>{jr((t=>t.track(e)))},trackStart:(e,t)=>{jr((r=>r.trackStart(e,t)))},trackComplete:(e,t)=>{jr((r=>r.trackComplete(e,t)))},trackFail:(e,t,r,n)=>{jr((i=>i.trackFail(e,t,r,n)))},trackCancel:(e,t,r)=>{jr((n=>n.trackCancel(e,t,r)))},trackSubEventStart:(e,t,r)=>{jr((n=>n.trackSubEventStart(e,t,r)))},trackSubEventComplete:(e,t,r)=>{jr((n=>n.trackSubEventComplete(e,t,r)))},updateUserInfo:e=>{jr((t=>t.updateUserInfo(e)))},withCategoriesPrefix:e=>Nr?Nr.withCategoriesPrefix(e):Re}):Re,Cr=(e,t)=>{var r,n;try{if(e[0]&&(r=e[0]),e[1]instanceof Error){var i=e[1];n={message:i.message,name:i.name,stack:i.stack,cause:JSON.stringify(i.cause)}}}catch(e){r="N/A",n={}}Pr.track({severity:t,categories:["pico","internal_logger"],info:{message:r,content:n}})},Dr=["adgroup","campaign","creative","fbc","fbclid","fbp","gbraid","gclid","google_network","google_placement","match_type","msclkid","t_agid","t_agname","t_cid","t_cname","t_crid","t_crname","t_device","t_gcid","t_match_type","t_network","t_s","t_validation","ttclid","utm_campaign","utm_content","utm_medium","utm_source","utm_term","v","wbraid"],Lr="firstSessionTimestamp",Rr="isFirstSession",Br=()=>"true"===sessionStorage.getItem(Rr),Ur=e=>{sessionStorage.setItem(Rr,e.toString())},Fr=()=>{var e=localStorage.getItem(Lr);return e?parseInt(e):void 0},zr=(0,Ae.createContext)(void 0),Gr=()=>(0,Ae.useContext)(zr),Hr=(e,t)=>{var r,n=Fr();void 0===n?(r=t,localStorage.setItem(Lr,r.toString()),Ur(!0)):Br()&&n!==t&&Ur(!1)},Wr=e=>{var{children:t,userIds:r}=e,n=(0,Ae.useRef)(r),i=(0,Ae.useRef)(!1),a=(0,Ae.useRef)({}),s=(0,Ae.useMemo)((()=>function(e){function t(t){return function(){var r,n={resolve:()=>{},reject:()=>{}};"getUserInfo"!==t&&"updateUserInfo"!==t||(r=new Promise(((e,t)=>{n.resolve=e,n.reject=t}))),e[t]||(e[t]=[]);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e[t].push({args:o,promiseResolver:n}),r}}return{trackExperimentSegmentReceived:t("trackExperimentSegmentReceived"),trackUserAction:t("trackUserAction"),trackSignInAction:t("trackSignInAction"),getUserInfo:t("getUserInfo"),updateUserInfo:t("updateUserInfo")}}(a.current)),[]);return(0,Ae.useEffect)((()=>{(async()=>{if(!i.current||n.current!==r){var e=["pico"];Pr.trackStart({severity:Ie.INFO,categories:e,info:{}});var t,c,u,l=function(){if("undefined"!=typeof document&&void 0!==document.cookie)return document.cookie.replace(/(?:(?:^|.*;\s*)iutk\s*=\s*([^;]*).*$)|^.*$/,"$1").toLowerCase()||void 0}(),d=(0,Me.kd)(),h=await(0,Me.bU)(),p=await(0,ke.id)({persistenceManager:h,runInLock:d,uuidFactory:o,onNewSession:Hr,sessionIdGenerator:(0,Me.u1)("pico_ssid",o)}),f=await(0,ke.C8)({bspId:"issuu_web",environment:{type:"custom",url:(t=window.location.hostname,"issuu.com"===t||t.endsWith(".issuu.com")?"https://issuu.com/bsp/events/v4/web-events":"https://tissuu.com/bsp/events/v4/web-events")},lockRunner:d,persistenceManager:h,userIdGenerators:{localStorageId:(0,Me.qw)("pico_lsid",o),userId:async()=>r.userId,iutk:async()=>l,mixpanelDistinctId:async()=>r.getMixpanelDistinctId?.()},logger:{trace:()=>{},info:()=>{},debug:()=>{},warn:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Cr(t,Ie.WARNING)},error:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Cr(t,Ie.ERROR)},fatal:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Cr(t,Ie.CRITICAL)}},sessionManager:p,uuidFactory:o});if("success"===f?.result){Pr.trackComplete({severity:Ie.INFO,categories:e,info:{}});var g=f.pico;try{await async function(e){var t=Oe.Fr?"mobile":Oe.v1?"tablet":Oe.xl?"desktop":"unknown",r=navigator.language,n=navigator.languages?navigator.languages[0]:navigator.language;await e.updateUserInfo({device:{device_type:t,language:r,browser:Oe.C0,os:Oe.wH,os_version:Oe.B4},locale:n})}(g),await async function(e){var t,r=new URLSearchParams(window.location.search),n=Object.fromEntries(r),i=(e=>{var{paramsFound:t,attributionParamKeys:r}=e,n=r.filter((e=>!!t[e]));if(0===n.length)return{};var i={};return n.forEach((e=>{i[e]=t[e]})),i})({paramsFound:n,attributionParamKeys:Dr}),o=(await e.getUserInfo()).persistent;t="object"==typeof o?{...o,...i}:i;var a,s,c=(a=n,s=Dr.filter((e=>void 0!==a[e])).map((e=>[e,a[e]])),Object.fromEntries(s));await e.updateUserInfo({landing_page_info:c,persistent:t})}(g),async function(e,t){var r=await(async e=>{if(!e)return"ANONYMOUS";try{return(await I("/do/backend-tagmanager/user-info/")).user_plan}catch{return"UNKNOWN"}})(t);await e.updateUserInfo({status:r})}(g,r?.userId)}catch(e){}c=s,u=g,Object.keys(u).forEach((e=>{c[e]=u[e]})),function(e,t){Object.keys(e).forEach((r=>{e[r]?.forEach((e=>{var n=t[r](...e.args);!n||"getUserInfo"!==r&&"updateUserInfo"!==r||n.then(e.promiseResolver?.resolve).catch(e.promiseResolver?.reject)}))}))}(a.current,g),a.current={},i.current=!0,n.current=r}else Pr.trackFail({severity:Ie.ERROR,categories:e,info:{errorMessage:JSON.stringify(f?.error)}})}})()}),[r]),(0,X.jsx)(zr.Provider,{value:s,children:t})},$r=()=>Promise.resolve(Oe.Fr?"mobile":Oe.v1?"tablet":Oe.xl?"desktop":"unknown"),Vr={trace(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.trace("[Orion]",...t)},info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.info("[Orion]",...t)},debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.debug("[Orion]",...t)},warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.warn("[Orion]",...t)},error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.error("[Orion]",...t)},fatal(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.error("[Orion]",...t)}},Yr={trace(){},info(){},debug(){},warn(){},error(){},fatal(){}},qr=e=>{if("undefined"==typeof window)throw new Error("This helper can only be used in web-based environments");return async()=>(0,Me.qw)("pico_lsid",e)()},Zr={production:"https://issuu.com/bsp",staging:"https://tissuu.com/bsp"},Qr=(0,Ae.createContext)({client:void 0,identity:{isDefaultIdentity:!0,settings:Q,segmentations:{},settingsHash:""},isLoadingResponse:!0}),Xr=e=>{var{children:t,userId:r,isLoggingEnabled:n=!1,waitForPicoTimeout:i=1e3}=e,a=(0,Ae.useRef)(!1),s=(0,Ae.useRef)(!1),[c,u]=(0,Ae.useState)(!1),[l,d]=(0,Ae.useState)({client:void 0,currentUserId:r,identity:{settings:Q,segmentations:{},settingsHash:"",isDefaultIdentity:!0},isLoadingResponse:!0}),h=Gr();return(0,Ae.useEffect)((()=>{if(a.current=!0,!c&&!s.current)return s.current=!0,Promise.any([h?.getUserInfo(),new Promise((e=>{i&&setTimeout((()=>{e(!0)}),i)}))]).then((()=>{a.current&&u(!0)})),()=>{a.current=!1}}),[]),(0,Ae.useEffect)((()=>{var e,t=n?Vr:Yr,i=new Promise((r=>e=setTimeout((()=>{l.isLoadingResponse&&(d({...l,isLoadingResponse:!1}),t.error("Timeout: Orion identity was not received within the timeout.")),r(0)}),1e4)));Promise.race([(async()=>{var e;if(c&&(!l.client||r!==l.currentUserId))try{var n="issuu.com"===(e=window.location.hostname)||e.endsWith(".issuu.com")?"production":"staging",i=await async function(){const e=await function(e,t,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=he(a);return n&&a.addEventListener("upgradeneeded",(e=>{n(he(a.result),e.oldVersion,e.newVersion,he(a.transaction),e)})),r&&a.addEventListener("blocked",(e=>r(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("orionV3",1,{upgrade(e){e.createObjectStore(Ee,{keyPath:"userId"})}});return{clearEntities:async()=>{await e.clear(Ee)},loadIdentity:async t=>{try{const r=await e.get(Ee,t);if(!r)return null;const{identity:n,updatedAt:i,userId:o}=r;return n&&i&&o?{identity:JSON.parse(n),updatedAt:Number(i),userId:o}:null}catch{return null}},saveIdentity:async(t,r)=>{await e.put(Ee,{identity:JSON.stringify(t),updatedAt:Date.now().toString(),userId:r})}}}(),a=await(e=>e?I("/do/backend-tagmanager/user-info/").then((e=>{var t=new Date(1e3*e.signup_date),r=Math.floor(((new Date).valueOf()-t.valueOf())/6e4);return{userPlan:()=>Promise.resolve(e.user_plan),createdAt:()=>Promise.resolve(t),minutesElapsedSinceRegistration:()=>Promise.resolve(r)}})):Promise.resolve({}))(r),s=await async function(e,t={}){const r=t.createAPIManager||te,n=t.createEntityManager||ne,i=r({fetcher:e.fetcher,appId:e.appId,baseUrl:e.baseUrl}),o=await n({apiManager:i,persistenceManager:e.persistenceManager,logger:e.logger,defaultSettings:e.defaultSettings,defaultSegmentations:e.defaultSegmentations,deviceAttributeGetters:e.deviceAttributeGetters,appSpecificAttributeGetters:e.appSpecificAttributeGetters,userIdGenerator:e.userIdGenerator,shouldReturnDefaultsImmediately:e.shouldReturnDefaultsImmediately,identityCacheTtlInMs:e.identityCacheTtlInMs});return{identity:{get:o.getIdentity},secret:{isAvailable:o.isSecretMenuEligible,getAllExperiments:o.getAllExperiments,setExperimentSegmentation:o.setExperimentSegmentation,setExperimentSegmentations:o.setExperimentSegmentations,getDeviceAttributes:o.getDeviceAttributes,getUserAttributes:o.getUserAttributes,excludeFromSegmentation:o.excludeFromSegmentation}}}({appId:"issuu_web",appSpecificAttributeGetters:{userId:()=>Promise.resolve(r),...a},persistenceManager:i,defaultSettings:Q,defaultSegmentations:{},deviceAttributeGetters:{isLoggedIn:()=>Promise.resolve(!!r),localStorageId:qr(o),isFirstBspSession:()=>Promise.resolve(Br()),firstBspSessionTimestamp:()=>{var e=Fr(),t=null!=e?new Date(1e3*e):new Date;return Promise.resolve(t)},deviceType:$r},baseUrl:Zr[n],logger:t,shouldReturnDefaultsImmediately:"undefined"!=typeof navigator&&/(?:google|bing|msn|facebook)bot[-imagevdo]{0,6}|bingpreview|gptbot|slack(?:bot)?(?:-imgproxy|-linkexpanding)?/i.test(navigator.userAgent),fetcher:async(e,t)=>{var r=await k(e,{body:t.body,method:t.method,bodyType:"jsonstring",headers:{...t.headers},log:!1});return Response.json(r)},userIdGenerator:e=>Promise.resolve(["localStorageId","userId"].filter((t=>void 0!==e[t])).map((t=>e[t])).join("_")),identityCacheTtlInMs:72e5}),u=await s.identity.get();d({client:s,currentUserId:r,identity:{settings:u.settings,segmentations:u.segmentations,settingsHash:u.settingsHash,isDefaultIdentity:u.isDefaultIdentity},isLoadingResponse:!1}),t.info("Orion identity ready")}catch(e){t.error("Failed to initialize Orion client",e)}})(),i]).finally((()=>clearTimeout(e)))}),[r,c]),(0,Ae.useEffect)((()=>{void 0!==l.client&&((e,t)=>{var r={};Object.entries(t).forEach((e=>{var[t,n]=e;r[t]=n.index})),e?.trackExperimentSegmentReceived(r)})(h,l.identity.segmentations)}),[h,l.client]),(0,X.jsx)(Qr.Provider,{value:{client:l.client,identity:l.identity,isLoadingResponse:l.isLoadingResponse},children:t})};function Jr(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}var Kr=function(){return Kr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Kr.apply(this,arguments)};function en(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function tn(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(en(arguments[t]));return e}var rn=__webpack_require__(74);function nn(){var e=(0,rn.V)(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var r=new Uint16Array(8);t.getRandomValues(r),r[3]=4095&r[3]|16384,r[4]=16383&r[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var on,an=__webpack_require__(6772),sn=((0,rn.V)(),["debug","info","warn","error","log","assert"]);on={enable:function(){},disable:function(){}},sn.forEach((function(e){on[e]=function(){}}));var cn=__webpack_require__(2489),un=Object.prototype.toString;function ln(e){return function(e){return"[object Object]"===un.call(e)}(e)}function dn(e){return Boolean(e&&e.then&&"function"==typeof e.then)}var hn=function(){function e(e){var t=this;this._state=0,this._handlers=[],this._resolve=function(e){t._setResult(1,e)},this._reject=function(e){t._setResult(2,e)},this._setResult=function(e,r){0===t._state&&(dn(r)?r.then(t._resolve,t._reject):(t._state=e,t._value=r,t._executeHandlers()))},this._executeHandlers=function(){if(0!==t._state){var e=t._handlers.slice();t._handlers=[],e.forEach((function(e){e[0]||(1===t._state&&e[1](t._value),2===t._state&&e[2](t._value),e[0]=!0)}))}};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}return e.prototype.then=function(t,r){var n=this;return new e((function(e,i){n._handlers.push([!1,function(r){if(t)try{e(t(r))}catch(e){i(e)}else e(r)},function(t){if(r)try{e(r(t))}catch(e){i(e)}else i(t)}]),n._executeHandlers()}))},e.prototype.catch=function(e){return this.then((function(e){return e}),e)},e.prototype.finally=function(t){var r=this;return new e((function(e,n){var i,o;return r.then((function(e){o=!1,i=e,t&&t()}),(function(e){o=!0,i=e,t&&t()})).then((function(){o?n(i):e(i)}))}))},e}(),pn=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return e.clone=function(t){var r=new e;return t&&(r._breadcrumbs=tn(t._breadcrumbs),r._tags=Kr({},t._tags),r._extra=Kr({},t._extra),r._contexts=Kr({},t._contexts),r._user=t._user,r._level=t._level,r._span=t._span,r._session=t._session,r._transactionName=t._transactionName,r._fingerprint=t._fingerprint,r._eventProcessors=tn(t._eventProcessors),r._requestSession=t._requestSession),r},e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(e){return this._requestSession=e,this},e.prototype.setTags=function(e){return this._tags=Kr(Kr({},this._tags),e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var r;return this._tags=Kr(Kr({},this._tags),((r={})[e]=t,r)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=Kr(Kr({},this._extra),e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var r;return this._extra=Kr(Kr({},this._extra),((r={})[e]=t,r)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this.setTransactionName(e)},e.prototype.setContext=function(e,t){var r;return null===t?delete this._contexts[e]:this._contexts=Kr(Kr({},this._contexts),((r={})[e]=t,r)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var e=this.getSpan();return e&&e.transaction},e.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"==typeof t){var r=t(this);return r instanceof e?r:this}return t instanceof e?(this._tags=Kr(Kr({},this._tags),t._tags),this._extra=Kr(Kr({},this._extra),t._extra),this._contexts=Kr(Kr({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):ln(t)&&(this._tags=Kr(Kr({},this._tags),t.tags),this._extra=Kr(Kr({},this._extra),t.extra),this._contexts=Kr(Kr({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var r="number"==typeof t?Math.min(t,100):100;if(r<=0)return this;var n=Kr({timestamp:(0,an.lu)()},e);return this._breadcrumbs=tn(this._breadcrumbs,[n]).slice(-r),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(e,t){if(this._extra&&Object.keys(this._extra).length&&(e.extra=Kr(Kr({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=Kr(Kr({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=Kr(Kr({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=Kr(Kr({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=Kr({trace:this._span.getTraceContext()},e.contexts);var r=this._span.transaction&&this._span.transaction.name;r&&(e.tags=Kr({transaction:r},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=tn(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors(tn((0,rn.B)("globalEventProcessors",(function(){return[]})),this._eventProcessors),e,t)},e.prototype.setSDKProcessingMetadata=function(e){return this._sdkProcessingMetadata=Kr(Kr({},this._sdkProcessingMetadata),e),this},e.prototype._notifyEventProcessors=function(e,t,r,n){var i=this;return void 0===n&&(n=0),new hn((function(o,a){var s=e[n];if(null===t||"function"!=typeof s)o(t);else{var c=s(Kr({},t),r);dn(c)?c.then((function(t){return i._notifyEventProcessors(e,t,r,n+1).then(o)})).then(null,a):i._notifyEventProcessors(e,c,r,n+1).then(o).then(null,a)}}))},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e}();function fn(e){var t,r;if(ln(e)){var n={};try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e)),o=i.next();!o.done;o=i.next()){var a=o.value;void 0!==e[a]&&(n[a]=fn(e[a]))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}return Array.isArray(e)?e.map(fn):e}var gn=function(){function e(e){this.errors=0,this.sid=nn(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var t=(0,an.zf)();this.timestamp=t,this.started=t,e&&this.update(e)}return e.prototype.update=function(e){if(void 0===e&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),this.did||e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||(0,an.zf)(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=32===e.sid.length?e.sid:nn()),void 0!==e.init&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),"number"==typeof e.started&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if("number"==typeof e.duration)this.duration=e.duration;else{var t=this.timestamp-this.started;this.duration=t>=0?t:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),"number"==typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},e.prototype.close=function(e){e?this.update({status:e}):"ok"===this.status?this.update({status:"exited"}):this.update()},e.prototype.toJSON=function(){return fn({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},e}(),mn=4,vn=function(){function e(e,t,r){void 0===t&&(t=new pn),void 0===r&&(r=mn),this._version=r,this._stack=[{}],this.getStackTop().scope=t,e&&this.bindClient(e)}return e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=pn.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},e.prototype.popScope=function(){return!(this.getStack().length<=1||!this.getStack().pop())},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var r=this._lastEventId=t&&t.event_id?t.event_id:nn(),n=t;if(!t){var i=void 0;try{throw new Error("Sentry syntheticException")}catch(e){i=e}n={originalException:e,syntheticException:i}}return this._invokeClient("captureException",e,Kr(Kr({},n),{event_id:r})),r},e.prototype.captureMessage=function(e,t,r){var n=this._lastEventId=r&&r.event_id?r.event_id:nn(),i=r;if(!r){var o=void 0;try{throw new Error(e)}catch(e){o=e}i={originalException:e,syntheticException:o}}return this._invokeClient("captureMessage",e,t,Kr(Kr({},i),{event_id:n})),n},e.prototype.captureEvent=function(e,t){var r=t&&t.event_id?t.event_id:nn();return"transaction"!==e.type&&(this._lastEventId=r),this._invokeClient("captureEvent",e,Kr(Kr({},t),{event_id:r})),r},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var r=this.getStackTop(),n=r.scope,i=r.client;if(n&&i){var o=i.getOptions&&i.getOptions()||{},a=o.beforeBreadcrumb,s=void 0===a?null:a,c=o.maxBreadcrumbs,u=void 0===c?100:c;if(!(u<=0)){var l=(0,an.lu)(),d=Kr({timestamp:l},e),h=s?function(e){var t=(0,rn.V)();if(!("console"in t))return e();var r=t.console,n={};sn.forEach((function(e){var i=r[e]&&r[e].__sentry_original__;e in t.console&&i&&(n[e]=r[e],r[e]=i)}));try{return e()}finally{Object.keys(n).forEach((function(e){r[e]=n[e]}))}}((function(){return s(d,t)})):d;null!==h&&n.addBreadcrumb(h,u)}}},e.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},e.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},e.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},e.prototype.setTag=function(e,t){var r=this.getScope();r&&r.setTag(e,t)},e.prototype.setExtra=function(e,t){var r=this.getScope();r&&r.setExtra(e,t)},e.prototype.setContext=function(e,t){var r=this.getScope();r&&r.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop(),r=t.scope,n=t.client;r&&n&&e(r)},e.prototype.run=function(e){var t=bn(this);try{e(this)}finally{bn(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(e){return null}},e.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},e.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(e){if(void 0===e&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var e=this.getStackTop(),t=e&&e.scope,r=t&&t.getSession();r&&r.close(),this._sendSessionUpdate(),t&&t.setSession()},e.prototype.startSession=function(e){var t=this.getStackTop(),r=t.scope,n=t.client,i=n&&n.getOptions()||{},o=i.release,a=i.environment,s=((0,rn.V)().navigator||{}).userAgent,c=new gn(Kr(Kr(Kr({release:o,environment:a},r&&{user:r.getUser()}),s&&{userAgent:s}),e));if(r){var u=r.getSession&&r.getSession();u&&"ok"===u.status&&u.update({status:"exited"}),this.endSession(),r.setSession(c)}return c},e.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),t=e.scope,r=e.client;if(t){var n=t.getSession&&t.getSession();n&&r&&r.captureSession&&r.captureSession(n)}},e.prototype._invokeClient=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=this.getStackTop(),o=i.scope,a=i.client;a&&a[e]&&(t=a)[e].apply(t,tn(r,[o]))},e.prototype._callExtensionMethod=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=yn().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t)},e}();function yn(){var e=(0,rn.V)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function bn(e){var t=yn(),r=wn(t);return xn(t,e),r}function _n(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function wn(e){return(0,rn.B)("hub",(function(){return new vn}),e)}function xn(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}function Tn(e,t){return function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n,i=(_n(n=yn())&&!wn(n).isOlderThan(mn)||xn(n,new vn),(0,cn.wD)()?function(e){try{var t=yn().__SENTRY__,r=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!r)return wn(e);if(!_n(r)||wn(r).isOlderThan(mn)){var n=wn(e).getStackTop();xn(r,new vn(n.client,pn.clone(n.scope)))}return wn(r)}catch(t){return wn(e)}}(n):wn(n));if(i&&i[e])return i[e].apply(i,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Jr(arguments[t]));return e}(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}("captureException",e,{captureContext:t,originalException:e,syntheticException:new Error("Sentry syntheticException")})}var Sn=Ne().createContext(null),En=function(e){e()},In=function(){return En},kn={notify:function(){},get:function(){return[]}};function Mn(e,t){var r,n=kn;function i(){a.onStateChange&&a.onStateChange()}function o(){r||(r=t?t.addNestedSub(i):e.subscribe(i),n=function(){var e=In(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],r=t;r;)e.push(r),r=r.next;return e},subscribe:function(e){var n=!0,i=r={callback:e,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){n&&null!==t&&(n=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),n.subscribe(e)},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(r)},trySubscribe:o,tryUnsubscribe:function(){r&&(r(),r=void 0,n.clear(),n=kn)},getListeners:function(){return n}};return a}var An="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?Ae.useLayoutEffect:Ae.useEffect;const Nn=function(e){var t=e.store,r=e.context,n=e.children,i=(0,Ae.useMemo)((function(){var e=Mn(t);return{store:t,subscription:e}}),[t]),o=(0,Ae.useMemo)((function(){return t.getState()}),[t]);An((function(){var e=i.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,o]);var a=r||Sn;return Ne().createElement(a.Provider,{value:i},n)};function On(){return On=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},On.apply(this,arguments)}function jn(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var Pn=__webpack_require__(8486),Cn=__webpack_require__.n(Pn),Dn=__webpack_require__(8210),Ln=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Rn=["reactReduxForwardedRef"],Bn=[],Un=[null,null];function Fn(e,t){var r=e[1];return[t.payload,r+1]}function zn(e,t,r){An((function(){return e.apply(void 0,t)}),r)}function Gn(e,t,r,n,i,o,a){e.current=n,t.current=i,r.current=!1,o.current&&(o.current=null,a())}function Hn(e,t,r,n,i,o,a,s,c,u){if(e){var l=!1,d=null,h=function(){if(!l){var e,r,h=t.getState();try{e=n(h,i.current)}catch(e){r=e,d=e}r||(d=null),e===o.current?a.current||c():(o.current=e,s.current=e,a.current=!0,u({type:"STORE_UPDATED",payload:{error:r}}))}};return r.onStateChange=h,r.trySubscribe(),h(),function(){if(l=!0,r.tryUnsubscribe(),r.onStateChange=null,d)throw d}}}var Wn=function(){return[null,0]};function $n(e,t){void 0===t&&(t={});var r=t,n=r.getDisplayName,i=void 0===n?function(e){return"ConnectAdvanced("+e+")"}:n,o=r.methodName,a=void 0===o?"connectAdvanced":o,s=r.renderCountProp,c=void 0===s?void 0:s,u=r.shouldHandleStateChanges,l=void 0===u||u,d=r.storeKey,h=void 0===d?"store":d,p=(r.withRef,r.forwardRef),f=void 0!==p&&p,g=r.context,m=void 0===g?Sn:g,v=jn(r,Ln),y=m;return function(t){var r=t.displayName||t.name||"Component",n=i(r),o=On({},v,{getDisplayName:i,methodName:a,renderCountProp:c,shouldHandleStateChanges:l,storeKey:h,displayName:n,wrappedComponentName:r,WrappedComponent:t}),s=v.pure,u=s?Ae.useMemo:function(e){return e()};function d(r){var n=(0,Ae.useMemo)((function(){var e=r.reactReduxForwardedRef,t=jn(r,Rn);return[r.context,e,t]}),[r]),i=n[0],a=n[1],s=n[2],c=(0,Ae.useMemo)((function(){return i&&i.Consumer&&(0,Dn.isContextConsumer)(Ne().createElement(i.Consumer,null))?i:y}),[i,y]),d=(0,Ae.useContext)(c),h=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(d)&&Boolean(d.store);var p=h?r.store:d.store,f=(0,Ae.useMemo)((function(){return function(t){return e(t.dispatch,o)}(p)}),[p]),g=(0,Ae.useMemo)((function(){if(!l)return Un;var e=Mn(p,h?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[p,h,d]),m=g[0],v=g[1],b=(0,Ae.useMemo)((function(){return h?d:On({},d,{subscription:m})}),[h,d,m]),_=(0,Ae.useReducer)(Fn,Bn,Wn),w=_[0][0],x=_[1];if(w&&w.error)throw w.error;var T=(0,Ae.useRef)(),S=(0,Ae.useRef)(s),E=(0,Ae.useRef)(),I=(0,Ae.useRef)(!1),k=u((function(){return E.current&&s===S.current?E.current:f(p.getState(),s)}),[p,w,s]);zn(Gn,[S,T,I,s,k,E,v]),zn(Hn,[l,p,m,f,S,T,I,E,v,x],[p,m,f]);var M=(0,Ae.useMemo)((function(){return Ne().createElement(t,On({},k,{ref:a}))}),[a,t,k]);return(0,Ae.useMemo)((function(){return l?Ne().createElement(c.Provider,{value:b},M):M}),[c,M,b])}var p=s?Ne().memo(d):d;if(p.WrappedComponent=t,p.displayName=d.displayName=n,f){var g=Ne().forwardRef((function(e,t){return Ne().createElement(p,On({},e,{reactReduxForwardedRef:t}))}));return g.displayName=n,g.WrappedComponent=t,Cn()(g,t)}return Cn()(p,t)}}function Vn(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Yn(e,t){if(Vn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!Vn(e[r[i]],t[r[i]]))return!1;return!0}function qn(e){return function(t,r){var n=e(t,r);function i(){return n}return i.dependsOnOwnProps=!1,i}}function Zn(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Qn(e){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=Zn(e);var i=n(t,r);return"function"==typeof i&&(n.mapToProps=i,n.dependsOnOwnProps=Zn(i),i=n(t,r)),i},n}}const Xn=[function(e){return"function"==typeof e?Qn(e):void 0},function(e){return e?void 0:qn((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?qn((function(t){return function(e,t){var r={},n=function(n){var i=e[n];"function"==typeof i&&(r[n]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)n(i);return r}(e,t)})):void 0}],Jn=[function(e){return"function"==typeof e?Qn(e):void 0},function(e){return e?void 0:qn((function(){return{}}))}];function Kn(e,t,r){return On({},r,e,t)}const ei=[function(e){return"function"==typeof e?function(e){return function(t,r){r.displayName;var n,i=r.pure,o=r.areMergedPropsEqual,a=!1;return function(t,r,s){var c=e(t,r,s);return a?i&&o(c,n)||(n=c):(a=!0,n=c),n}}}(e):void 0},function(e){return e?void 0:function(){return Kn}}];var ti=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function ri(e,t,r,n){return function(i,o){return r(e(i,o),t(n,o),o)}}function ni(e,t,r,n,i){var o,a,s,c,u,l=i.areStatesEqual,d=i.areOwnPropsEqual,h=i.areStatePropsEqual,p=!1;return function(i,f){return p?function(i,p){var f,g,m=!d(p,a),v=!l(i,o,p,a);return o=i,a=p,m&&v?(s=e(o,a),t.dependsOnOwnProps&&(c=t(n,a)),u=r(s,c,a)):m?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(c=t(n,a)),u=r(s,c,a)):v?(f=e(o,a),g=!h(f,s),s=f,g&&(u=r(s,c,a)),u):u}(i,f):(s=e(o=i,a=f),c=t(n,a),u=r(s,c,a),p=!0,u)}}function ii(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,i=t.initMergeProps,o=jn(t,ti),a=r(e,o),s=n(e,o),c=i(e,o);return(o.pure?ni:ri)(a,s,c,e,o)}var oi=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function ai(e,t,r){for(var n=t.length-1;n>=0;n--){var i=t[n](e);if(i)return i}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function si(e,t){return e===t}function ci(e){var t=void 0===e?{}:e,r=t.connectHOC,n=void 0===r?$n:r,i=t.mapStateToPropsFactories,o=void 0===i?Jn:i,a=t.mapDispatchToPropsFactories,s=void 0===a?Xn:a,c=t.mergePropsFactories,u=void 0===c?ei:c,l=t.selectorFactory,d=void 0===l?ii:l;return function(e,t,r,i){void 0===i&&(i={});var a=i,c=a.pure,l=void 0===c||c,h=a.areStatesEqual,p=void 0===h?si:h,f=a.areOwnPropsEqual,g=void 0===f?Yn:f,m=a.areStatePropsEqual,v=void 0===m?Yn:m,y=a.areMergedPropsEqual,b=void 0===y?Yn:y,_=jn(a,oi),w=ai(e,o,"mapStateToProps"),x=ai(t,s,"mapDispatchToProps"),T=ai(r,u,"mergeProps");return n(d,On({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:x,initMergeProps:T,pure:l,areStatesEqual:p,areOwnPropsEqual:g,areStatePropsEqual:v,areMergedPropsEqual:b},_))}}const ui=ci();function li(){return(0,Ae.useContext)(Sn)}function di(e){void 0===e&&(e=Sn);var t=e===Sn?li:function(){return(0,Ae.useContext)(e)};return function(){return t().store}}var hi=di();function pi(e){void 0===e&&(e=Sn);var t=e===Sn?hi:di(e);return function(){return t().dispatch}}var fi=pi(),gi=function(e,t){return e===t};function mi(e){void 0===e&&(e=Sn);var t=e===Sn?li:function(){return(0,Ae.useContext)(e)};return function(e,r){void 0===r&&(r=gi);var n=t(),i=function(e,t,r,n){var i,o=(0,Ae.useReducer)((function(e){return e+1}),0)[1],a=(0,Ae.useMemo)((function(){return Mn(r,n)}),[r,n]),s=(0,Ae.useRef)(),c=(0,Ae.useRef)(),u=(0,Ae.useRef)(),l=(0,Ae.useRef)(),d=r.getState();try{if(e!==c.current||d!==u.current||s.current){var h=e(d);i=void 0!==l.current&&t(h,l.current)?l.current:h}else i=l.current}catch(e){throw s.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+s.current.stack+"\n\n"),e}return An((function(){c.current=e,u.current=d,l.current=i,s.current=void 0})),An((function(){function e(){try{var e=r.getState();if(e===u.current)return;var n=c.current(e);if(t(n,l.current))return;l.current=n,u.current=e}catch(e){s.current=e}o()}return a.onStateChange=e,a.trySubscribe(),e(),function(){return a.tryUnsubscribe()}}),[r,a]),i}(e,r,n.store,n.subscription);return(0,Ae.useDebugValue)(i),i}}var vi=mi();const yi=ReactDOM;var bi,_i=__webpack_require__.n(yi);function wi(e){return wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wi(e)}function xi(e){var t=function(e){if("object"!=wi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=wi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wi(t)?t:t+""}function Ti(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ti(Object(r),!0).forEach((function(t){var n,i,o;n=e,i=t,o=r[t],(i=xi(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ti(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ei(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}bi=yi.unstable_batchedUpdates,En=bi;var Ii="function"==typeof Symbol&&Symbol.observable||"@@observable",ki=function(){return Math.random().toString(36).substring(7).split("").join(".")},Mi={INIT:"@@redux/INIT"+ki(),REPLACE:"@@redux/REPLACE"+ki(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ki()}};function Ai(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(Ei(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(Ei(1));return r(Ai)(e,t)}if("function"!=typeof e)throw new Error(Ei(2));var i=e,o=t,a=[],s=a,c=!1;function u(){s===a&&(s=a.slice())}function l(){if(c)throw new Error(Ei(3));return o}function d(e){if("function"!=typeof e)throw new Error(Ei(4));if(c)throw new Error(Ei(5));var t=!0;return u(),s.push(e),function(){if(t){if(c)throw new Error(Ei(6));t=!1,u();var r=s.indexOf(e);s.splice(r,1),a=null}}}function h(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(Ei(7));if(void 0===e.type)throw new Error(Ei(8));if(c)throw new Error(Ei(9));try{c=!0,o=i(o,e)}finally{c=!1}for(var t=a=s,r=0;r<t.length;r++)(0,t[r])();return e}return h({type:Mi.INIT}),(n={dispatch:h,subscribe:d,getState:l,replaceReducer:function(e){if("function"!=typeof e)throw new Error(Ei(10));i=e,h({type:Mi.REPLACE})}})[Ii]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(Ei(11));function r(){e.next&&e.next(l())}return r(),{unsubscribe:t(r)}}})[Ii]=function(){return this},e},n}function Ni(e,t){return function(){return t(e.apply(this,arguments))}}function Oi(e,t){if("function"==typeof e)return Ni(e,t);if("object"!=typeof e||null===e)throw new Error(Ei(16));var r={};for(var n in e){var i=e[n];"function"==typeof i&&(r[n]=Ni(i,t))}return r}function ji(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Pi(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(i){return"function"==typeof i?i(r,n,e):t(i)}}}}var Ci=Pi();Ci.withExtraArgument=Pi;const Di=Ci;__webpack_require__(2553);var Li=[{name:"Reader preview",flags:[{name:"previewReaderTestMode",share:0}]},{name:"Lead generation",flags:[{name:"leadgen",share:0}]},{name:"Flips",flags:[{name:"noflip",share:0},{name:"verticalflip",share:0}]},{name:"Hide controls",flags:[{name:"hide_controls",share:0}]}];function Ri(){return`${O}${R}`}function Bi(){return`${O}${D}`}function Ui(){return{api:`${O}${j}`,main:`${O}${D}`,image:`${O}${C}`,photo:`${O}${L}`,reader3:`${O}${B}`,pingback:`${O}${R}`}}window._qevents=window._qevents||[];class Fi{constructor(e){var{quantcastId:t}=e;this._quantcastId=t}destroy(){}track(){window.__qc&&(window.__qc.qpixelsent=[]);try{window._qevents&&window._qevents.push({qacct:this._quantcastId})}catch(e){}}}function zi(){if("function"==typeof window.requestIdleCallback&&"function"==typeof window.cancelIdleCallback)return{rIC:(e,t)=>window.requestIdleCallback(e,t),cIC:e=>window.cancelIdleCallback(e)};var e=null,t=!1,r=-1,n=!1,i=0,o=33,a=33,s={didTimeout:!1,timeRemaining(){var e=i-performance.now();return e>0?e:0}},c=`__rIC$${Math.random().toString(36).slice(2)}`,u=function(e){n=!1;var r=e-i+a;r<a&&o<a?(r<8&&(r=8),a=r<o?o:r):o=r,i=e+a,t||(t=!0,window.postMessage(c,"*"))},l=function(o){if(o.source===window&&o.data===c){t=!1;var a=performance.now();if(i-a<=0){if(!(-1!==r&&r<=a))return void(n||(n=!0,requestAnimationFrame(u)));s.didTimeout=!0}else s.didTimeout=!1;r=-1;var d=e;e=null,window.removeEventListener("message",l,!1),null!==d&&d(s)}};return window.addEventListener("message",l,!1),{rIC:function(t,i){return e=t,i&&"number"==typeof i.timeout&&(r=performance.now()+i.timeout),n||(n=!0,requestAnimationFrame(u)),0},cIC:function(){e=null,t=!1,r=-1}}}var Gi=/^(?:Mediapartners-Google|Yahoo|MSNPTC|Baiduspider|Yandex|proximic|Ezooms)|bot\/|Yahoo! Slurp|Ask Jeeves\/Teoma|spider|crawl|ia_archiver|heritrix\//i;function Hi(e){return Gi.test(e)}function Wi(e){return e&&!(e=decodeURIComponent(e)).startsWith("#")&&/^([0-9a-f]{3,4}|(?:[0-9a-f]{2}){3,4})$/i.test(e)&&(e=`#${e}`),e}function $i(e){var t=/^#?(?:([a-f\d]{2})([a-f\d]{2})([a-f\d]{2}))|(?:([a-f\d])([a-f\d])([a-f\d]))$/i.exec(e);return t?{r:parseInt(void 0===t[1]?`${t[4]}${t[4]}`:t[1],16),g:parseInt(void 0===t[2]?`${t[5]}${t[5]}`:t[2],16),b:parseInt(void 0===t[3]?`${t[4]}${t[6]}`:t[3],16)}:null}function Vi(e){return 2*e.r+3*e.g+e.b}function Yi(e,t){var r=e.r,n=e.g,i=e.b;r=(r=(r+=255*t)<255?r:255)<0?0:r,n=(n=(n+=255*t)<255?n:255)<0?0:n,i=(i=(i+=255*t)<255?i:255)<0?0:i;var o=Math.round(r).toString(16),a=Math.round(n).toString(16),s=Math.round(i).toString(16);return"#"+(1===o.length?"0"+o:o)+(1===a.length?"0"+a:a)+(1===s.length?"0"+s:s)}var qi={adId:"adId",autoFlip:"doAutoflipPages",backgroundColor:"backgroundColor",documentId:"documentId",enableSeeMore:"showOtherPublicationsAsSuggestions",fullscreenBackgroundColor:"backgroundColorFullscreen",fullscreenBackgroundImage:"backgroundImageUrl",fullscreenBackgroundPosition:"backgroundImagePosition",fullscreenLogo:"logoImageUrl",hideIssuuLogo:"hideIssuuLogo",hideShare:"hideShareButton",identifier:"identifier",layout:"pageLayout",legacyViewMode:"viewMode",publicationId:"pubId",streamOrigin:"streamOrigin",streamRanking:"streamRanking",themeMainColor:"themeMainColor",themeSecondaryColor:"themeSecondaryColor"},Zi=/^((www|e|dev-html)\.)?t?issuu\.com$/;function Qi(e,t){if(e&&!t){var r=new URL(e).hostname,n=encodeURIComponent(r);if(!Zi.test(r))return`utm_medium=referral&utm_source=${n}`}return""}function Xi(e,t){return void 0===t&&(t="?"),e?`${t}${e}`:""}var Ji,Ki=__webpack_require__(4110),eo=Ki.Reader,to=Ki.Writer,ro=Ki.util,no=Ki.roots.default||(Ki.roots.default={}),io=no.smartnav=(()=>{var e={};return e.BoundingBox=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.top=0,e.prototype.right=0,e.prototype.bottom=0,e.prototype.left=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=to.create()),null!=e.top&&Object.hasOwnProperty.call(e,"top")&&t.uint32(13).float(e.top),null!=e.right&&Object.hasOwnProperty.call(e,"right")&&t.uint32(21).float(e.right),null!=e.bottom&&Object.hasOwnProperty.call(e,"bottom")&&t.uint32(29).float(e.bottom),null!=e.left&&Object.hasOwnProperty.call(e,"left")&&t.uint32(37).float(e.left),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof eo||(e=eo.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new no.smartnav.BoundingBox;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.top=e.float();break;case 2:n.right=e.float();break;case 3:n.bottom=e.float();break;case 4:n.left=e.float();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof eo||(e=new eo(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.top&&e.hasOwnProperty("top")&&"number"!=typeof e.top?"top: number expected":null!=e.right&&e.hasOwnProperty("right")&&"number"!=typeof e.right?"right: number expected":null!=e.bottom&&e.hasOwnProperty("bottom")&&"number"!=typeof e.bottom?"bottom: number expected":null!=e.left&&e.hasOwnProperty("left")&&"number"!=typeof e.left?"left: number expected":null},e.fromObject=function(e){if(e instanceof no.smartnav.BoundingBox)return e;var t=new no.smartnav.BoundingBox;return null!=e.top&&(t.top=Number(e.top)),null!=e.right&&(t.right=Number(e.right)),null!=e.bottom&&(t.bottom=Number(e.bottom)),null!=e.left&&(t.left=Number(e.left)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.top=0,r.right=0,r.bottom=0,r.left=0),null!=e.top&&e.hasOwnProperty("top")&&(r.top=t.json&&!isFinite(e.top)?String(e.top):e.top),null!=e.right&&e.hasOwnProperty("right")&&(r.right=t.json&&!isFinite(e.right)?String(e.right):e.right),null!=e.bottom&&e.hasOwnProperty("bottom")&&(r.bottom=t.json&&!isFinite(e.bottom)?String(e.bottom):e.bottom),null!=e.left&&e.hasOwnProperty("left")&&(r.left=t.json&&!isFinite(e.left)?String(e.left):e.left),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ki.util.toJSONOptions)},e}(),e.Image=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=to.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof eo||(e=eo.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new no.smartnav.Image;e.pos<r;){var i=e.uint32();e.skipType(7&i)}return n},e.decodeDelimited=function(e){return e instanceof eo||(e=new eo(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof no.smartnav.Image?e:new no.smartnav.Image},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ki.util.toJSONOptions)},e}(),e.Text=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.fontSize=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=to.create()),null!=e.fontSize&&Object.hasOwnProperty.call(e,"fontSize")&&t.uint32(13).float(e.fontSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof eo||(e=eo.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new no.smartnav.Text;e.pos<r;){var i=e.uint32();i>>>3==1?n.fontSize=e.float():e.skipType(7&i)}return n},e.decodeDelimited=function(e){return e instanceof eo||(e=new eo(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.fontSize&&e.hasOwnProperty("fontSize")&&"number"!=typeof e.fontSize?"fontSize: number expected":null},e.fromObject=function(e){if(e instanceof no.smartnav.Text)return e;var t=new no.smartnav.Text;return null!=e.fontSize&&(t.fontSize=Number(e.fontSize)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.fontSize=0),null!=e.fontSize&&e.hasOwnProperty("fontSize")&&(r.fontSize=t.json&&!isFinite(e.fontSize)?String(e.fontSize):e.fontSize),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ki.util.toJSONOptions)},e}(),e.Block=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.boundingBox=null,e.prototype.image=null,e.prototype.text=null,Object.defineProperty(e.prototype,"blockType",{get:ro.oneOfGetter(t=["image","text"]),set:ro.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=to.create()),null!=e.boundingBox&&Object.hasOwnProperty.call(e,"boundingBox")&&no.smartnav.BoundingBox.encode(e.boundingBox,t.uint32(10).fork()).ldelim(),null!=e.image&&Object.hasOwnProperty.call(e,"image")&&no.smartnav.Image.encode(e.image,t.uint32(18).fork()).ldelim(),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&no.smartnav.Text.encode(e.text,t.uint32(26).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof eo||(e=eo.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new no.smartnav.Block;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.boundingBox=no.smartnav.BoundingBox.decode(e,e.uint32());break;case 2:n.image=no.smartnav.Image.decode(e,e.uint32());break;case 3:n.text=no.smartnav.Text.decode(e,e.uint32());break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof eo||(e=new eo(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.boundingBox&&e.hasOwnProperty("boundingBox")){var r=no.smartnav.BoundingBox.verify(e.boundingBox);if(r)return"boundingBox."+r}if(null!=e.image&&e.hasOwnProperty("image")){t.blockType=1;var n=no.smartnav.Image.verify(e.image);if(n)return"image."+n}if(null!=e.text&&e.hasOwnProperty("text")){if(1===t.blockType)return"blockType: multiple values";t.blockType=1;var i=no.smartnav.Text.verify(e.text);if(i)return"text."+i}return null},e.fromObject=function(e){if(e instanceof no.smartnav.Block)return e;var t=new no.smartnav.Block;if(null!=e.boundingBox){if("object"!=typeof e.boundingBox)throw TypeError(".smartnav.Block.boundingBox: object expected");t.boundingBox=no.smartnav.BoundingBox.fromObject(e.boundingBox)}if(null!=e.image){if("object"!=typeof e.image)throw TypeError(".smartnav.Block.image: object expected");t.image=no.smartnav.Image.fromObject(e.image)}if(null!=e.text){if("object"!=typeof e.text)throw TypeError(".smartnav.Block.text: object expected");t.text=no.smartnav.Text.fromObject(e.text)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.boundingBox=null),null!=e.boundingBox&&e.hasOwnProperty("boundingBox")&&(r.boundingBox=no.smartnav.BoundingBox.toObject(e.boundingBox,t)),null!=e.image&&e.hasOwnProperty("image")&&(r.image=no.smartnav.Image.toObject(e.image,t),t.oneofs&&(r.blockType="image")),null!=e.text&&e.hasOwnProperty("text")&&(r.text=no.smartnav.Text.toObject(e.text,t),t.oneofs&&(r.blockType="text")),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ki.util.toJSONOptions)},e}(),e.Page=function(){function e(e){if(this.blocks=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.pageNumber=0,e.prototype.width=0,e.prototype.height=0,e.prototype.blocks=ro.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=to.create()),null!=e.pageNumber&&Object.hasOwnProperty.call(e,"pageNumber")&&t.uint32(8).uint32(e.pageNumber),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(21).float(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(29).float(e.height),null!=e.blocks&&e.blocks.length)for(var r=0;r<e.blocks.length;++r)no.smartnav.Block.encode(e.blocks[r],t.uint32(34).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof eo||(e=eo.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new no.smartnav.Page;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.pageNumber=e.uint32();break;case 2:n.width=e.float();break;case 3:n.height=e.float();break;case 4:n.blocks&&n.blocks.length||(n.blocks=[]),n.blocks.push(no.smartnav.Block.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof eo||(e=new eo(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.pageNumber&&e.hasOwnProperty("pageNumber")&&!ro.isInteger(e.pageNumber))return"pageNumber: integer expected";if(null!=e.width&&e.hasOwnProperty("width")&&"number"!=typeof e.width)return"width: number expected";if(null!=e.height&&e.hasOwnProperty("height")&&"number"!=typeof e.height)return"height: number expected";if(null!=e.blocks&&e.hasOwnProperty("blocks")){if(!Array.isArray(e.blocks))return"blocks: array expected";for(var t=0;t<e.blocks.length;++t){var r=no.smartnav.Block.verify(e.blocks[t]);if(r)return"blocks."+r}}return null},e.fromObject=function(e){if(e instanceof no.smartnav.Page)return e;var t=new no.smartnav.Page;if(null!=e.pageNumber&&(t.pageNumber=e.pageNumber>>>0),null!=e.width&&(t.width=Number(e.width)),null!=e.height&&(t.height=Number(e.height)),e.blocks){if(!Array.isArray(e.blocks))throw TypeError(".smartnav.Page.blocks: array expected");t.blocks=[];for(var r=0;r<e.blocks.length;++r){if("object"!=typeof e.blocks[r])throw TypeError(".smartnav.Page.blocks: object expected");t.blocks[r]=no.smartnav.Block.fromObject(e.blocks[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.blocks=[]),t.defaults&&(r.pageNumber=0,r.width=0,r.height=0),null!=e.pageNumber&&e.hasOwnProperty("pageNumber")&&(r.pageNumber=e.pageNumber),null!=e.width&&e.hasOwnProperty("width")&&(r.width=t.json&&!isFinite(e.width)?String(e.width):e.width),null!=e.height&&e.hasOwnProperty("height")&&(r.height=t.json&&!isFinite(e.height)?String(e.height):e.height),e.blocks&&e.blocks.length){r.blocks=[];for(var n=0;n<e.blocks.length;++n)r.blocks[n]=no.smartnav.Block.toObject(e.blocks[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ki.util.toJSONOptions)},e}(),e.Asset=function(){function e(e){if(this.pages=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.pages=ro.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=to.create()),null!=e.pages&&e.pages.length)for(var r=0;r<e.pages.length;++r)no.smartnav.Page.encode(e.pages[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof eo||(e=eo.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new no.smartnav.Asset;e.pos<r;){var i=e.uint32();i>>>3==1?(n.pages&&n.pages.length||(n.pages=[]),n.pages.push(no.smartnav.Page.decode(e,e.uint32()))):e.skipType(7&i)}return n},e.decodeDelimited=function(e){return e instanceof eo||(e=new eo(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.pages&&e.hasOwnProperty("pages")){if(!Array.isArray(e.pages))return"pages: array expected";for(var t=0;t<e.pages.length;++t){var r=no.smartnav.Page.verify(e.pages[t]);if(r)return"pages."+r}}return null},e.fromObject=function(e){if(e instanceof no.smartnav.Asset)return e;var t=new no.smartnav.Asset;if(e.pages){if(!Array.isArray(e.pages))throw TypeError(".smartnav.Asset.pages: array expected");t.pages=[];for(var r=0;r<e.pages.length;++r){if("object"!=typeof e.pages[r])throw TypeError(".smartnav.Asset.pages: object expected");t.pages[r]=no.smartnav.Page.fromObject(e.pages[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.pages=[]),e.pages&&e.pages.length){r.pages=[];for(var n=0;n<e.pages.length;++n)r.pages[n]=no.smartnav.Page.toObject(e.pages[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ki.util.toJSONOptions)},e}(),e})();!function(e){e[e.FORWARD=0]="FORWARD",e[e.BACKWARD=1]="BACKWARD"}(Ji||(Ji={}));var oo=(e,t,r,n,i)=>n-i<=e.verticalSnapThreshold/t.zoom?e.padding.top-i*r:t.zoom*n-r*n+t.offsetY,ao=(e,t,r)=>{var{width:n,padding:i}=e;return(n-(i.left+i.right))/(r-t)},so=(e,t)=>{var{width:r,height:n}=e,{zoom:i,offsetX:o,offsetY:a}=t;return{top:-a/i,right:(r-o)/i,bottom:(n-a)/i,left:-o/i}},co=(e,t,r,n,i,o)=>({zoom:n,offsetX:e.padding.left-i*n,offsetY:oo(e,r,n,t.y,o)});function uo(){console.debug(...arguments)}var lo=(e,t,r,n,i,o,a,s)=>{var c,u,l,d,h,p,f,g=o.shift();if(g){uo("unidirectionalExpansion: oldExpansion=",e,", direction=",a);var m="text"===g.type?Math.min(e.minFontSize,g.fontSize):e.minFontSize,v=Math.min(e.left,g.boundingBox.left),y=Math.max(e.right,g.boundingBox.right),b=ao(t,v,y);uo(`unidirectionalExpansion: considering left=${v}, right=${y}`);var _=co(t,r,n,b,v,i.boundingBox.top),w=so(t,_),x=m*b,T=x>=t.minEffectiveFontSize,S=!s||((e,t)=>{var r=e.boundingBox;return r.top>=t.top&&r.bottom<=t.bottom&&r.left>=t.left&&r.right<=t.right})(s,w),E=0===a?((e,t)=>{var r=e.boundingBox;return r.top>=t.top&&r.top<=t.bottom&&r.left>=t.left&&r.right<=t.right})(g,w):((e,t)=>{var r=e.boundingBox;return r.bottom>=t.top&&r.bottom<=t.bottom&&r.left>=t.left&&r.right<=t.right})(g,w),I=((e,t)=>{var r=e.boundingBox,n=t.boundingBox;return(Math.min(r.right,n.right)-Math.max(r.left,n.left))/(Math.max(r.right,n.right)-Math.min(r.left,n.left))>=.6})(i,g),k=(c=g,u=e=>{var t=e.boundingBox;return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}},l=u(i),h=(d=u(c)).x-l.x,p=d.y-l.y,(f=180*Math.atan2(p,h)/Math.PI)>=-90&&f<=135);return uo("unidirectionalExpansion: ","effectiveFontSize=",x,"satisfiesFontSize=",T,"satisfiesOldVisibility=",S,"satisfiesThisVisibility=",E,"satisfiesColumn=",I,"satisfiesFlow=",k),T&&S&&E&&I?(uo("unidirectionalExpansion: all criteria are satisfied"),lo({zoom:b,left:v,right:y,minFontSize:m},t,r,n,i,o,a,g)):(uo("unidirectionalExpansion: criteria not satisfied and not continuing"),e)}return uo("unidirectionalExpansion: no more blocks"),e},ho=(e,t,r,n,i,o,a)=>{var s={zoom:n,left:o.boundingBox.left,right:o.boundingBox.right,minFontSize:o.fontSize},c=a.slice(i+1),u=lo(s,e,t,r,o,c,0),l=a.slice(0,i).reverse();return lo(u,e,t,r,o,l,1)};class po extends Error{}class fo extends Error{}class go extends Error{}for(var mo=new Set,vo=32;vo<=126;vo++)mo.add(String.fromCharCode(vo));function yo(e){if("\n"===e)return" ";if(mo.has(e))return e;var t=e.charCodeAt(0);return function(e){return 65280<=e&&e<=65374}(t)?function(e,t){return 65296<=e&&e<=65305||65313<=e&&e<=65338||65345<=e&&e<=65370?String.fromCharCode(255&e+32):t}(t,e):function(e){return e.replace(/\p{Diacritic}/gu,"").replace(/[]/g,"a").replace(/[]/g,"b").replace(/[]/g,"c").replace(/[]/g,"d").replace(/[]/g,"e").replace(/[]/g,"f").replace(/[]/g,"g").replace(/[]/g,"h").replace(/[]/g,"i").replace(/[]/g,"j").replace(/[]/g,"k").replace(/[]/g,"l").replace(/[]/g,"m").replace(/[]/g,"n").replace(/[]/g,"o").replace(/[]/g,"p").replace(/[]/g,"q").replace(/[]/g,"r").replace(/[]/g,"s").replace(/[]/g,"t").replace(/[]/g,"u").replace(/[]/g,"v").replace(/[]/g,"y").replace(/[]/g,"z")}(e)}function bo(e){return e.normalize("NFD").toLowerCase().split("").map(yo).join("")}var _o=/[-/\\^$*+?.()|[\]{}]/,wo=/\S/;function xo(e,t,r){var{start:n,end:i,blocks:o}=function(e,t,r){for(var n=[],i=0;i<r.length;i++){var o=r[i].text.length;if(n.length||e<o?n.push(r[i]):e-=o,n.length&&t<=o)return{start:e,end:t,blocks:n};t-=o}throw new Error("index out of range")}(e,e+t,r);return o.map(((e,t)=>{var r=0===t?n:0,a=t===o.length-1?i:e.charOffsets.length-1,s=e.charOffsets[r];return{x:s,y:0,width:e.charOffsets[a]-s,height:e.height,matrix:e.matrix}}))}var To=__webpack_require__(1484),So=__webpack_require__.n(To);class Eo extends Error{constructor(e){super(e),this.skipTracking=!1}}var Io={},ko=3e3,Mo=null,Ao=0,No=function(){try{return new Worker(URL.createObjectURL(new Blob([`(${(()=>{self.addEventListener("message",(e=>{var{url:t,id:r}=e.data;try{fetch(t,{mode:"cors"}).then((e=>e.blob())).then((e=>createImageBitmap(e))).then((e=>self.postMessage({id:r,bitmap:e},"/",[e]))).catch((e=>self.postMessage({id:r,error:e.toString()})))}catch(e){e instanceof Error&&self.postMessage({id:r,error:e.toString()})}}))}).toString()})()`])))}catch(e){return null}}();function Oo(e){return function(e){return function(e,t){if(Ao>=5)return Promise.reject("Too many timeouts");var r=null,n=new Promise(((e,t)=>{r=setTimeout((()=>{Ao++,t(new Error("Worker image decoder timeout"))}),2e3)}));return Promise.race([t,n]).then((e=>(r&&clearTimeout(r),e)),(e=>(r&&clearTimeout(r),Promise.reject(e))))}(0,new Promise(((t,r)=>{if(!No)return r("Unable to create Worker with Blob");var n=`id_${Math.random()}`;function i(e){var a=e.data;a.id===n&&(No?.removeEventListener("message",i),No?.removeEventListener("error",o),"bitmap"in a?t(a.bitmap):r(a.error))}function o(e){No?.removeEventListener("message",i),No?.removeEventListener("error",o),r(e)}No.addEventListener("message",i),No.addEventListener("error",o),No.postMessage({url:e,id:n})})))}(e).catch((()=>function(e){return new Promise(((t,r)=>{var n=new Image;"data"!==e.substr(0,4)&&(n.crossOrigin="Anonymous"),n.onload=()=>{"function"==typeof createImageBitmap?createImageBitmap(n).then((e=>t(e))):t(n)},n.onerror=()=>r(new TypeError("Could not load image")),n.src=e}))}(e))).catch((()=>function(e){return new Promise(((t,r)=>{var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=()=>{200===n.status?"function"==typeof createImageBitmap?createImageBitmap(n.response).then((e=>{t(e)}),(()=>{r(new TypeError("[loadImageWithXHR] Could not create image bitmap"))})):r(new TypeError("[loadImageWithXHR] createImageBitmap not support")):r(new TypeError(`[loadImageWithXHR] Could not load image ${n.status}`))},n.onerror=()=>{r(new TypeError("[loadImageWithXHR] Could not load image"))},n.send()}))}(e)))}function jo(e,t){return new Promise((function r(n,i,o,a){return void 0===o&&(o=1),void 0===a&&(a=100),e().then((e=>n([e,o]))).catch((e=>{o<t?setTimeout((()=>r(n,i,o+1,5*a)),a):i([e,o])}))}))}function Po(e,t,r,n){return{page:e,width:r,height:n,layers:[{type:"image",image:0,width:r,height:n}],images:[t],fonts:[]}}function Co(e,t){return fetch(e,{mode:"cors",credentials:t?"include":"omit"}).then((e=>e.json()))}function Do(e,t){return jo((()=>Co(e,t)),3).then((e=>{var[t,r]=e;return[t,r]}))}function Lo(e){var t=new Uint8Array(e.length);return new Promise((r=>{function n(i){for(var o=Math.min(t.length,i+1e4),a=i;a<o;a++)t[a]=255&e.charCodeAt(a);o<t.length?setTimeout((()=>n(o)),0):r(t)}setTimeout((()=>n(0)),0)}))}var Ro,Bo,Uo,Fo,zo=(e,t)=>function(){var e=new XMLHttpRequest;if("string"==typeof e.responseType)try{return e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return!1}return!1}()?function(e,t){return new Promise(((r,n)=>{var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.withCredentials=t,i.onload=()=>{var e=i.response;return e?r(new Uint8Array(e)):n()},i.onerror=()=>n(),i.send()}))}(e,t):function(e,t){return new Promise(((r,n)=>{var i=new XMLHttpRequest;if(i.open("GET",e,!0),i.withCredentials=t,!i.overrideMimeType)return n("cannot load binary files");i.overrideMimeType("text/plain; charset=x-user-defined"),i.onreadystatechange=()=>{if(4===i.readyState)return 200===i.status?r(i.responseText):n()},i.send()})).then(Lo)}(e,t),Go=Ki.Reader,Ho=Ki.Writer,Wo=Ki.util,$o=Ki.roots.default||(Ki.roots.default={});function Vo(e){for(var t=[],r=0;r<e.length;r+=32768)t.push(String.fromCharCode.apply(null,Array.from(e.subarray(r,r+32768))));return btoa(t.join(""))}function Yo(e){switch(e){case $o.layers.BlendType.Normal:return"source-over";case $o.layers.BlendType.Multiply:return"multiply";case $o.layers.BlendType.Screen:return"screen";case $o.layers.BlendType.Overlay:case $o.layers.BlendType.Darken:return"overlay";case $o.layers.BlendType.Lighten:return"lighten";case $o.layers.BlendType.Colordodge:return"color-dodge";case $o.layers.BlendType.Colorburn:return"color-burn";case $o.layers.BlendType.Hardlight:return"hard-light";case $o.layers.BlendType.Softlight:return"soft-light";case $o.layers.BlendType.Difference:return"difference";case $o.layers.BlendType.Exclusion:return"exclusion";case $o.layers.BlendType.Hue:return"hue";case $o.layers.BlendType.Saturation:return"saturation";case $o.layers.BlendType.Color:return"color";case $o.layers.BlendType.Luminosity:return"luminosity"}}function qo(e){return[e>>16&255,e>>8&255,255&e,(e>>24&255)/255]}function Zo(e){if(e.image){if("number"!=typeof e.image.width||"number"!=typeof e.image.height)throw new Error(`Invalid layer ${JSON.stringify(e)}`);return{type:"image",image:e.image.image??0,width:e.image.width,height:e.image.height}}if(e.rect){if(!e.rect?.box||"number"!=typeof e.rect.color||"number"!=typeof e.rect.blend)throw new Error(`Invalid layer ${JSON.stringify(e)}`);return{type:"rect",box:e.rect.box,color:qo(e.rect.color),blend:Yo(e.rect.blend)}}if(e.line){if(!e.line?.coord||"number"!=typeof e.line.color||"number"!=typeof e.line.blend)throw new Error(`Invalid layer ${JSON.stringify(e)}`);return{type:"line",coords:e.line.coord,color:qo(e.line.color),blend:Yo(e.line.blend)}}if(e.text){if(!("string"==typeof e.text?.text&&"number"==typeof e.text.font&&"number"==typeof e.text.size&&"number"==typeof e.text.color&&e.text.matrix&&e.text.originx&&e.text.originy&&e.text.scale))throw new Error(`Invalid layer ${JSON.stringify(e)}`);return{type:"text",text:e.text.text,font:e.text.font,size:e.text.size,color:qo(e.text.color),matrix:e.text.matrix,originx:e.text.originx,originy:e.text.originy,scale:e.text.scale}}throw new Error(`Unknown layer type: "${JSON.stringify(e)}"`)}function Qo(e,t){return jo((()=>zo(e,t)),3).then((e=>{var[t,r]=e,n=$o.layers.Page.decode(t);return[{layers:n.layer.map(Zo),encodedImages:n.image.map((e=>{if(e.resource instanceof Uint8Array)return{type:"embed",resource:Vo(e.resource)};if(e.url)return{type:"url",url:e.url};throw new Error(`Invalid image ${JSON.stringify(e)}`)})),encodedFonts:n.font.map((e=>{if("number"!=typeof e.weight||!(e.resource instanceof Uint8Array))throw new Error(`Invalid font ${JSON.stringify(e)}`);return{weight:e.weight,type:"embed",resource:Vo(e.resource)}})),width:n.width,height:n.height,page:n.page,version:n.version,usable:n.usable},r]}))}function Xo(e){var{url:t,pageNumber:r,width:n,height:i,loadStatsTracker:o}=e;return o?.onPageLoadStart(r,"image"),function(e,t,r,n){return jo((()=>Oo(e)),3).then((e=>{var[i,o]=e;return[Po(t,i,r,n),o]}))}(t,r,n,i).then((e=>{var[t,n]=e;return n>1?o?.onPageLoadSuccessAfterRetry(r,"image"):o?.onPageLoadSuccess(r,"image"),t})).catch((e=>(o?.onPageLoadFailure(r,"image"),Promise.reject(e))))}function Jo(e){for(var t=0,r=e.length,n=[];t<r-1;++t){var i=e.charCodeAt(t);i>=55296&&i<=56319&&(i=e.charCodeAt(t+1))>=56320&&i<=57343?(n.push(e.slice(t,t+2)),++t):n.push(e.charAt(t))}return n.push(e.charAt(t)),n}function Ko(){try{return performance.now()}catch(e){return Date.now()}}function ea(e){var t=[];return e.page?.forEach((e=>{if("number"==typeof e.pageNumber&&"number"==typeof e.width&&"number"==typeof e.height&&e.textBlock){var r=[];e.textBlock.forEach((e=>{if("number"==typeof e.height&&e.matrix&&"string"==typeof e.text){var t=e.charOffset?.reduce(((e,t)=>(e.push((e[e.length-1]||0)+t),e)),[])||[];t.push(t[t.length-1]),r.push({text:`${bo(e.text)}\n`,height:e.height,matrix:e.matrix,charOffsets:t})}})),t.push({pageNumber:e.pageNumber,textBlocks:r,text:e.textBlock.reduce(((e,t)=>`${e}${bo(t.text||"")}\n`),""),width:e.width,height:e.height})}})),{pages:t}}function ta(e){return ea($o.text.Document.decode(e))}$o.layers=((Uo={}).BlendType=(Ro={},(Bo=Object.create(Ro))[Ro[0]="Normal"]=0,Bo[Ro[1]="Multiply"]=1,Bo[Ro[2]="Screen"]=2,Bo[Ro[3]="Overlay"]=3,Bo[Ro[4]="Darken"]=4,Bo[Ro[5]="Lighten"]=5,Bo[Ro[6]="Colordodge"]=6,Bo[Ro[7]="Colorburn"]=7,Bo[Ro[8]="Hardlight"]=8,Bo[Ro[9]="Softlight"]=9,Bo[Ro[10]="Difference"]=10,Bo[Ro[11]="Exclusion"]=11,Bo[Ro[12]="Hue"]=12,Bo[Ro[13]="Saturation"]=13,Bo[Ro[14]="Color"]=14,Bo[Ro[15]="Luminosity"]=15,Bo),Uo.ImageLayer=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.image=0,e.prototype.width=0,e.prototype.height=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ho.create()),null!=e.image&&Object.hasOwnProperty.call(e,"image")&&t.uint32(8).uint32(e.image),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(16).uint32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(24).uint32(e.height),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Go||(e=Go.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $o.layers.ImageLayer;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.image=e.uint32();break;case 2:n.width=e.uint32();break;case 3:n.height=e.uint32();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Go||(e=new Go(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.image&&e.hasOwnProperty("image")&&!Wo.isInteger(e.image)?"image: integer expected":null!=e.width&&e.hasOwnProperty("width")&&!Wo.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!Wo.isInteger(e.height)?"height: integer expected":null},e.fromObject=function(e){if(e instanceof $o.layers.ImageLayer)return e;var t=new $o.layers.ImageLayer;return null!=e.image&&(t.image=e.image>>>0),null!=e.width&&(t.width=e.width>>>0),null!=e.height&&(t.height=e.height>>>0),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.image=0,r.width=0,r.height=0),null!=e.image&&e.hasOwnProperty("image")&&(r.image=e.image),null!=e.width&&e.hasOwnProperty("width")&&(r.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(r.height=e.height),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ki.util.toJSONOptions)},e}(),Uo.TextLayer=function(){function e(e){if(this.matrix=[],this.originx=[],this.originy=[],this.scale=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.text="",e.prototype.font=0,e.prototype.size=0,e.prototype.color=0,e.prototype.matrix=Wo.emptyArray,e.prototype.originx=Wo.emptyArray,e.prototype.originy=Wo.emptyArray,e.prototype.scale=Wo.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ho.create()),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(10).string(e.text),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(16).uint32(e.font),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(29).float(e.size),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(32).uint32(e.color),null!=e.matrix&&e.matrix.length){t.uint32(42).fork();for(var r=0;r<e.matrix.length;++r)t.float(e.matrix[r]);t.ldelim()}if(null!=e.originx&&e.originx.length){t.uint32(50).fork();for(var n=0;n<e.originx.length;++n)t.float(e.originx[n]);t.ldelim()}if(null!=e.originy&&e.originy.length){t.uint32(58).fork();for(var i=0;i<e.originy.length;++i)t.float(e.originy[i]);t.ldelim()}if(null!=e.scale&&e.scale.length){t.uint32(66).fork();for(var o=0;o<e.scale.length;++o)t.float(e.scale[o]);t.ldelim()}return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Go||(e=Go.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $o.layers.TextLayer;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.text=e.string();break;case 2:n.font=e.uint32();break;case 3:n.size=e.float();break;case 4:n.color=e.uint32();break;case 5:if(n.matrix&&n.matrix.length||(n.matrix=[]),2==(7&i))for(var o=e.uint32()+e.pos;e.pos<o;)n.matrix.push(e.float());else n.matrix.push(e.float());break;case 6:if(n.originx&&n.originx.length||(n.originx=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)n.originx.push(e.float());else n.originx.push(e.float());break;case 7:if(n.originy&&n.originy.length||(n.originy=[]),2==(7&i))for(var s=e.uint32()+e.pos;e.pos<s;)n.originy.push(e.float());else n.originy.push(e.float());break;case 8:if(n.scale&&n.scale.length||(n.scale=[]),2==(7&i))for(var c=e.uint32()+e.pos;e.pos<c;)n.scale.push(e.float());else n.scale.push(e.float());break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Go||(e=new Go(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.text&&e.hasOwnProperty("text")&&!Wo.isString(e.text))return"text: string expected";if(null!=e.font&&e.hasOwnProperty("font")&&!Wo.isInteger(e.font))return"font: integer expected";if(null!=e.size&&e.hasOwnProperty("size")&&"number"!=typeof e.size)return"size: number expected";if(null!=e.color&&e.hasOwnProperty("color")&&!Wo.isInteger(e.color))return"color: integer expected";if(null!=e.matrix&&e.hasOwnProperty("matrix")){if(!Array.isArray(e.matrix))return"matrix: array expected";for(var t=0;t<e.matrix.length;++t)if("number"!=typeof e.matrix[t])return"matrix: number[] expected"}if(null!=e.originx&&e.hasOwnProperty("originx")){if(!Array.isArray(e.originx))return"originx: array expected";for(var r=0;r<e.originx.length;++r)if("number"!=typeof e.originx[r])return"originx: number[] expected"}if(null!=e.originy&&e.hasOwnProperty("originy")){if(!Array.isArray(e.originy))return"originy: array expected";for(var n=0;n<e.originy.length;++n)if("number"!=typeof e.originy[n])return"originy: number[] expected"}if(null!=e.scale&&e.hasOwnProperty("scale")){if(!Array.isArray(e.scale))return"scale: array expected";for(var i=0;i<e.scale.length;++i)if("number"!=typeof e.scale[i])return"scale: number[] expected"}return null},e.fromObject=function(e){if(e instanceof $o.layers.TextLayer)return e;var t=new $o.layers.TextLayer;if(null!=e.text&&(t.text=String(e.text)),null!=e.font&&(t.font=e.font>>>0),null!=e.size&&(t.size=Number(e.size)),null!=e.color&&(t.color=e.color>>>0),e.matrix){if(!Array.isArray(e.matrix))throw TypeError(".layers.TextLayer.matrix: array expected");t.matrix=[];for(var r=0;r<e.matrix.length;++r)t.matrix[r]=Number(e.matrix[r])}if(e.originx){if(!Array.isArray(e.originx))throw TypeError(".layers.TextLayer.originx: array expected");t.originx=[];for(var n=0;n<e.originx.length;++n)t.originx[n]=Number(e.originx[n])}if(e.originy){if(!Array.isArray(e.originy))throw TypeError(".layers.TextLayer.originy: array expected");t.originy=[];for(var i=0;i<e.originy.length;++i)t.originy[i]=Number(e.originy[i])}if(e.scale){if(!Array.isArray(e.scale))throw TypeError(".layers.TextLayer.scale: array expected");t.scale=[];for(var o=0;o<e.scale.length;++o)t.scale[o]=Number(e.scale[o])}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.matrix=[],r.originx=[],r.originy=[],r.scale=[]),t.defaults&&(r.text="",r.font=0,r.size=0,r.color=0),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),null!=e.font&&e.hasOwnProperty("font")&&(r.font=e.font),null!=e.size&&e.hasOwnProperty("size")&&(r.size=t.json&&!isFinite(e.size)?String(e.size):e.size),null!=e.color&&e.hasOwnProperty("color")&&(r.color=e.color),e.matrix&&e.matrix.length){r.matrix=[];for(var n=0;n<e.matrix.length;++n)r.matrix[n]=t.json&&!isFinite(e.matrix[n])?String(e.matrix[n]):e.matrix[n]}if(e.originx&&e.originx.length){r.originx=[];for(var i=0;i<e.originx.length;++i)r.originx[i]=t.json&&!isFinite(e.originx[i])?String(e.originx[i]):e.originx[i]}if(e.originy&&e.originy.length){r.originy=[];for(var o=0;o<e.originy.length;++o)r.originy[o]=t.json&&!isFinite(e.originy[o])?String(e.originy[o]):e.originy[o]}if(e.scale&&e.scale.length){r.scale=[];for(var a=0;a<e.scale.length;++a)r.scale[a]=t.json&&!isFinite(e.scale[a])?String(e.scale[a]):e.scale[a]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ki.util.toJSONOptions)},e}(),Uo.RectLayer=function(){function e(e){if(this.box=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.color=0,e.prototype.blend=0,e.prototype.box=Wo.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ho.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(8).uint32(e.color),null!=e.blend&&Object.hasOwnProperty.call(e,"blend")&&t.uint32(16).int32(e.blend),null!=e.box&&e.box.length){t.uint32(26).fork();for(var r=0;r<e.box.length;++r)t.float(e.box[r]);t.ldelim()}return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Go||(e=Go.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $o.layers.RectLayer;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.color=e.uint32();break;case 2:n.blend=e.int32();break;case 3:if(n.box&&n.box.length||(n.box=[]),2==(7&i))for(var o=e.uint32()+e.pos;e.pos<o;)n.box.push(e.float());else n.box.push(e.float());break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Go||(e=new Go(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.color&&e.hasOwnProperty("color")&&!Wo.isInteger(e.color))return"color: integer expected";if(null!=e.blend&&e.hasOwnProperty("blend"))switch(e.blend){default:return"blend: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:}if(null!=e.box&&e.hasOwnProperty("box")){if(!Array.isArray(e.box))return"box: array expected";for(var t=0;t<e.box.length;++t)if("number"!=typeof e.box[t])return"box: number[] expected"}return null},e.fromObject=function(e){if(e instanceof $o.layers.RectLayer)return e;var t=new $o.layers.RectLayer;switch(null!=e.color&&(t.color=e.color>>>0),e.blend){case"Normal":case 0:t.blend=0;break;case"Multiply":case 1:t.blend=1;break;case"Screen":case 2:t.blend=2;break;case"Overlay":case 3:t.blend=3;break;case"Darken":case 4:t.blend=4;break;case"Lighten":case 5:t.blend=5;break;case"Colordodge":case 6:t.blend=6;break;case"Colorburn":case 7:t.blend=7;break;case"Hardlight":case 8:t.blend=8;break;case"Softlight":case 9:t.blend=9;break;case"Difference":case 10:t.blend=10;break;case"Exclusion":case 11:t.blend=11;break;case"Hue":case 12:t.blend=12;break;case"Saturation":case 13:t.blend=13;break;case"Color":case 14:t.blend=14;break;case"Luminosity":case 15:t.blend=15}if(e.box){if(!Array.isArray(e.box))throw TypeError(".layers.RectLayer.box: array expected");t.box=[];for(var r=0;r<e.box.length;++r)t.box[r]=Number(e.box[r])}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.box=[]),t.defaults&&(r.color=0,r.blend=t.enums===String?"Normal":0),null!=e.color&&e.hasOwnProperty("color")&&(r.color=e.color),null!=e.blend&&e.hasOwnProperty("blend")&&(r.blend=t.enums===String?$o.layers.BlendType[e.blend]:e.blend),e.box&&e.box.length){r.box=[];for(var n=0;n<e.box.length;++n)r.box[n]=t.json&&!isFinite(e.box[n])?String(e.box[n]):e.box[n]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ki.util.toJSONOptions)},e}(),Uo.LineLayer=function(){function e(e){if(this.coord=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.color=0,e.prototype.blend=0,e.prototype.coord=Wo.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ho.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(8).uint32(e.color),null!=e.blend&&Object.hasOwnProperty.call(e,"blend")&&t.uint32(16).int32(e.blend),null!=e.coord&&e.coord.length){t.uint32(26).fork();for(var r=0;r<e.coord.length;++r)t.float(e.coord[r]);t.ldelim()}return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Go||(e=Go.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $o.layers.LineLayer;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.color=e.uint32();break;case 2:n.blend=e.int32();break;case 3:if(n.coord&&n.coord.length||(n.coord=[]),2==(7&i))for(var o=e.uint32()+e.pos;e.pos<o;)n.coord.push(e.float());else n.coord.push(e.float());break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Go||(e=new Go(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.color&&e.hasOwnProperty("color")&&!Wo.isInteger(e.color))return"color: integer expected";if(null!=e.blend&&e.hasOwnProperty("blend"))switch(e.blend){default:return"blend: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:}if(null!=e.coord&&e.hasOwnProperty("coord")){if(!Array.isArray(e.coord))return"coord: array expected";for(var t=0;t<e.coord.length;++t)if("number"!=typeof e.coord[t])return"coord: number[] expected"}return null},e.fromObject=function(e){if(e instanceof $o.layers.LineLayer)return e;var t=new $o.layers.LineLayer;switch(null!=e.color&&(t.color=e.color>>>0),e.blend){case"Normal":case 0:t.blend=0;break;case"Multiply":case 1:t.blend=1;break;case"Screen":case 2:t.blend=2;break;case"Overlay":case 3:t.blend=3;break;case"Darken":case 4:t.blend=4;break;case"Lighten":case 5:t.blend=5;break;case"Colordodge":case 6:t.blend=6;break;case"Colorburn":case 7:t.blend=7;break;case"Hardlight":case 8:t.blend=8;break;case"Softlight":case 9:t.blend=9;break;case"Difference":case 10:t.blend=10;break;case"Exclusion":case 11:t.blend=11;break;case"Hue":case 12:t.blend=12;break;case"Saturation":case 13:t.blend=13;break;case"Color":case 14:t.blend=14;break;case"Luminosity":case 15:t.blend=15}if(e.coord){if(!Array.isArray(e.coord))throw TypeError(".layers.LineLayer.coord: array expected");t.coord=[];for(var r=0;r<e.coord.length;++r)t.coord[r]=Number(e.coord[r])}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.coord=[]),t.defaults&&(r.color=0,r.blend=t.enums===String?"Normal":0),null!=e.color&&e.hasOwnProperty("color")&&(r.color=e.color),null!=e.blend&&e.hasOwnProperty("blend")&&(r.blend=t.enums===String?$o.layers.BlendType[e.blend]:e.blend),e.coord&&e.coord.length){r.coord=[];for(var n=0;n<e.coord.length;++n)r.coord[n]=t.json&&!isFinite(e.coord[n])?String(e.coord[n]):e.coord[n]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ki.util.toJSONOptions)},e}(),Uo.Font=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resource=Wo.newBuffer([]),e.prototype.weight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ho.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&t.uint32(10).bytes(e.resource),null!=e.weight&&Object.hasOwnProperty.call(e,"weight")&&t.uint32(16).uint32(e.weight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Go||(e=Go.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $o.layers.Font;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.resource=e.bytes();break;case 2:n.weight=e.uint32();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Go||(e=new Go(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resource&&e.hasOwnProperty("resource")&&!(e.resource&&"number"==typeof e.resource.length||Wo.isString(e.resource))?"resource: buffer expected":null!=e.weight&&e.hasOwnProperty("weight")&&!Wo.isInteger(e.weight)?"weight: integer expected":null},e.fromObject=function(e){if(e instanceof $o.layers.Font)return e;var t=new $o.layers.Font;return null!=e.resource&&("string"==typeof e.resource?Wo.base64.decode(e.resource,t.resource=Wo.newBuffer(Wo.base64.length(e.resource)),0):e.resource.length&&(t.resource=e.resource)),null!=e.weight&&(t.weight=e.weight>>>0),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(t.bytes===String?r.resource="":(r.resource=[],t.bytes!==Array&&(r.resource=Wo.newBuffer(r.resource))),r.weight=0),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=t.bytes===String?Wo.base64.encode(e.resource,0,e.resource.length):t.bytes===Array?Array.prototype.slice.call(e.resource):e.resource),null!=e.weight&&e.hasOwnProperty("weight")&&(r.weight=e.weight),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ki.util.toJSONOptions)},e}(),Uo.Image=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.width=0,e.prototype.height=0,e.prototype.resource=null,e.prototype.url=null,Object.defineProperty(e.prototype,"source",{get:Wo.oneOfGetter(t=["resource","url"]),set:Wo.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ho.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&t.uint32(10).bytes(e.resource),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(16).uint32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(24).uint32(e.height),null!=e.url&&Object.hasOwnProperty.call(e,"url")&&t.uint32(34).string(e.url),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Go||(e=Go.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $o.layers.Image;e.pos<r;){var i=e.uint32();switch(i>>>3){case 2:n.width=e.uint32();break;case 3:n.height=e.uint32();break;case 1:n.resource=e.bytes();break;case 4:n.url=e.string();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Go||(e=new Go(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.width&&e.hasOwnProperty("width")&&!Wo.isInteger(e.width))return"width: integer expected";if(null!=e.height&&e.hasOwnProperty("height")&&!Wo.isInteger(e.height))return"height: integer expected";if(null!=e.resource&&e.hasOwnProperty("resource")&&(t.source=1,!(e.resource&&"number"==typeof e.resource.length||Wo.isString(e.resource))))return"resource: buffer expected";if(null!=e.url&&e.hasOwnProperty("url")){if(1===t.source)return"source: multiple values";if(t.source=1,!Wo.isString(e.url))return"url: string expected"}return null},e.fromObject=function(e){if(e instanceof $o.layers.Image)return e;var t=new $o.layers.Image;return null!=e.width&&(t.width=e.width>>>0),null!=e.height&&(t.height=e.height>>>0),null!=e.resource&&("string"==typeof e.resource?Wo.base64.decode(e.resource,t.resource=Wo.newBuffer(Wo.base64.length(e.resource)),0):e.resource.length&&(t.resource=e.resource)),null!=e.url&&(t.url=String(e.url)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.width=0,r.height=0),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=t.bytes===String?Wo.base64.encode(e.resource,0,e.resource.length):t.bytes===Array?Array.prototype.slice.call(e.resource):e.resource,t.oneofs&&(r.source="resource")),null!=e.width&&e.hasOwnProperty("width")&&(r.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(r.height=e.height),null!=e.url&&e.hasOwnProperty("url")&&(r.url=e.url,t.oneofs&&(r.source="url")),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ki.util.toJSONOptions)},e}(),Uo.Layer=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.image=null,e.prototype.text=null,e.prototype.rect=null,e.prototype.line=null,Object.defineProperty(e.prototype,"kind",{get:Wo.oneOfGetter(t=["image","text","rect","line"]),set:Wo.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ho.create()),null!=e.image&&Object.hasOwnProperty.call(e,"image")&&$o.layers.ImageLayer.encode(e.image,t.uint32(10).fork()).ldelim(),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&$o.layers.TextLayer.encode(e.text,t.uint32(18).fork()).ldelim(),null!=e.rect&&Object.hasOwnProperty.call(e,"rect")&&$o.layers.RectLayer.encode(e.rect,t.uint32(26).fork()).ldelim(),null!=e.line&&Object.hasOwnProperty.call(e,"line")&&$o.layers.LineLayer.encode(e.line,t.uint32(34).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Go||(e=Go.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $o.layers.Layer;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.image=$o.layers.ImageLayer.decode(e,e.uint32());break;case 2:n.text=$o.layers.TextLayer.decode(e,e.uint32());break;case 3:n.rect=$o.layers.RectLayer.decode(e,e.uint32());break;case 4:n.line=$o.layers.LineLayer.decode(e,e.uint32());break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Go||(e=new Go(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.image&&e.hasOwnProperty("image")){t.kind=1;var r=$o.layers.ImageLayer.verify(e.image);if(r)return"image."+r}if(null!=e.text&&e.hasOwnProperty("text")){if(1===t.kind)return"kind: multiple values";t.kind=1;var n=$o.layers.TextLayer.verify(e.text);if(n)return"text."+n}if(null!=e.rect&&e.hasOwnProperty("rect")){if(1===t.kind)return"kind: multiple values";t.kind=1;var i=$o.layers.RectLayer.verify(e.rect);if(i)return"rect."+i}if(null!=e.line&&e.hasOwnProperty("line")){if(1===t.kind)return"kind: multiple values";t.kind=1;var o=$o.layers.LineLayer.verify(e.line);if(o)return"line."+o}return null},e.fromObject=function(e){if(e instanceof $o.layers.Layer)return e;var t=new $o.layers.Layer;if(null!=e.image){if("object"!=typeof e.image)throw TypeError(".layers.Layer.image: object expected");t.image=$o.layers.ImageLayer.fromObject(e.image)}if(null!=e.text){if("object"!=typeof e.text)throw TypeError(".layers.Layer.text: object expected");t.text=$o.layers.TextLayer.fromObject(e.text)}if(null!=e.rect){if("object"!=typeof e.rect)throw TypeError(".layers.Layer.rect: object expected");t.rect=$o.layers.RectLayer.fromObject(e.rect)}if(null!=e.line){if("object"!=typeof e.line)throw TypeError(".layers.Layer.line: object expected");t.line=$o.layers.LineLayer.fromObject(e.line)}return t},e.toObject=function(e,t){t||(t={});var r={};return null!=e.image&&e.hasOwnProperty("image")&&(r.image=$o.layers.ImageLayer.toObject(e.image,t),t.oneofs&&(r.kind="image")),null!=e.text&&e.hasOwnProperty("text")&&(r.text=$o.layers.TextLayer.toObject(e.text,t),t.oneofs&&(r.kind="text")),null!=e.rect&&e.hasOwnProperty("rect")&&(r.rect=$o.layers.RectLayer.toObject(e.rect,t),t.oneofs&&(r.kind="rect")),null!=e.line&&e.hasOwnProperty("line")&&(r.line=$o.layers.LineLayer.toObject(e.line,t),t.oneofs&&(r.kind="line")),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ki.util.toJSONOptions)},e}(),Uo.Page=function(){function e(e){if(this.layer=[],this.font=[],this.image=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.page=0,e.prototype.version=0,e.prototype.build="",e.prototype.width=0,e.prototype.height=0,e.prototype.usable=!1,e.prototype.rmse=0,e.prototype.fallback="",e.prototype.layer=Wo.emptyArray,e.prototype.font=Wo.emptyArray,e.prototype.image=Wo.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ho.create()),null!=e.page&&Object.hasOwnProperty.call(e,"page")&&t.uint32(8).uint32(e.page),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(16).uint32(e.version),null!=e.build&&Object.hasOwnProperty.call(e,"build")&&t.uint32(26).string(e.build),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(32).uint32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(40).uint32(e.height),null!=e.usable&&Object.hasOwnProperty.call(e,"usable")&&t.uint32(48).bool(e.usable),null!=e.rmse&&Object.hasOwnProperty.call(e,"rmse")&&t.uint32(61).float(e.rmse),null!=e.fallback&&Object.hasOwnProperty.call(e,"fallback")&&t.uint32(66).string(e.fallback),null!=e.layer&&e.layer.length)for(var r=0;r<e.layer.length;++r)$o.layers.Layer.encode(e.layer[r],t.uint32(74).fork()).ldelim();if(null!=e.font&&e.font.length)for(var n=0;n<e.font.length;++n)$o.layers.Font.encode(e.font[n],t.uint32(82).fork()).ldelim();if(null!=e.image&&e.image.length)for(var i=0;i<e.image.length;++i)$o.layers.Image.encode(e.image[i],t.uint32(90).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Go||(e=Go.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $o.layers.Page;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.page=e.uint32();break;case 2:n.version=e.uint32();break;case 3:n.build=e.string();break;case 4:n.width=e.uint32();break;case 5:n.height=e.uint32();break;case 6:n.usable=e.bool();break;case 7:n.rmse=e.float();break;case 8:n.fallback=e.string();break;case 9:n.layer&&n.layer.length||(n.layer=[]),n.layer.push($o.layers.Layer.decode(e,e.uint32()));break;case 10:n.font&&n.font.length||(n.font=[]),n.font.push($o.layers.Font.decode(e,e.uint32()));break;case 11:n.image&&n.image.length||(n.image=[]),n.image.push($o.layers.Image.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Go||(e=new Go(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.page&&e.hasOwnProperty("page")&&!Wo.isInteger(e.page))return"page: integer expected";if(null!=e.version&&e.hasOwnProperty("version")&&!Wo.isInteger(e.version))return"version: integer expected";if(null!=e.build&&e.hasOwnProperty("build")&&!Wo.isString(e.build))return"build: string expected";if(null!=e.width&&e.hasOwnProperty("width")&&!Wo.isInteger(e.width))return"width: integer expected";if(null!=e.height&&e.hasOwnProperty("height")&&!Wo.isInteger(e.height))return"height: integer expected";if(null!=e.usable&&e.hasOwnProperty("usable")&&"boolean"!=typeof e.usable)return"usable: boolean expected";if(null!=e.rmse&&e.hasOwnProperty("rmse")&&"number"!=typeof e.rmse)return"rmse: number expected";if(null!=e.fallback&&e.hasOwnProperty("fallback")&&!Wo.isString(e.fallback))return"fallback: string expected";if(null!=e.layer&&e.hasOwnProperty("layer")){if(!Array.isArray(e.layer))return"layer: array expected";for(var t=0;t<e.layer.length;++t){var r=$o.layers.Layer.verify(e.layer[t]);if(r)return"layer."+r}}if(null!=e.font&&e.hasOwnProperty("font")){if(!Array.isArray(e.font))return"font: array expected";for(var n=0;n<e.font.length;++n){var i=$o.layers.Font.verify(e.font[n]);if(i)return"font."+i}}if(null!=e.image&&e.hasOwnProperty("image")){if(!Array.isArray(e.image))return"image: array expected";for(var o=0;o<e.image.length;++o){var a=$o.layers.Image.verify(e.image[o]);if(a)return"image."+a}}return null},e.fromObject=function(e){if(e instanceof $o.layers.Page)return e;var t=new $o.layers.Page;if(null!=e.page&&(t.page=e.page>>>0),null!=e.version&&(t.version=e.version>>>0),null!=e.build&&(t.build=String(e.build)),null!=e.width&&(t.width=e.width>>>0),null!=e.height&&(t.height=e.height>>>0),null!=e.usable&&(t.usable=Boolean(e.usable)),null!=e.rmse&&(t.rmse=Number(e.rmse)),null!=e.fallback&&(t.fallback=String(e.fallback)),e.layer){if(!Array.isArray(e.layer))throw TypeError(".layers.Page.layer: array expected");t.layer=[];for(var r=0;r<e.layer.length;++r){if("object"!=typeof e.layer[r])throw TypeError(".layers.Page.layer: object expected");t.layer[r]=$o.layers.Layer.fromObject(e.layer[r])}}if(e.font){if(!Array.isArray(e.font))throw TypeError(".layers.Page.font: array expected");t.font=[];for(var n=0;n<e.font.length;++n){if("object"!=typeof e.font[n])throw TypeError(".layers.Page.font: object expected");t.font[n]=$o.layers.Font.fromObject(e.font[n])}}if(e.image){if(!Array.isArray(e.image))throw TypeError(".layers.Page.image: array expected");t.image=[];for(var i=0;i<e.image.length;++i){if("object"!=typeof e.image[i])throw TypeError(".layers.Page.image: object expected");t.image[i]=$o.layers.Image.fromObject(e.image[i])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.layer=[],r.font=[],r.image=[]),t.defaults&&(r.page=0,r.version=0,r.build="",r.width=0,r.height=0,r.usable=!1,r.rmse=0,r.fallback=""),null!=e.page&&e.hasOwnProperty("page")&&(r.page=e.page),null!=e.version&&e.hasOwnProperty("version")&&(r.version=e.version),null!=e.build&&e.hasOwnProperty("build")&&(r.build=e.build),null!=e.width&&e.hasOwnProperty("width")&&(r.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(r.height=e.height),null!=e.usable&&e.hasOwnProperty("usable")&&(r.usable=e.usable),null!=e.rmse&&e.hasOwnProperty("rmse")&&(r.rmse=t.json&&!isFinite(e.rmse)?String(e.rmse):e.rmse),null!=e.fallback&&e.hasOwnProperty("fallback")&&(r.fallback=e.fallback),e.layer&&e.layer.length){r.layer=[];for(var n=0;n<e.layer.length;++n)r.layer[n]=$o.layers.Layer.toObject(e.layer[n],t)}if(e.font&&e.font.length){r.font=[];for(var i=0;i<e.font.length;++i)r.font[i]=$o.layers.Font.toObject(e.font[i],t)}if(e.image&&e.image.length){r.image=[];for(var o=0;o<e.image.length;++o)r.image[o]=$o.layers.Image.toObject(e.image[o],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ki.util.toJSONOptions)},e}(),Uo),$o.text=((Fo={}).TextBlock=function(){function e(e){if(this.matrix=[],this.charOffset=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.text="",e.prototype.height=0,e.prototype.matrix=Wo.emptyArray,e.prototype.charOffset=Wo.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ho.create()),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(10).string(e.text),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(21).float(e.height),null!=e.matrix&&e.matrix.length){t.uint32(26).fork();for(var r=0;r<e.matrix.length;++r)t.float(e.matrix[r]);t.ldelim()}if(null!=e.charOffset&&e.charOffset.length){t.uint32(34).fork();for(var n=0;n<e.charOffset.length;++n)t.int32(e.charOffset[n]);t.ldelim()}return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Go||(e=Go.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $o.text.TextBlock;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.text=e.string();break;case 2:n.height=e.float();break;case 3:if(n.matrix&&n.matrix.length||(n.matrix=[]),2==(7&i))for(var o=e.uint32()+e.pos;e.pos<o;)n.matrix.push(e.float());else n.matrix.push(e.float());break;case 4:if(n.charOffset&&n.charOffset.length||(n.charOffset=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)n.charOffset.push(e.int32());else n.charOffset.push(e.int32());break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Go||(e=new Go(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.text&&e.hasOwnProperty("text")&&!Wo.isString(e.text))return"text: string expected";if(null!=e.height&&e.hasOwnProperty("height")&&"number"!=typeof e.height)return"height: number expected";if(null!=e.matrix&&e.hasOwnProperty("matrix")){if(!Array.isArray(e.matrix))return"matrix: array expected";for(var t=0;t<e.matrix.length;++t)if("number"!=typeof e.matrix[t])return"matrix: number[] expected"}if(null!=e.charOffset&&e.hasOwnProperty("charOffset")){if(!Array.isArray(e.charOffset))return"charOffset: array expected";for(var r=0;r<e.charOffset.length;++r)if(!Wo.isInteger(e.charOffset[r]))return"charOffset: integer[] expected"}return null},e.fromObject=function(e){if(e instanceof $o.text.TextBlock)return e;var t=new $o.text.TextBlock;if(null!=e.text&&(t.text=String(e.text)),null!=e.height&&(t.height=Number(e.height)),e.matrix){if(!Array.isArray(e.matrix))throw TypeError(".text.TextBlock.matrix: array expected");t.matrix=[];for(var r=0;r<e.matrix.length;++r)t.matrix[r]=Number(e.matrix[r])}if(e.charOffset){if(!Array.isArray(e.charOffset))throw TypeError(".text.TextBlock.charOffset: array expected");t.charOffset=[];for(var n=0;n<e.charOffset.length;++n)t.charOffset[n]=0|e.charOffset[n]}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.matrix=[],r.charOffset=[]),t.defaults&&(r.text="",r.height=0),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),null!=e.height&&e.hasOwnProperty("height")&&(r.height=t.json&&!isFinite(e.height)?String(e.height):e.height),e.matrix&&e.matrix.length){r.matrix=[];for(var n=0;n<e.matrix.length;++n)r.matrix[n]=t.json&&!isFinite(e.matrix[n])?String(e.matrix[n]):e.matrix[n]}if(e.charOffset&&e.charOffset.length){r.charOffset=[];for(var i=0;i<e.charOffset.length;++i)r.charOffset[i]=e.charOffset[i]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ki.util.toJSONOptions)},e}(),Fo.Page=function(){function e(e){if(this.textBlock=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.pageNumber=0,e.prototype.width=0,e.prototype.height=0,e.prototype.textBlock=Wo.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ho.create()),null!=e.pageNumber&&Object.hasOwnProperty.call(e,"pageNumber")&&t.uint32(8).uint32(e.pageNumber),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(16).uint32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(24).uint32(e.height),null!=e.textBlock&&e.textBlock.length)for(var r=0;r<e.textBlock.length;++r)$o.text.TextBlock.encode(e.textBlock[r],t.uint32(34).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Go||(e=Go.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $o.text.Page;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.pageNumber=e.uint32();break;case 2:n.width=e.uint32();break;case 3:n.height=e.uint32();break;case 4:n.textBlock&&n.textBlock.length||(n.textBlock=[]),n.textBlock.push($o.text.TextBlock.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Go||(e=new Go(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.pageNumber&&e.hasOwnProperty("pageNumber")&&!Wo.isInteger(e.pageNumber))return"pageNumber: integer expected";if(null!=e.width&&e.hasOwnProperty("width")&&!Wo.isInteger(e.width))return"width: integer expected";if(null!=e.height&&e.hasOwnProperty("height")&&!Wo.isInteger(e.height))return"height: integer expected";if(null!=e.textBlock&&e.hasOwnProperty("textBlock")){if(!Array.isArray(e.textBlock))return"textBlock: array expected";for(var t=0;t<e.textBlock.length;++t){var r=$o.text.TextBlock.verify(e.textBlock[t]);if(r)return"textBlock."+r}}return null},e.fromObject=function(e){if(e instanceof $o.text.Page)return e;var t=new $o.text.Page;if(null!=e.pageNumber&&(t.pageNumber=e.pageNumber>>>0),null!=e.width&&(t.width=e.width>>>0),null!=e.height&&(t.height=e.height>>>0),e.textBlock){if(!Array.isArray(e.textBlock))throw TypeError(".text.Page.textBlock: array expected");t.textBlock=[];for(var r=0;r<e.textBlock.length;++r){if("object"!=typeof e.textBlock[r])throw TypeError(".text.Page.textBlock: object expected");t.textBlock[r]=$o.text.TextBlock.fromObject(e.textBlock[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.textBlock=[]),t.defaults&&(r.pageNumber=0,r.width=0,r.height=0),null!=e.pageNumber&&e.hasOwnProperty("pageNumber")&&(r.pageNumber=e.pageNumber),null!=e.width&&e.hasOwnProperty("width")&&(r.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(r.height=e.height),e.textBlock&&e.textBlock.length){r.textBlock=[];for(var n=0;n<e.textBlock.length;++n)r.textBlock[n]=$o.text.TextBlock.toObject(e.textBlock[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ki.util.toJSONOptions)},e}(),Fo.Document=function(){function e(e){if(this.page=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.page=Wo.emptyArray,e.prototype.build="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ho.create()),null!=e.page&&e.page.length)for(var r=0;r<e.page.length;++r)$o.text.Page.encode(e.page[r],t.uint32(10).fork()).ldelim();return null!=e.build&&Object.hasOwnProperty.call(e,"build")&&t.uint32(18).string(e.build),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Go||(e=Go.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $o.text.Document;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.page&&n.page.length||(n.page=[]),n.page.push($o.text.Page.decode(e,e.uint32()));break;case 2:n.build=e.string();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Go||(e=new Go(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.page&&e.hasOwnProperty("page")){if(!Array.isArray(e.page))return"page: array expected";for(var t=0;t<e.page.length;++t){var r=$o.text.Page.verify(e.page[t]);if(r)return"page."+r}}return null!=e.build&&e.hasOwnProperty("build")&&!Wo.isString(e.build)?"build: string expected":null},e.fromObject=function(e){if(e instanceof $o.text.Document)return e;var t=new $o.text.Document;if(e.page){if(!Array.isArray(e.page))throw TypeError(".text.Document.page: array expected");t.page=[];for(var r=0;r<e.page.length;++r){if("object"!=typeof e.page[r])throw TypeError(".text.Document.page: object expected");t.page[r]=$o.text.Page.fromObject(e.page[r])}}return null!=e.build&&(t.build=String(e.build)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.page=[]),t.defaults&&(r.build=""),e.page&&e.page.length){r.page=[];for(var n=0;n<e.page.length;++n)r.page[n]=$o.text.Page.toObject(e.page[n],t)}return null!=e.build&&e.hasOwnProperty("build")&&(r.build=e.build),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ki.util.toJSONOptions)},e}(),Fo);var ra={_pool:[],get(){return this._pool.length?this._pool.pop():document.createElement("canvas")},release(e){this._pool.push(e)}};class na extends Error{constructor(e,t){super(e),this.textRender=t}}function ia(e){return`rgba(${e.join()})`}var oa=null,aa="NOT_FOUND",sa=function(e,t){return e===t};function ca(e,t){var r,n,i="object"==typeof t?t:{equalityCheck:t},o=i.equalityCheck,a=void 0===o?sa:o,s=i.maxSize,c=void 0===s?1:s,u=i.resultEqualityCheck,l=function(e){return function(t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,i=0;i<n;i++)if(!e(t[i],r[i]))return!1;return!0}}(a),d=1===c?(r=l,{get:function(e){return n&&r(n.key,e)?n.value:aa},put:function(e,t){n={key:e,value:t}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}):function(e,t){var r=[];function n(e){var n=r.findIndex((function(r){return t(e,r.key)}));if(n>-1){var i=r[n];return n>0&&(r.splice(n,1),r.unshift(i)),i.value}return aa}return{get:n,put:function(t,i){n(t)===aa&&(r.unshift({key:t,value:i}),r.length>e&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(c,l);function h(){var t=d.get(arguments);if(t===aa){if(t=e.apply(null,arguments),u){var r=d.getEntries().find((function(e){return u(e.value,t)}));r&&(t=r.value)}d.put(arguments,t)}return t}return h.clearCache=function(){return d.clear()},h}function ua(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o,a=0,s={memoizeOptions:void 0},c=n.pop();if("object"==typeof c&&(s=c,c=n.pop()),"function"!=typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var u=s.memoizeOptions,l=void 0===u?r:u,d=Array.isArray(l)?l:[l],h=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var r=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return t}(n),p=e.apply(void 0,[function(){return a++,c.apply(null,arguments)}].concat(d)),f=e((function(){for(var e=[],t=h.length,r=0;r<t;r++)e.push(h[r].apply(null,arguments));return o=p.apply(null,e)}));return Object.assign(f,{resultFunc:c,memoizedResultFunc:p,dependencies:h,lastResult:function(){return o},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),f}}var la=ua(ca),da="READER_POSITION_CHANGED";function ha(e,t,r,n,i,o,a,s,c){return{type:da,currentSpreadIndex:t,currentPageNumber:r,currentPageNumbers:n,positionInPercent:i,visiblePageNumbers:e,positionInPercentHasChanged:o,currentPagesHasChanged:a,visiblePagesHasChanged:s,isDragging:c}}var pa=function(e){return e[e.mobileMax=767]="mobileMax",e[e.tabletMin=768]="tabletMin",e[e.tabletMax=1e3]="tabletMax",e[e.desktopMin=1001]="desktopMin",e[e.desktopLargeMin=1440]="desktopLargeMin",e[e.desktopExtraLargeMin=1728]="desktopExtraLargeMin",e}({});function fa(e){return"pub_id"===e.type?`/docs/${e.publicationId}`:`/${e.username}/docs/${e.documentName}`}var ga=3e3,ma="#333333",va=e=>e.config,ya=e=>va(e).origins,ba=e=>va(e).embedTrackingQuery,_a=e=>ya(e).main,wa=(e,t,r,n)=>({...e,sessionId:t,embedTrackingQuery:r,embedId:n}),xa="@licenses/status/NOT_LOADED",Ta="@licenses/status/LOADED",Sa="@licenses/status/FAILED",Ea="download";function Ia(e){return e.licenses}function ka(e){return la(Ia,(t=>{var{isDisabled:r,status:n,licenses:i}=t;return!(!r&&n!==Sa)||n===Ta&&!!i[e]}))}var Ma=ka("customization_set_bg_color"),Aa=ka("customization_disable_share"),Na=ka("customization_set_bg_image"),Oa=ka("customization_set_logo"),ja=ka("embed"),Pa=ka("customization_show_my_other_publications"),Ca=ka("norelated"),Da=ka("reader_themes"),La=la(Ia,(e=>{var{status:t,licenses:r}=e;return t===Sa||t===Ta&&r.hide_ads_in_reader})),Ra=la(Ia,(e=>{var{status:t,licenses:r}=e;return t===Ta&&r[Ea]})),Ba=la(Ia,(e=>{var{status:t,licenses:r}=e;return t===Ta&&r.remove_issuu_logo})),Ua=la(Ia,(e=>{var{status:t,licenses:r}=e;return t===xa||t===Ta&&r.customization_remove_link_below})),Fa="@reader3/licenses/LICENSES_LOAD_SUCCESS",za="@reader3/licenses/LICENSES_LOAD_FAILED",Ga=e=>({isDisabled:e,status:xa,licenses:{}}),Ha="DOCUMENT_META_LOADED",Wa={description:"",documentPath:{type:"user",username:"",documentName:""},downloadable:!1,gated:!1,isAdsafe:!1,isLeadGenEnabled:!1,isLeadGenSkippable:!1,isPaywallPreview:!1,isPromotedContent:!1,originalPublishDate:"",ownerId:"",ownerType:"unknown",publicationId:"",publisherProfileUrl:null,revisionId:"",title:"",userDisplayName:"",userId:"",visitorType:null};function $a(e){return e.pages.pages}function Va(e){return e.metadata}var Ya=la(Va,$a,((e,t)=>({documentId:`${e.revisionId}-${e.publicationId}`,documentPath:e.documentPath,publicationId:e.publicationId,ownerId:e.ownerId,userId:e.userId,revisionId:e.revisionId,title:e.title,coverUri:Qa(t),userDisplayName:e.userDisplayName,description:e.description,originalPublishDate:e.originalPublishDate,isPaywallPreview:e.isPaywallPreview,isPromotedContent:e.isPromotedContent}))),qa=la($a,(e=>e.length)),Za=la(Va,(e=>e.publisherProfileUrl));function Qa(e){return e[0]?e[0].testImageUri??`${O}${e[0].imageUri}`:""}var Xa=la($a,(e=>Qa(e))),Ja=la(Va,(e=>e.title));function Ka(e,t){if(void 0===e&&(e=Wa),t.type===Ha){var r=t.doc;return{description:r.description,documentPath:r.documentPath,downloadable:r.downloadable,gated:r.gated,isAdsafe:!!(r.contentRating&&r.contentRating.isReviewed&&r.contentRating.isAdsafe),isLeadGenEnabled:r.isLeadGenEnabled,isLeadGenSkippable:r.isLeadGenSkippable,isPaywallPreview:r.isPaywalled,isPromotedContent:e.isPromotedContent,originalPublishDate:r.originalPublishDate,ownerId:r.ownerId,ownerType:r.ownerType,protectedContentUrlId:r.protectedContentUrlId,publicationId:r.publicationId,publisherProfileUrl:r.publisherProfileUrl,revisionId:r.revisionId,title:r.title,userDisplayName:r.userDisplayName,userId:r.userId,visitorType:r.visitorType}}return e}var es=e=>Va(e).publicationId,ts=e=>Va(e).isPaywallPreview;function rs(e,t){return"DOUBLE_PAGE_SPREAD"===e?1===t?0:Math.floor(t/2):t-1}function ns(e){var{pages:t}=e;return t.findIndex((e=>e.isPagePaywalled))>=0}function is(e){var t=[],r=e.length;if(r>0){t.push({pages:[e[0]]});for(var n=1;n<r-1;n+=2)t.push({pages:[e[n],e[n+1]]});r%2==0&&t.push({pages:[e[r-1]]})}return t}function os(e,t,r,n){var i=t>e,o=e<=pa.mobileMax&&i,a=e<=pa.tabletMax&&i;switch(n.responsiveModeWhen){case"HANDHELD_IN_PORTRAIT_IN_FULLSCREEN":if(a&&r)return"SINGLE_PAGE_SPREAD";break;case"HANDHELD_IN_PORTRAIT":if(a)return"SINGLE_PAGE_SPREAD";break;case"PHONE_ISH_IN_PORTRAIT":if(o)return"SINGLE_PAGE_SPREAD"}return n.defaultMode}function as(e){return e.features}var ss=la(as,(e=>e.branding)),cs=la(as,(e=>e.navigationLink)),us=la(as,(e=>e.shareDialog)),ls=la(as,(e=>e.fullscreen)),ds=la(as,(e=>e.links));function hs(e,t){return!(!e||"FALLBACK"!==e.kind)||t}var ps=la(ls,(e=>e.fullscreen.enabled),hs),fs=la((e=>e.fullscreen),(e=>e.supported));function gs(e){return e.size.canvasWidth}function ms(e){return e.size.canvasHeight}function vs(e){return e.size.containerWidth}function ys(e){return e.size.containerHeight}var bs=la(gs,(e=>e<=pa.mobileMax)),_s=la(gs,ms,ps,((e,t,r)=>(e<=400||t<=300)&&!r)),ws=e=>e.reader,xs=e=>e.reader.visiblePageNumbers,Ts=la(as,(e=>e.canUseCredentials));function Ss(e){return e.pages.pages}var Es=e=>e.experiments,Is=e=>Boolean(e.experiments.includes("verticalflip")||e.orion.settings.vertical_flip)&&e.env.isTouch&&e.size.containerWidth<pa.tabletMin,ks=e=>(e=>e.visitSource)(e).readerEndpoint,Ms=la(ws,(e=>e.zoomLevel)),As=la(Ms,(e=>100/6*(e-1))),Ns=la(ws,(e=>e.positionInPercent)),Os=la(ws,(e=>e.currentPageNumbers)),js=la(ws,(e=>e.currentPageNumber)),Ps=la(as,ps,gs,ms,((e,t,r,n)=>os(r,n,t,e.readModeRules))),Cs=la(Ss,(e=>is(e))),Ds=la((e=>e.metadata),Ss,((e,t)=>e.isPaywallPreview?t.reduce(((e,t,r)=>(t.isPagePaywalled&&e.push(r+1),e)),[]):[])),Ls=la(Os,Ps,((e,t)=>rs(t,e[0]))),Rs=la(Ps,qa,((e,t)=>rs(e,t))),Bs=la(Ls,Rs,((e,t)=>e===t)),Us=la(Ls,(e=>0===e)),Fs=la(ss,Ba,((e,t)=>Boolean(e)&&!t)),zs=la(ss,Ba,Ua,((e,t,r)=>!(t||!e.hasBrandingLine||e.isBrandingLineHidden&&(r||e.canIgnoreLicense)))),Gs=la((e=>"team"===e.metadata.ownerType),(e=>"team"===e.metadata.visitorType),((e,t)=>e?{isDisabled:!0,reason:"teams-owner"}:t?{isDisabled:!0,reason:"teams-visitor"}:{isDisabled:!1,reason:null})),Hs=["anonymous-embed","iframe-embed","iframe-id-embed","landing-page-embed","legacy-embed","preview","script-embed","script-id-embed"],Ws=e=>Hs.includes(ks(e))&&gs(e)<768,$s=la(ps,Ma,as,((e,t,r)=>{var n=r.themeBackgroundColor,i=r.themeBackgroundColorFullscreen;return e?i&&t?i:ma:n||ma})),Vs=la(Da,as,((e,t)=>e&&t.themeMainColor?t.themeMainColor:"#ffffff")),Ys=la(Da,as,((e,t)=>e&&t.themeSecondaryColor?t.themeSecondaryColor:"#1a1a1a")),qs=la(ps,Na,as,((e,t,r)=>{var n=r.themeBackgroundImage;if(n&&t&&(e||!n.hideWhenNotInFullscreen))return n})),Zs=la(ps,Oa,as,((e,t,r)=>{var n=r.logo;if(n&&t&&(e||!n.hideWhenNotInFullscreen))return n})),Qs=e=>e.config.embedTrackingQuery,Xs=la(Ya,(e=>{var{documentPath:t}=e;return t})),Js=la(Xs,(e=>fa(e))),Ks=la(_a,Js,Os,((e,t,r)=>{var n=`https:${e}${t}`,i=r[0];return i>1?`${n}/${i}`:n})),ec=la(ls,_s,((e,t)=>Boolean(e&&"overlayOnSmallReaders"in e&&e.overlayOnSmallReaders&&t))),tc=la((e=>e.reader.targetSpreadIndex),Ls,((e,t)=>e>-1?e:t)),rc=la(Ps,Ss,Cs,((e,t,r)=>"DOUBLE_PAGE_SPREAD"===e?r:t.map((e=>({pages:[e]}))))),nc=la(tc,rc,((e,t)=>function(e,t){var r=t.length;if(e>=r-1)return-1;if(!ns(t[e]))return e+1;for(var n=e+1;n<r;n++)if(!ns(t[n]))return n;return-1}(e,t))),ic=la(tc,rc,((e,t)=>function(e,t){if(e<1)return-1;if(!ns(t[e]))return e-1;for(var r=e-1;r>=0;r--)if(!ns(t[r]))return r;return-1}(e,t))),oc=la(Os,Ss,((e,t)=>ns({pages:e.map((e=>t[e-1]))})));function ac(e){var t=e.visitSource,r=t.readerEndpoint,n=t.referrer;return"document-page"===r||"fullscreen-fallback"===r&&/^https:\/\/t?issuu\.com\/rdr/.test(n||"")||/^https:\/\/dev-html\.t?issuu\.com:800\d/.test(window?.location.href||"")}function sc(e){return ac(e)}function cc(e){return ac(e)}var uc="@reader3/find/TEXT_INFO_STATE_INITIAL",lc="@reader3/find/TEXT_INFO_STATE_REQUESTED",dc="@reader3/find/TEXT_INFO_STATE_FAILED",hc="@reader3/find/LOADING_STATE_LOADING",pc="@reader3/find/LOADING_STATE_READY",fc="@reader3/find/LOADING_STATE_FAILED",gc="@reader3/find/FIND_OPEN_DIALOG",mc="@reader3/find/FIND_SET_CURRENT_RESULT",vc="@reader3/find/FIND_SET_TEXT_INFO_URL",yc="@reader3/find/FIND_SET_TEXT_INFO_REQUESTED",bc="@reader3/find/FIND_SET_TEXT_INFO_FAILED",_c="@reader3/find/FIND_SET_TEXT_INFO",wc="@reader3/find/FIND_SET_RESULTS",xc="@reader3/find/FIND_SET_LATEST_QUERY",Tc={isVisible:!1,results:null,textInfoUrl:null,version:null,currentResultIdx:null,latestQuery:"",textInfo:uc,loadTextInfo:function(e){var t=!1;return e.match(/\.json(?:\?.*)$/)?Co(e,t).then(ea):zo(e,t).then(ta)}};function Sc(){return(e,t)=>{var{textInfo:r}=t().find;switch(r){case uc:case dc:return e(((e,t)=>{var{find:{textInfoUrl:r,loadTextInfo:n}}=t();if(!r)throw new Error("attempting to find with textInfoUrl unset!");return e({type:yc}),n(`${O}${r}`).then((t=>{e({type:_c,textInfo:t})})).catch((()=>{e({type:bc})}))}));default:return Promise.resolve()}}}function Ec(){return e=>{e({type:gc}),e(Sc())}}var Ic=e=>e.find.isVisible,kc=e=>e.find.latestQuery;function Mc(e){return!kc(e)||e.find.textInfo!==lc&&e.find.textInfo!==uc?e.find.textInfo===dc?fc:pc:hc}var Ac=[],Nc=la((e=>e.find.results),(e=>e||Ac)),Oc=e=>Array.isArray(e.find.results)?e.find.results.length:null,jc=e=>"number"==typeof e.find.currentResultIdx?e.find.currentResultIdx:0,Pc=la(Nc,jc,((e,t)=>e[t])),Cc=la((e=>e.find.textInfo),(e=>e instanceof Object?e.pages.map((e=>({width:e.width,height:e.height,pageNumber:e.pageNumber}))):[])),Dc=e=>!!e.find.textInfoUrl;function Lc(e){return(t,r)=>{var n=r().reader.currentPageNumber;return t(function(e,t){return(r,n)=>(r({type:xc,value:e}),r(Sc()).then((()=>{var{textInfo:i}=n().find;if(e&&i instanceof Object){var o=function(e,t){var r=[];if(!(e=e.trim()).length)return r;var n=function(e){for(var t="",r=e.length,n=0;n<r;n++){var i=e[n];i.match(wo)?(t+=i.replace(_o,"\\$&"),t+="\n?"):t+=" "}return t=t.replace(/[ ]+/g,"\\s+"),new RegExp(t,"mig")}(e=bo(e));for(var i of t.pages)for(var o=n.exec(i.text);o;o=n.exec(i.text))r.push({pageNo:i.pageNumber,result:xo(o.index,o[0].length,i.textBlocks)});return r}(e,i),a=o.findIndex((e=>e.pageNo>=t));return r({type:wc,results:o,currentResultIdx:a<0?o.length-1:a})}return r({type:wc,results:null,currentResultIdx:null})})))}(e,n)).then((()=>{var e=r(),t=Pc(e);t&&e.canvasApi.jumpToPage(t.pageNo)}))}}function Rc(e){return(t,r)=>t(function(e){return t=>Promise.resolve(t({type:mc,idx:e}))}(e)).then((()=>{var e=r(),t=Pc(e);t&&e.canvasApi.jumpToPage(t.pageNo)}))}var Bc=la(Ps,qa,((e,t)=>{if(e&&t)return rs(e,t);throw new Error("How did we even get here?")})),Uc=la(Ic,Bc,Ps,Nc,((e,t,r,n)=>{if(!e||!r)return[];if(0===t)return[0];var i=n.reduce(((e,t)=>e.add(rs(r,t.pageNo))),new Set);return Array.from(i).map((e=>e*(1/t)))}));function Fc(e){return e.pages.pages}var zc=la(Fc,(e=>e.map((e=>{var{imageUri:t,layersInfo:r}=e;return"object"==typeof r&&r.uri&&(r={...r,uri:`${O}${r.uri}`}),t=`${O}${t}`,{...e,layersInfo:r,imageUri:t,dominantColor:e.dominantColor}})))),Gc=la(Fc,(e=>e.links.pages),((e,t)=>e.map(((e,r)=>{var n=t[r];return n?n.links:[]})))),Hc=la(zc,Gc,Ya,Cc,Nc,Pc,((e,t,r,n,i,o)=>e.map(((e,a)=>({...e,links:t[a],pageNumber:a+1,documentId:r.documentId,textInfoPage:n.find((e=>e.pageNumber===a+1)),findResults:i.reduce(((e,t)=>(t.pageNo===a+1&&e.push(t.result),e)),[]),selectedFindResult:o&&o.pageNo===a+1?o.result:null}))))),Wc=la(Hc,(e=>is(e))),$c=la(Ps,Hc,Wc,((e,t,r)=>"DOUBLE_PAGE_SPREAD"===e?r:t.map((e=>({pages:[e]})))));function Vc(e){return t=>{function r(r){return e(t,r)}return r.isServiced=!0,r}}var Yc=Vc((function(e,t){var{name:r,data:n,attributes:i}=e,{metrics:o}=t;o.monitor(r,{...n,attributes:{readerConfig:o.readerEndpoint,...i}})})),qc="SET_TARGET_SPREAD_INDEX",Zc="SET_TARGET_PAGE_NUMBER",Qc="SET_INTERACTING_WITH_CONTROLS",Xc="SET_INTERACTED_WITH_READER",Jc="READER_ZOOM_LEVEL_CHANCED",Kc=qc,eu=Zc,tu=Qc,ru=Xc,nu=Jc;function iu(e){return(t,r)=>{var n=r(),i=Rs(n),o=Math.max(0,Math.min(e,i));t(function(e){return{type:qc,index:e}}(o));var a=r().canvasApi;a&&a.goToSpread(o)}}function ou(){return(e,t)=>{var r=t(),n=ic(r);return-1===n&&(n=0),e(iu(n))}}function au(){return(e,t)=>{var r=t(),n=nc(r);return-1===n&&(n=Rs(r)),e(iu(n))}}var su="show_video_overlay",cu="hide_video_overlay",uu="video_info_load_success",lu="video_info_load_error",du={EXPLICIT:"explicit",SAFE:"safe",UNKNOWN:"unknown",ERROR:"error"};function hu(){return{type:cu}}function pu(e,t){return e.service===t.service&&e.videoId===t.videoId}var fu={showOverlay:!1,service:null,videoId:null,videoUrl:null,videoInfo:du.UNKNOWN};function gu(e,t){switch(void 0===e&&(e=fu),t.type){case su:return{...e,showOverlay:!0,service:t.service,videoId:t.videoId,videoUrl:t.videoUrl,videoInfo:pu(e,t)?e.videoInfo:du.UNKNOWN};case cu:return{...e,showOverlay:!1};case uu:case lu:return pu(e,t)?{...e,videoInfo:t.videoInfo}:e;default:return e}}var mu={OPEN_URL:"openUrl",GOTO_PAGE:"gotoPage"},vu="LINK_CLICKED",yu="LINKS_LOADED",bu={loaded:!1,pages:[]};function _u(e,t){if(void 0===e&&(e=bu),t.type===yu){for(var r=t.clippings||{},n=Object.keys(r).map((e=>parseInt(e,10))).filter((e=>!isNaN(e)&&isFinite(e))),i=Math.max(0,...n),o=[],a=function(e){o[e]={links:(r[e+1]||[]).map((t=>({...t,page:{pageNumber:e+1}})))}},s=0;s<i;s++)a(s);return{loaded:!0,pages:o}}return e}var wu="SMARTNAV_LOADED",xu={pages:[]};function Tu(e,t){return void 0===e&&(e=xu),t.type===wu?{...e,...t.smartnav}:e}var Su="@reader3/init/DOCUMENTLOADING",Eu="@reader3/init/DOCUMENTLOAD_SUCCESS",Iu="@reader3/init/DOCUMENTLOAD_FAILURE";function ku(e){return(t,r)=>{var n;return t((n=Date.now(),{type:Su,timeStamp:n})),e.whenDocumentBaseFetched().then((r=>{var n=e.whenDocumentExtraFetched().then((e=>{return t((n={licenses:{},clippings:{},...r,...e},{type:Ha,doc:n}));var n})),i=e.whenLicensesFetched().then((e=>{t(function(e){return{licenses:e,type:Fa}}(e))})).catch((()=>t({type:za})));return e.whenDocumentLinksFetched().then((e=>t({type:yu,clippings:e}))).catch(Tn),e.whenDocumentTextFetched().then((e=>{var{textInfoPath:r,textInfoVersion:n}=e;return t({type:vc,url:r,version:n})})).catch(Tn),e.whenSmartnavFetched().then((e=>t(function(e){return{type:wu,smartnav:e}}({pages:e})))).catch((e=>{var r="unknown";e instanceof po?r="no_access":e instanceof go&&(r="decoding"),t(Yc({name:"reader3.smart-zoom-error",attributes:{errorType:r}}))})),Promise.all([n,i])})).then((()=>{var e=r(),{size:{canvasWidth:n,canvasHeight:i},reader:{initialPageNumber:o},features:a,fullscreen:s}=e,c=Math.max(1,Math.min(qa(e),o)),u=a.fullscreen,l=os(n,i,Boolean(u&&hs(u,s.enabled)),a.readModeRules),d=rs(l,c),h=("DOUBLE_PAGE_SPREAD"===l?Cs(e)[d].pages:[Fc(e)[d]]).map((e=>e.pageNumber));return t(function(e,t,r,n){return{timeStamp:e,pageNumber:t,targetSpreadIndex:-1,currentPageNumbers:n,type:Eu}}(Date.now(),c,0,h))})).catch((e=>{Tn(e,{tags:{errorOrigin:"document-load-fetchDocument"}}),t(function(e,t){return{type:Iu,error:e,timeStamp:t}}(e,Date.now()))}))}}function Mu(e){return e.controls.visiblePopup}var Au=la(Mu,bs,((e,t)=>t&&"MENU"===e)),Nu="TOGGLE_FLAT_PLAN",Ou="SET_FLAT_PLAN_VISIBILITY";function ju(e,t){switch(void 0===e&&(e={visible:!1}),t.type){case Ou:return{visible:t.visible};case Nu:return{visible:!e.visible};case da:return e.visible?{visible:!1}:e;default:return e}}var Pu={visible:!1},Cu=e=>({type:Ou,visible:e}),Du=e=>e.flatPlan.visible&&!ec(e),Lu=["anonymous-embed","document-page","fullscreen-fallback","iframe-embed","iframe-id-embed","script-embed","script-id-embed","sharable-fullscreen"],Ru=la(ks,(e=>e&&Lu.includes(e))),Bu=la(as,fs,ls,((e,t,r)=>{var n=e.hideFullScreenButton,i=!1;if(r&&!n)switch(r.showButtons){case"ALWAYS":i=!0;break;case"HIDE_WHEN_NOT_SUPPORTED":i=t}return i})),Uu=la(ws,(e=>e.interactingWithControls));function Fu(e){return null!==e.controls.visiblePopup}var zu=la(Du,(function(e){return e.controls.areControlsAllowed}),((e,t)=>!e&&t)),Gu=e=>null!==e.leadGen.isEnforced?e.leadGen.isEnforced:e.metadata.isLeadGenEnabled,Hu=e=>e.leadGen.isClosed,Wu=e=>e.metadata.isLeadGenSkippable||e.leadGen.isSkippable||e.leadGen.isDownloading&&0===Ls(e),$u=e=>e.leadGen.isDownloading,Vu=e=>Boolean(Gu(e)||Es(e).includes("leadgen"))&&(0!==Ls(e)||e.leadGen.isDownloading)&&!e.leadGen.isClosed,Yu=la(Du,oc,vs,Vu,((e,t,r,n)=>!((t||n)&&r<=pa.mobileMax||e))),qu=la(Yu,Us,Ls,((e,t,r)=>e&&!t&&r>-1)),Zu=la(Yu,Bs,Ls,((e,t,r)=>e&&!t&&r>-1)),Qu="Space",Xu="ArrowLeft",Ju="ArrowRight",Ku=null;function el(e){return void 0===e&&(e=!0),(t,r)=>{var n=r();n.reader.isIdle&&t({type:"SET_IS_IDLE",isIdle:!1}),n.reader.isActivated||t({type:"SET_IS_ACTIVE"}),Ku&&clearTimeout(Ku),Ku=null,e&&(Ku=setTimeout((()=>{t({type:"SET_IS_IDLE",isIdle:!0})}),function(e){var t=e.reader.zoomLevel;return ps(e)||ec(e)||1!==t?ga:31536e6}(n)))}}function tl(){return(e,t)=>{t().reader.isIdle||e({type:"SET_IS_IDLE",isIdle:!0}),Ku&&(clearTimeout(Ku),Ku=null)}}function rl(e){return(t,r)=>{var n=[Qu,Ju].includes(e),i=[Xu].includes(e),o=Ls(r()),a=Rs(r());t(i&&o>1||n&&o+1<a?tl():el())}}function nl(){return e=>{e(el())}}function il(){return e=>{e(el())}}var ol=NaN;function al(){return(e,t)=>{isNaN(ol)&&(ol=t().reader.zoomLevel),e(1!==ol?tl():el())}}function sl(){return(e,t)=>{var r=t().reader.zoomLevel;e(1!==ol&&1!==r?tl():el()),ol=NaN}}var cl=Vc((function(e,t){var{isBlur:r}=e,{getState:n,featureTracker:i,setState:o}=t;i.usage(r?"FIND_CLOSE_BLUR":"FIND_CLOSE");var a=n();o({...a,find:{...a.find,isVisible:!1}})})),ul=Vc((function(e,t){var{getState:r,setState:n,dispatch:i}=t,o=r(),a=Mu(o),s=a===e?null:e;s!==a&&n({...o,controls:{...o.controls,visiblePopup:s},backdrop:{...o.backdrop,isVisible:null!==s}}),i(nl())})),ll="FULLSCREEN@FULLSCREEN_API",dl={request:["requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"],exit:["exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],enabled:["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled"],element:["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"],change:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"],error:["fullscreenerror","webkitfullscreenerror","mozfullscreenerror","msfullscreenerror"]};function hl(e,t){"onmsfullscreenchange"in document||"msfullscreenerror"in document?document[`on${e}`]=t:document.addEventListener(e,t)}function pl(e,t){"onmsfullscreenchange"in document||"msfullscreenerror"in document?document[`on${e}`]=null:document.removeEventListener(e,t)}function fl(e){var t=dl.change.filter((e=>`on${e}`in document))[0];document.addEventListener(t,e)}function gl(e){var t=dl.change.filter((e=>`on${e}`in document))[0];document.removeEventListener(t,e)}function ml(){return!function(){var e=navigator.userAgent,t=new RegExp("^Mozilla/5\\.0.*Android.*AppleWebKit.*Chrome/(\\d+).*$","i").exec(e),r=!1;return t&&t.length>0&&(r=parseInt(t[1],10)<=33),r}()&&(e=navigator.userAgent,t=new RegExp("^Mozilla/5\\.0.*(iPhone|iPad|iPod).*AppleWebKit.*Safari.*$","i"),r=new RegExp("^Mozilla/5\\.0.*Macintosh.*AppleWebKit.*Safari.*$","i"),!(t.test(e)||r.test(e)&&CSS.supports("-webkit-touch-callout","default"))&&dl.enabled.some((e=>e in document&&document[e])));var e,t,r}function vl(){var e=dl.element.find((e=>e in document));return e?document[e]:null}function yl(){return new Promise(((e,t)=>{try{var r=dl.change.filter((e=>`on${e}`in document))[0];if(r){var n=()=>{vl()||(pl(r,n),e(!0))};hl(r,n)}else t("native fullscreen api not supported")}catch(e){t(e)}}))}var bl="ENTER_FULLSCREEN",_l="EXIT_FULLSCREEN",wl={enabled:!1,supported:ml()},xl=la((e=>e.experiments),ls,Ks,((e,t,r)=>r+"?"+["ff",t&&"NORMAL"===t.kind?t.fullscreenFallbackArgs:null,e&&e.length>0?`experiment=${e.join(",")}`:null].filter(Boolean).join("&"))),Tl=Vc((function(e,t){var{getState:r,dispatch:n}=t,i=r(),o=ls(i);if(o&&"FALLBACK"!==o.kind)if(ps(i))new Promise(((e,t)=>{var r=dl.exit.filter((e=>e in document))[0],n=dl.change.filter((e=>`on${e}`in document))[0];if(r)if(vl()){var i=()=>{pl(n,i),e(!0)};hl(n,i),document[r]()}else e(!0);else t("native fullscreen api not supported")})).then(s).catch(Tn);else if(ml()){var a=document.getElementById("ird3-main");a&&function(e){return new Promise(((t,r)=>{try{var n=dl.request.filter((t=>t in e))[0],i=dl.change.filter((e=>`on${e}`in document))[0];if(n&&i){var o=()=>{pl(i,o),t(!0)};hl(i,o),e[n]()}else r("native fullscreen api not supported")}catch(e){r(e)}}))}(a).then((function(){n({type:bl,fullscreenMethod:ll})})).then(yl).then(s).catch(Tn)}else window.open(xl(i),"_blank"),n({type:bl,fullscreenMethod:"FULLSCREEN@TAB"});function s(){n({type:_l,fullscreenMethod:ll})}})),Sl="HO_CHANGE_PAGE",El="HO_CHANGE_ZOOM",Il="HO_ENTER_FULLSCREEN",kl="HO_INPUT_GESTURE",Ml="HO_INPUT_KEYBOARD",Al="HO_INPUT_SLIDER",Nl="HO_INPUT_BUTTON",Ol="HO_SHARE_SOCIAL",jl="HO_MORE_CONTENT",Pl="HO_LEAD_GEN",Cl="HO_OPEN_FIND",Dl="HO_FIND",Ll={BUTTON_ARROW_BACKWARD:[Sl,Nl],BUTTON_ARROW_FORWARD:[Sl,Nl],BUTTON_CTA_OVERLAY:[Nl,Il],BUTTON_DOWNLOAD:[Nl],BUTTON_FLAT_PLAN:[Nl],BUTTON_FULLSCREEN:[Nl,Il],BUTTON_LIKE:[Nl],BUTTON_LOGO:[Nl],BUTTON_MORE:[jl,Nl],BUTTON_OPEN_FIND:[Nl,Cl,{opportunity:Dl}],BUTTON_SHARE:[Nl],BUTTON_STACKS:[Nl],BUTTON_ZOOMIN:[El,Nl],BUTTON_ZOOMOUT:[El,Nl],DOUBLE_TAP_ZOOM:[El,kl],FIND_CLOSE:[],FIND_CLOSE_BLUR:[],FIND_NEXT:[],FIND_PREV:[],FIND_QUERY:[{usage:Dl}],FLAT_PLAN:[],GESTURE_DRAG_PAGES:[Sl,kl],GESTURE_PINCH_ZOOM:[El,kl],KEYBOARD_BACKWARD:[Sl,Ml],KEYBOARD_FORWARD:[Sl,Ml],KEYBOARD_OPEN_FIND:[Ml,Cl,{opportunity:Dl}],LANDSCAPE_MODE:[],LARP_ACTION:[],LARP_PAGE:[jl],LEAD_GEN_SKIPPED:[Pl],LEAD_GEN_SUBMITTED:[Pl],LINK_BELOW_EMBED_OPEN:[],LINK_BELOW_EMBED_YCPT:[],NAVIGATION_LINK:[],PORTRAIT_MODE:[],PUBLICATION_INLINE_VIDEO_LINK:[],PUBLICATION_LINK:[],PUBLICATION_VIDEO_LINK:[],SHARE_EMAIL:[Ol],SHARE_FACEBOOK:[Ol],SHARE_LINKEDIN:[Ol],SHARE_PINTEREST:[Ol],SHARE_TWITTER:[Ol],SLIDER_PAGES:[Sl,Al],SLIDER_ZOOM:[El,Al]},Rl=Object.keys(Ll).reduce(((e,t)=>(e[t]=t,e)),{});function Bl(e,t){return Ll[e].reduce(((e,r)=>("string"==typeof r?e.push(r):r.hasOwnProperty(t)&&e.push(r[t]),e)),[e])}class Ul{_opportunitySent=new Set;_usageSent=new Set;constructor(e){this.monitorTracker=e}opportunity(e){this._opportunitySent.has(e)||Bl(e,"opportunity").forEach((e=>{if(!this._opportunitySent.has(e)){var t=`reader3-features.${e}`;this.monitorTracker.monitor(t,{opportunity:1,attributes:{readerConfig:this.monitorTracker.readerEndpoint}}),this._opportunitySent.add(e)}}))}usage(e){Bl(e,"usage").forEach((e=>{var t=`reader3-features.${e}`,r=this._usageSent.has(e)?0:1;this.monitorTracker.monitor(t,{usageRepeat:1,usageFirst:r,attributes:{readerConfig:this.monitorTracker.readerEndpoint}}),this._usageSent.add(e)}))}}var Fl=Vc((function(e,t){var{featureTracker:r}=t;r.opportunity(e)})),zl=Vc((function(e,t){var{featureTracker:r}=t;r.usage(e)})),Gl={isOnLastPage:!1,recommendations:[],actionsVisible:!1};function Hl(e,t){switch(void 0===e&&(e=Gl),t.type){case"RECOMMENDATIONS_LOADED":return{...e,recommendations:t.data};case"SET_LAST_PAGE_ACTIONS_VISIBLE":return{...e,actionsVisible:t.visible};default:return e}}var Wl=la(js,(e=>e.pages.pages.length),((e,t)=>e===t)),$l=e=>e.lastPage.actionsVisible,Vl=e=>e.lastPage.recommendations,Yl=ui((function(e){return{canFind:!ec(e)&&Dc(e),canGoBackward:qu(e),canGoForward:Zu(e),lastSpreadIndex:Rs(e),moreContentContainerIsVisible:Fu(e),isFindOverlayVisible:Ic(e),fullscreenEnabled:ps(e)}}))((e=>{var{canFind:t,canGoBackward:r,canGoForward:n,lastSpreadIndex:i,moreContentContainerIsVisible:o,isFindOverlayVisible:a,fullscreenEnabled:s,dispatch:c,children:u}=e,l=(0,Ae.useRef)(!1),d=(0,Ae.useRef)(),h=(0,Ae.useCallback)((()=>{d.current&&clearTimeout(d.current),d.current=void 0}),[]),p=(0,Ae.useCallback)((e=>{switch(e.key){case Qu:case Xu:case Ju:h()}}),[h]),f=e=>{var t=!0,r=()=>{e(t);var n=t?500:250;t=!1,d.current=setTimeout(r,n)};r()},g=(0,Ae.useCallback)((()=>{c(ou()),c(zl(Rl.KEYBOARD_BACKWARD))}),[c]),m=(0,Ae.useCallback)((()=>{c(au()),c(zl(Rl.KEYBOARD_FORWARD))}),[c]),v=vi(Wl),y=vi($l),b=(0,Ae.useCallback)((e=>{v&&c({type:"SET_LAST_PAGE_ACTIONS_VISIBLE",visible:e})}),[c,v]),_=(0,Ae.useCallback)((()=>{c(Ec()),c(zl(Rl.KEYBOARD_OPEN_FIND))}),[c]),w=(0,Ae.useCallback)((e=>{var u=l.current,h=void 0!==d.current;if("Escape"===e.key)o?c(ul(null)):a?c(cl({isBlur:!1})):s&&c(Tl());else if(h||document.activeElement&&"INPUT"===document.activeElement.tagName)return;switch(e.key){case"f":t&&u&&e.metaKey||!u&&e.ctrlKey?(e.preventDefault(),_()):c(Tl());break;case"F3":t&&!u&&(e.preventDefault(),_());break;case"/":t&&(e.preventDefault(),_());break;case Xu:if(e.metaKey)break;f((t=>{y?b(!1):r&&g(),t||c(rl(e.key))}));break;case Qu:case Ju:if(e.metaKey)break;f((t=>{n?m():b(!0),t||c(rl(e.key))}));break;case"Home":c(iu(0));break;case"End":c(iu(i))}c(rl(e.key))}),[t,r,n,c,s,m,g,a,i,o,_,b,y]);return(0,Ae.useEffect)((()=>(l.current="MacIntel"===window.navigator.platform,window.addEventListener("keyup",p,!1),window.addEventListener("keydown",w,!1),()=>{h(),window.removeEventListener("keyup",p),window.removeEventListener("keydown",w)})),[p,w,h]),(0,Ae.useEffect)((()=>{r&&c(Fl(Rl.KEYBOARD_BACKWARD)),n&&c(Fl(Rl.KEYBOARD_FORWARD)),t&&c(Fl(Rl.KEYBOARD_OPEN_FIND))}),[r,n,t,c]),(0,X.jsx)(X.Fragment,{children:u})})),ql=e=>{var{coverUrl:t}=e,[r,n]=(0,Ae.useState)(!1);return(0,X.jsx)("div",{className:"cover",children:r?(0,X.jsx)("div",{className:"cover__error"}):(0,X.jsx)("img",{alt:"",className:"cover__image",onError:()=>n(!0),src:t})})},Zl="#000000",Ql="#ffffff",Xl="Inter, sans-serif",Jl="0.5rem",Kl="0.75rem",ed="0.875rem",td="1rem",rd="0.5rem",nd="1rem";const id=styled;var od=__webpack_require__.n(id),ad=od().div(["align-items:center;background-color:rgba(0,0,0,0.75);display:flex;flex-direction:column;height:100%;justify-content:center;left:0;opacity:0;position:absolute;top:0;transition:0.2s;width:100%;&:hover{opacity:1;}"]),sd=od().div(["align-items:center;background-color:",";border-radius:",";display:flex;flex-direction:column;padding:",";text-align:center;width:368px;@media (max-height:480px),(max-width:480px){padding:min(5vw,5vh);width:min(60vw,70vh);}"],Ql,Jl,"1.875rem"),cd=od().img(["max-height:178px;max-width:209px;padding-bottom:",";@media (max-height:480px),(max-width:480px){height:min(37.5vw,37.5vh);padding-bottom:0;width:min(45vw,45vh);}"],rd),ud=od().h4(["font-family:",";font-size:",";font-weight:",";line-height:",";margin:0;padding-bottom:",";@media (max-height:480px),(max-width:480px){font-size:",";}"],Xl,"2rem",500,1.3,rd,Kl),ld=od().p(["font-family:",";font-size:",";line-height:",";margin:0;@media (max-height:480px),(max-width:480px){font-size:",";}"],Xl,td,1.6,"0.625rem"),dd=()=>(0,X.jsx)(ad,{children:(0,X.jsxs)(sd,{children:[(0,X.jsx)(cd,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyMDkgMTc4Ij4KPHBhdGggZmlsbD0iI0YxRjJGNyIgZD0iTTE0MS4xNyAxMzQuNjdjMzcuMTcgMCA2Ny4zLTMwLjE1IDY3LjMtNjcuMzRTMTc4LjM0IDAgMTQxLjE3IDBzLTY3LjMgMzAuMTUtNjcuMyA2Ny4zMyAzMC4xMyA2Ny4zNCA2Ny4zIDY3LjM0WiIvPgo8cGF0aCBmaWxsPSIjRkZGNkVBIiBkPSJNNDEuMDggMTc4YTQxLjA5IDQxLjA5IDAgMCAwIDQxLjA4LTQxLjFBNDEuMDkgNDEuMDkgMCAxIDAgNDEuMDggMTc4WiIvPgo8cGF0aCBmaWxsPSIjOUI0Q0E4IiBkPSJNNDYuNjggMjMuNTZhNi4yIDYuMiAwIDAgMC0yLjk2LTguMjQgNi4xOSA2LjE5IDAgMCAwLTguMjQgMi45NyA2LjIgNi4yIDAgMCAwIDIuOTcgOC4yNCA2LjE5IDYuMTkgMCAwIDAgOC4yMy0yLjk3WiIvPgo8cGF0aCBmaWxsPSIjNTE0RkMyIiBkPSJNMTU5LjU1IDkyLjg4YTIuMjQgMi4yNCAwIDEgMCAwLTQuNDggMi4yNCAyLjI0IDAgMCAwIDAgNC40OFoiLz4KPHBhdGggZmlsbD0iIzA3NjVBMiIgZmlsbC1vcGFjaXR5PSIuNSIgZD0iTTEwOC41MyA1MS4xYTYuODYgNi44NiAwIDAgMC02LjktNy4xM2gtNzguNGE2Ljg3IDYuODcgMCAwIDAtNi44OSA3LjEzbDIuODcgODIuNjJhNy40NiA3LjQ2IDAgMCAwIDcuMzggNy4xM2g3MS43YTcuNDcgNy40NyAwIDAgMCA3LjM4LTcuMTNsMi44Ny04Mi42MmgtLjAxWiIgb3BhY2l0eT0iLjMiLz4KPHBhdGggZmlsbD0iI2ZmZiIgZD0iTTk0LjU2IDM0LjI4SDI2LjkzYTQuODQgNC44NCAwIDAgMC00Ljg0IDQuODR2OTQuMjRhNC44NCA0Ljg0IDAgMCAwIDQuODQgNC44NGg2Ny42M2E0Ljg0IDQuODQgMCAwIDAgNC44NC00Ljg0VjM5LjEyYTQuODQgNC44NCAwIDAgMC00Ljg0LTQuODRaIi8+CjxwYXRoIHN0cm9rZT0iIzU1MkM1QyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik05NC41NiAzNC4yOEgyNi45M2E0Ljg0IDQuODQgMCAwIDAtNC44NCA0Ljg0djk0LjI0YTQuODQgNC44NCAwIDAgMCA0Ljg0IDQuODRoNjcuNjNhNC44NCA0Ljg0IDAgMCAwIDQuODQtNC44NFYzOS4xMmE0Ljg0IDQuODQgMCAwIDAtNC44NC00Ljg0WiIvPgo8cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTcxLjc3IDM0LjI4aC02Ny42M2E0Ljg0IDQuODQgMCAwIDAtNC44NCA0Ljg0djk0LjI0YTQuODQgNC44NCAwIDAgMCA0Ljg0IDQuODRoNjcuNjNhNC44NCA0Ljg0IDAgMCAwIDQuODQtNC44NFYzOS4xMmE0Ljg0IDQuODQgMCAwIDAtNC44NC00Ljg0WiIvPgo8cGF0aCBzdHJva2U9IiM1NTJDNUMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNMTcxLjc3IDM0LjI4aC02Ny42M2E0Ljg0IDQuODQgMCAwIDAtNC44NCA0Ljg0djk0LjI0YTQuODQgNC44NCAwIDAgMCA0Ljg0IDQuODRoNjcuNjNhNC44NCA0Ljg0IDAgMCAwIDQuODQtNC44NFYzOS4xMmE0Ljg0IDQuODQgMCAwIDAtNC44NC00Ljg0WiIvPgo8cGF0aCBmaWxsPSIjOUNENkU5IiBkPSJNODcuMjIgNDEuNjZoLTUyLjlhNC44NCA0Ljg0IDAgMCAwLTQuODUgNC44NHYzNC40YTQuODQgNC44NCAwIDAgMCA0Ljg0IDQuODRoNTIuOTFhNC44NCA0Ljg0IDAgMCAwIDQuODQtNC44NFY0Ni41YTQuODQgNC44NCAwIDAgMC00Ljg0LTQuODRaIiBvcGFjaXR5PSIuMjkiLz4KPHBhdGggc3Ryb2tlPSIjQ0REMkRGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0xMjEuNSA0OC42N2g0Mi43NG0tNTUuNzIgNS40M2g1Ni4yNG0tMTMuNSAxMS4wNmgtNDIuNzRtNTYuMjQtNS40M2gtNTYuMjRtNTYuMjQgNS40M2gtOC4wNW0tNS40NCAxMS4wN2gtNDIuNzVtNTYuMjQtNS40NGgtNTYuMjRtNTYuMjQgNS40NGgtOC4wNU03Ni4zIDEyNi4ySDMzLjU1bTU1LjcyLTUuNDNIMzMuMDJtMTMuNS0xMS4wNmg0Mi43NW0tNTYuMjUgNS40M2g1Ni4yNW0tNTYuMjUtNS40M2g4LjA1bTUuNDUtMTEuMDZoNDIuNzVtLTU2LjI1IDUuNDNoNTYuMjVtLTU2LjI1LTUuNDNoOC4wNSIvPgo8cGF0aCBmaWxsPSJ1cmwoI2EpIiBkPSJNNTIuNiA2My42OWE4LjQgOC40IDAgMCAwIDguMzggOC40MWg4LjM3di04LjRhOC40IDguNCAwIDAgMC04LjM3LTguNDIgOC40IDguNCAwIDAgMC04LjM4IDguNDFaIi8+CjxwYXRoIGZpbGw9IiNEOUVCRTMiIGQ9Ik0xNjMuMjkgODUuMzloLTUyLjkxYTQuODQgNC44NCAwIDAgMC00Ljg0IDQuODR2MzQuNGE0Ljg0IDQuODQgMCAwIDAgNC44NCA0LjgzaDUyLjkxYTQuODQgNC44NCAwIDAgMCA0Ljg0LTQuODR2LTM0LjRhNC44NCA0Ljg0IDAgMCAwLTQuODQtNC44M1oiLz4KPHBhdGggZmlsbD0iIzlDRDZFOSIgZmlsbC1vcGFjaXR5PSIuNSIgZD0ibTkzLjIgMzQuNjItMjguODEgODAuM2MxMS4xLTIuMjUgMzEuMTEtMS4xMiAzNC44MiAyMC44bC43NC0yNS44NSAxMC44NS02Mi4xOWMwLTguMTctNC42LTEzLjUtMTUuMjgtMTMuOCIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOm11bHRpcGx5Ii8+CjxwYXRoIHN0cm9rZT0iI0NERDJERiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMSIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNOTguMiA0Ni40aDUuMzgiLz4KPHBhdGggc3Ryb2tlPSIjNTYyQzVDIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTk5LjI1IDEzNS43OXYtMjguNDIiLz4KPHBhdGggZmlsbD0iI2ZmZiIgZD0iTTExMC44OSAxMjAuNzVjMC02LjA3LTYuNDYtMTAuMS0xMS4wNy0xMi40MXYyNi4yOGM1LjYzLTEuNjQgMTEuMDctNy44IDExLjA3LTEzLjg3WiIvPgo8cGF0aCBmaWxsPSIjZmZmIiBkPSJtOTYuMTMgMjEuOTgtMTAuNCA4MmM2LjcxLjI0IDIyLjgyIDUuODQgMjUuMTYgMTEuNzlWMzcuMjljMC04LjI2LTYuNTctMTUuMDItMTQuNzYtMTUuMzFaIi8+CjxwYXRoIGZpbGw9IiM5Q0Q2RTkiIGQ9Ik05My4zIDkwLjI4YzYuNDUuNTcgMTYuMTIgNS42NyAxOC4wNiAxMC43OFY3Mi4xYy0xLjk0LTIuMjctNi40NS02LjgyLTE0Ljg0LTguNTJsLTMuMjMgMjYuN1oiIG9wYWNpdHk9Ii4yOSIvPgo8cGF0aCBmaWxsPSIjNTU1N0E2IiBkPSJNMTQ0LjgxIDEyMS4yMmMxLjMyIDAgMi4zOS0uOSAyLjM5LTEuOTggMC0xLjEtMS4wNy0xLjk4LTIuMzgtMS45OC0xLjMyIDAtMi4zOS44OC0yLjM5IDEuOTggMCAxLjA5IDEuMDcgMS45OCAyLjM4IDEuOThaIi8+CjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik05OC4yNSA4NC4xaC01MS45Yy0yLjA2IDAtMy43MiAxLjM4LTMuNzIgMy4wOHY2MC4wNmMwIDEuNyAxLjY2IDMuMDkgMy43MSAzLjA5aDUxLjkxYzIuMDUgMCAzLjcxLTEuMzggMy43MS0zLjA5Vjg3LjE4YzAtMS43LTEuNjYtMy4wOC0zLjctMy4wOFoiLz4KPHBhdGggc3Ryb2tlPSIjRDBEMkQzIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMi41IiBkPSJNOTguMjUgODQuMWgtNTEuOWMtMi4wNiAwLTMuNzIgMS4zOC0zLjcyIDMuMDh2NjAuMDZjMCAxLjcgMS42NiAzLjA5IDMuNzEgMy4wOWg1MS45MWMyLjA1IDAgMy43MS0xLjM4IDMuNzEtMy4wOVY4Ny4xOGMwLTEuNy0xLjY2LTMuMDgtMy43LTMuMDhaIi8+CjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xNTcuNTEgODQuMUgxMDUuNmMtMi4wNSAwLTMuNzEgMS4zOC0zLjcxIDMuMDh2NjAuMDZjMCAxLjcgMS42NiAzLjA5IDMuNzEgMy4wOWg1MS45MWMyLjA1IDAgMy43MS0xLjM4IDMuNzEtMy4wOVY4Ny4xOGMwLTEuNy0xLjY2LTMuMDgtMy43MS0zLjA4WiIvPgo8cGF0aCBzdHJva2U9IiNEMEQyRDMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIyLjUiIGQ9Ik0xNTcuNTEgODQuMUgxMDUuNmMtMi4wNSAwLTMuNzEgMS4zOC0zLjcxIDMuMDh2NjAuMDZjMCAxLjcgMS42NiAzLjA5IDMuNzEgMy4wOWg1MS45MWMyLjA1IDAgMy43MS0xLjM4IDMuNzEtMy4wOVY4Ny4xOGMwLTEuNy0xLjY2LTMuMDgtMy43MS0zLjA4WiIvPgo8cGF0aCBmaWxsPSIjRDlEOUQ4IiBkPSJNOTIuNjEgODguOGgtNDAuNmMtMi4wNiAwLTMuNzIgMS4zOC0zLjcyIDMuMDl2MjEuOTJjMCAxLjcgMS42NiAzLjA4IDMuNzIgMy4wOGg0MC42YzIuMDUgMCAzLjcyLTEuMzggMy43Mi0zLjA4VjkxLjg5YzAtMS43LTEuNjctMy4wOS0zLjcyLTMuMDlaIiBvcGFjaXR5PSIuMjkiLz4KPHBhdGggc3Ryb2tlPSIjRjJGMkYyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxIiBzdHJva2Utd2lkdGg9IjIuNSIgZD0iTTExOC45MiA5My4yN2gzMi44MW0tNDIuNzYgMy40Nmg0My4xN20tMTAuMzcgNy4wNWgtMzIuOG00My4xNy0zLjQ2aC00My4xN200My4xNyAzLjQ2aC02LjE4bS00LjE5IDcuMDVoLTMyLjhtNDMuMTctMy40NmgtNDMuMTdtNDMuMTcgMy40NmgtNi4xOE04NC4yMyAxNDIuN0g1MS40Mm00Mi43Ny0zLjQ3SDUxbTEwLjM3LTcuMDVoMzIuOG0tNDMuMTcgMy40N0g5NC4yTTUxIDEzMi4xN2g2LjE5bTQuMTgtNy4wNWgzMi44bS00My4xNyAzLjQ3SDk0LjJNNTEgMTI1LjEyaDYuMTkiLz4KPHBhdGggZmlsbD0iI0NCQ0JDQiIgZD0iTTY2LjA0IDEwMi44NGMwIDIuOTYgMi44OCA1LjM3IDYuNDMgNS4zN2g2LjQzdi01LjM3YzAtMi45Ni0yLjg4LTUuMzYtNi40My01LjM2cy02LjQzIDIuNC02LjQzIDUuMzZaIi8+CjxwYXRoIGZpbGw9IiNEOUQ5RDgiIGQ9Ik0xNTEgMTE2LjY3aC00MC42Yy0yLjA2IDAtMy43MiAxLjM4LTMuNzIgMy4wOXYyMS45MmMwIDEuNyAxLjY2IDMuMDggMy43MSAzLjA4SDE1MWMyLjA1IDAgMy43Mi0xLjM4IDMuNzItMy4wOHYtMjEuOTJjMC0xLjctMS42Ny0zLjA5LTMuNzItMy4wOVpNOTUuOTQgODQuMzEgNzMuODMgMTM1LjVjOC41My0xLjQzIDI1LjIxLS42IDI4LjA2IDEzLjM2bC4wOC0xNi4yOCA3LjQ4LTM5Ljk0YzAtNS4yLTMuNTMtOC42LTExLjczLTguNzkiIG9wYWNpdHk9Ii4yOSIvPgo8cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTA5LjU2IDEzOS43NGMwLTMuODctMy43LTYuNDQtNi4zNC03LjkydjE2Ljc2YzMuMjItMS4wNSA2LjM0LTQuOTcgNi4zNC04Ljg0WiIvPgo8cGF0aCBmaWxsPSIjZmZmIiBkPSJNOTcuNTUgNzcuNCA4OS4yOSAxMzBjNS4zMy4xNSAxOC4xIDQuMzIgMTkuOTYgOC4xM3YtNTAuOWMwLTUuMy01LjIxLTkuNjQtMTEuNy05LjgzIi8+CjxwYXRoIHN0cm9rZT0iI0QwRDJEMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjIuNSIgZD0iTTEwOS4yNSAxNDAuMlY4Ny41NGMwLTUuNi01LjQ2LTEwLjE0LTEyLjItMTAuMTRsLTcuNSA1Mi42N2M2Ljc0IDAgMTkuNyA0LjUzIDE5LjcgMTAuMTMgMCA1LjYtNS40NiAxMC4xMy0xMi4yIDEwLjEzIi8+CjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik05OS4yNyAxNDkuNWMuOSAwIDEuNjMtLjYgMS42My0xLjM2IDAtLjc1LS43My0xLjM1LTEuNjMtMS4zNS0uOSAwLTEuNjMuNi0xLjYzIDEuMzUgMCAuNzUuNzMgMS4zNiAxLjYzIDEuMzZabTU1LjQ1LTEyNi41M2EyLjYgMi42IDAgMSAwIDAtNS4yIDIuNiAyLjYgMCAwIDAgMCA1LjJabTEuMTEgMTMuNTlhMy4yNSAzLjI1IDAgMCAxLS4xOC00LjYgMy4yNSAzLjI1IDAgMCAxIDQuNi0uMTggMy4yNSAzLjI1IDAgMCAxIC4xOCA0LjYgMy4yNSAzLjI1IDAgMCAxLTQuNi4xOFoiLz4KPHBhdGggc3Ryb2tlPSIjNTUyQzVDIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTE1NC43MiAyMi45NmEyLjYgMi42IDAgMSAwIDAtNS4yIDIuNiAyLjYgMCAwIDAgMCA1LjJabTEuMTEgMTMuNmEzLjI1IDMuMjUgMCAwIDEtLjE4LTQuNiAzLjI1IDMuMjUgMCAwIDEgNC42LS4xOCAzLjI1IDMuMjUgMCAwIDEgLjE4IDQuNiAzLjI1IDMuMjUgMCAwIDEtNC42LjE4WiIvPgo8cGF0aCBmaWxsPSIjQjNCM0IzIiBkPSJNODYuNiAxMjYuMzhhMjMuNDMgMjMuNDMgMCAxIDEtNDYuODUgMCAyMy40MyAyMy40MyAwIDAgMSA0Ni44NSAwWiIgb3BhY2l0eT0iLjMiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTptdWx0aXBseSIvPgo8cGF0aCBmaWxsPSIjQ0M0ODM5IiBkPSJNODcuNiAxMjQuNDdhMjIuNzUgMjIuNzUgMCAxIDEtNDUuNSAwIDIyLjc1IDIyLjc1IDAgMCAxIDQ1LjUgMCIvPgo8cGF0aCBmaWxsPSIjNTUyQzVDIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02NC42MSAxMDEuMDhhMjMuNjcgMjMuNjcgMCAwIDAtMjMuNjQgMjMuNjQgMjMuNjcgMjMuNjcgMCAwIDAgMjMuNjQgMjMuNjQgMjMuNjcgMjMuNjcgMCAwIDAgMjMuNjQtMjMuNjQgMjMuNjcgMjMuNjcgMCAwIDAtMjMuNjQtMjMuNjRabS0yMS44NCAyMy42NGMwLTEyLjA0IDkuOC0yMS44NCAyMS44NC0yMS44NCAxMi4wNSAwIDIxLjg1IDkuOCAyMS44NSAyMS44NHMtOS44IDIxLjg0LTIxLjg1IDIxLjg0YTIxLjg3IDIxLjg3IDAgMCAxLTIxLjg0LTIxLjg0WiIgY2xpcC1ydWxlPSJldmVub2RkIi8+CjxwYXRoIGZpbGw9IiNmZmYiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIuNSIgZD0iTTcyLjIgMTQyLjgxYS40NC40NCAwIDAgMS0uNC0uMjMuNDQuNDQgMCAwIDEgLjItLjU5IDIyLjIyIDIyLjIyIDAgMCAwIDIuOS0xLjguNDMuNDMgMCAxIDEgLjUyLjcxIDIzLjEgMjMuMSAwIDAgMS0zLjAzIDEuODcuNDEuNDEgMCAwIDEtLjIuMDVabTYuMzEtNC44YS40NC40NCAwIDAgMS0uMzItLjc0IDIyLjQgMjIuNCAwIDAgMCA1LjA0LTguOTEuNDQuNDQgMCAwIDEgLjg0LjI0IDIzLjI2IDIzLjI2IDAgMCAxLTUuMjQgOS4yNi40NC40NCAwIDAgMS0uMzIuMTRaIi8+CjxwYXRoIGZpbGw9IiNmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcxLjAyIDEyMC40YzEgLjk1IDEuODcgMi4xOCAyLjYgMy43YTEuMjIgMS4yMiAwIDAgMSAwIDEuMDVjLTEuOTYgNC4wOS00LjkyIDYuMTMtOC44OSA2LjEzYTkuMjcgOS4yNyAwIDAgMS0zLjktLjhsMS4xNC0xLjEzYy44NC4zIDEuNzYuNDYgMi43Ni40NiAzLjM0IDAgNS43Ny0xLjY3IDcuNS01LjE5YTEwLjkyIDEwLjkyIDAgMCAwLTIuMjYtMy4xOWwxLjA1LTEuMDRabS40LTMuNzMuODguODdhLjE2LjE2IDAgMCAxIC4wNS4xMi4xNi4xNiAwIDAgMS0uMDEuMDYuMTcuMTcgMCAwIDEtLjA0LjA1bC0xNC43IDE0LjU1YS4xNy4xNyAwIDAgMS0uMjMgMGwtLjg4LS44N2EuMTYuMTYgMCAwIDEgMC0uMjNsMi4xOC0yLjE2YTEyLjI3IDEyLjI3IDAgMCAxLTIuODItMy45MSAxLjIyIDEuMjIgMCAwIDEgMC0xLjA1YzEuOTYtNC4xIDQuOTItNi4xNCA4Ljg4LTYuMTQgMS41NiAwIDIuOTYuMzIgNC4yLjk0bDIuMjYtMi4yM2EuMTcuMTcgMCAwIDEgLjA1LS4wNC4xNS4xNSAwIDAgMSAuMDcgMGguMDZsLjA1LjA0Wm0tNi42OSAyLjc2Yy0zLjMzIDAtNS43NiAxLjY3LTcuNDggNS4yYTEwLjYgMTAuNiAwIDAgMCAyLjQ3IDMuMzlsMS43My0xLjdhMy41NiAzLjU2IDAgMCAxIC42My00LjI0IDMuNjUgMy42NSAwIDAgMSAyLjA0LTEuMDIgMy42NyAzLjY3IDAgMCAxIDIuMjQuMzlsMS40NS0xLjQ0YTcuODggNy44OCAwIDAgMC0zLjA4LS41OFptLTIuMTQgNC4xNWEyLjI4IDIuMjggMCAwIDAtLjE0IDEuNzRsMi45LTIuODhhMi4zMyAyLjMzIDAgMCAwLTIuNzYgMS4xNFptMi4yNSAzLjUzYTIuMzcgMi4zNyAwIDAgMCAxLjg3LS42NyAyLjMgMi4zIDAgMCAwIC42OS0xLjYzbC0uMDEtLjIxIDEuMS0xLjA5Yy4yNi42Ni4zMSAxLjM3LjE2IDIuMDVhMy42IDMuNiAwIDAgMS0xIDEuODEgMy43IDMuNyAwIDAgMS0xLjgzLjk5IDMuNzQgMy43NCAwIDAgMS0yLjA5LS4xNmwxLjEtMS4xWiIgY2xpcC1ydWxlPSJldmVub2RkIi8+CjxwYXRoIGZpbGw9IiNGRjVBNDciIGQ9Ik0xNzEuMDUgMTQzLjMxYTIuOTIgMi45MiAwIDEgMCAwLTUuODQgMi45MiAyLjkyIDAgMCAwIDAgNS44NFoiLz4KPHBhdGggZmlsbD0iIzlCNENBOCIgZD0iTTE4Mi44NSAxMTYuOGEzLjI1IDMuMjUgMCAwIDAgMC02LjUgMy4yNSAzLjI1IDAgMCAwLTMuMjUgMy4yNCAzLjI1IDMuMjUgMCAwIDAgMy4yNSAzLjI2WiIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iODQuMzYiIHgyPSI1NC42MiIgeTE9IjQ0LjU3IiB5Mj0iNzEuODciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRjlFRCIvPgo8c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjRUE1QzRDIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzUyNUFBMyIvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}),(0,X.jsx)(ud,{children:"Publication access is currently limited "}),(0,X.jsx)(ld,{children:"Limitation will be handled by the publisher, and the publication may be accessible again later."})]})}),hd=e=>{var{editUrl:t,url:r}=e;return(0,X.jsxs)("div",{className:"overlay",children:[(0,X.jsx)("div",{className:"overlay__inner",children:(0,X.jsxs)("a",{className:"overlay__badge",href:r,rel:"noreferrer",target:"_blank",children:[(0,X.jsx)("div",{className:"overlay__logo",dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 32 32"><path fill="#fff" d="M0 16q0 3.22 1.24 6.18t3.43 5.15 5.15 3.43T16 32q3.2 0 6.17-1.25t5.14-3.42q2.2-2.19 3.44-5.15T32 16t-1.25-6.18-3.44-5.15q-2.17-2.17-5.14-3.42T16 0H0v16zm5-.1v-.12q.02-2.22.9-4.28t2.4-3.56q1.52-1.49 3.55-2.32t4.2-.84h.16q2.98.03 5.53 1.54t4.01 4.09q1.46 2.53 1.46 5.48V16q-.03 3-1.55 5.53-1.52 2.55-4.07 4T16.06 27H16q-3.02-.02-5.55-1.55-2.54-1.51-4-4.06T5 15.9zm2.97.02q0 2.19 1.06 4.05 1.08 1.89 2.94 2.99t4.06 1.12h.05q2.19 0 4.06-1.07t2.98-2.92 1.15-4.06q0-2.22-1.07-4.1t-2.94-3-4.07-1.12h-.06q-2.18 0-4.05 1.06T9.09 11.8q-1.12 1.89-1.12 4.12zm4.03.02q0-1.74 1.2-2.93t2.94-1.2q1.7.03 2.9 1.25t1.18 2.9V16q0 1.69-1.22 2.88t-2.92 1.2q-1.72-.03-2.9-1.24T12 15.94z"/></svg>'}}),(0,X.jsx)("div",{className:"overlay__text",children:"Click to read the full content on issuu.com"})]})}),(0,X.jsx)("div",{className:"overlay__link-wrapper",children:(0,X.jsx)("a",{className:"overlay__link",href:t,rel:"noreferrer",target:"_blank",children:"What happened to my embed?"})})]})},pd=ui((function(e){var t=Ks(e),r=Hi(window.navigator.userAgent),n=Qi(document.referrer,r),i=`${Bi()}/lp/embed`;return{coverUrl:Xa(e),url:t+Xi(n),editUrl:i+Xi(n)}}))((function(e){var{coverUrl:t,overlayType:r,...n}=e;return(0,X.jsxs)("div",{className:"blocked-overlay",children:[(0,X.jsx)("div",{className:"blocked-overlay__cover",children:(0,X.jsx)(ql,{coverUrl:t})}),"gated"===r?(0,X.jsx)(dd,{}):(0,X.jsx)(hd,{...n})]})})),fd=la((e=>!!e.features.requireEmbedLicense),ja,((e,t)=>e&&!t)),gd=e=>e.metadata.gated,md=Vc((function(e,t){var{getState:r,setState:n}=t;n({...r(),orion:{settings:e,isLoaded:!0}})}));function vd(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r)}}function yd(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}function bd(){var e=yd();return!!e&&Boolean(document[e])}var _d="ON_VISIBILITY_CHANGE",wd={ON_VISIBILITY_CHANGE:_d},xd={isHidden:bd(),supported:!!yd()};function Td(e,t){return void 0===e&&(e=xd),t.type===wd.ON_VISIBILITY_CHANGE?{...e,isHidden:bd()}:e}var Sd='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 16"><path fill="currentColor" d="M22.2.04a1.29 1.29 0 1 1 0 2.58 1.29 1.29 0 0 1 0-2.58Zm0 14.68a1.07 1.07 0 0 1-1.1-1.1V5.3a1.1 1.1 0 1 1 2.2 0v8.33a1.07 1.07 0 0 1-1.1 1.1ZM30.13 14.82a6.1 6.1 0 0 1-3.72-1.2 1.18 1.18 0 0 1-.47-.9c0-.47.38-.77.84-.77.32 0 .63.12.87.33.76.58 1.68.9 2.64.9 1.27 0 1.94-.46 1.94-1.19 0-.8-.66-1.1-2.3-1.54-2.87-.77-3.92-1.75-3.92-3.44 0-1.76 1.61-2.9 4.14-2.9 1 0 1.99.23 2.9.66.63.3 1.07.68 1.07 1.14 0 .42-.23.82-.84.82a2.1 2.1 0 0 1-.96-.33 4.59 4.59 0 0 0-2.22-.54c-1.17 0-1.96.3-1.96 1.12 0 .82.7 1.05 2.38 1.54 2.53.73 3.83 1.4 3.83 3.3 0 1.73-1.44 3-4.23 3M40.7 14.82a6.1 6.1 0 0 1-3.71-1.2 1.18 1.18 0 0 1-.47-.9c0-.47.38-.77.84-.77.32 0 .63.12.87.33.76.58 1.69.9 2.64.9 1.27 0 1.94-.46 1.94-1.19 0-.8-.65-1.1-2.29-1.54C37.65 9.68 36.6 8.7 36.6 7c0-1.76 1.62-2.9 4.14-2.9 1 0 2 .23 2.9.66.63.3 1.08.68 1.08 1.14 0 .42-.23.82-.84.82a2.1 2.1 0 0 1-.96-.33 4.59 4.59 0 0 0-2.22-.54c-1.17 0-1.96.3-1.96 1.12 0 .82.7 1.05 2.38 1.54 2.53.73 3.84 1.4 3.84 3.3 0 1.73-1.45 3-4.24 3M47.06 9.93V5.3a1.1 1.1 0 1 1 2.2 0v4.9a2.6 2.6 0 0 0 2.69 2.61 2.63 2.63 0 0 0 2.71-2.62V5.3a1.1 1.1 0 1 1 2.2 0v4.63a4.8 4.8 0 0 1-4.91 4.89 4.78 4.78 0 0 1-4.89-4.89M59.29 9.93V5.3a1.1 1.1 0 1 1 2.2 0v4.9a2.6 2.6 0 0 0 2.68 2.61 2.63 2.63 0 0 0 2.72-2.62V5.3a1.1 1.1 0 0 1 2.2 0v4.63a4.8 4.8 0 0 1-4.91 4.89 4.78 4.78 0 0 1-4.89-4.89M8.1 3.9a4.07 4.07 0 1 0-.08 8.14A4.07 4.07 0 0 0 8.1 3.9Zm-.06 6.13a2.06 2.06 0 1 1 .03-4.12 2.06 2.06 0 0 1-.03 4.12"/><path fill="currentColor" d="M8 0H.66A.67.67 0 0 0 0 .66V8a8 8 0 1 0 8-8ZM2.5 7.89A5.55 5.55 0 1 1 13.61 8a5.55 5.55 0 0 1-11.1-.11Z"/></svg>',Ed=od().a(["color:#fff;&:hover{color:#e6e6e6;}"]),Id=od()(Ed)(["height:37px;width:60px;> svg{display:block;height:100%;width:100%;}"]),kd=od().div(["align-items:center;display:flex;"]),Md=od().span(["padding:0 5px 0 0;"]),Ad=od().span(["display:none;@media (max-width:360px) and (min-width:270px){display:inline;}"]),Nd=od().span(["display:inline;@media (max-width:360px){display:none;}"]),Od=od().div(["align-items:center;background:#333;border-top:1px solid #000;color:#fff;display:flex;font-size:",";height:37px;justify-content:space-between;line-height:",";padding:0 ",";white-space:nowrap;"],ed,1.3,"0.5rem");function jd(e){var{mainOrigin:t}=e,r=vi(ba)||"",n=fi(),i=`${t}/flipbook${Xi(r)}`,o=`${t}/preview${Xi(r)}`;return(0,Ae.useEffect)((()=>{n(Fl(Rl.LINK_BELOW_EMBED_OPEN)),n(Fl(Rl.LINK_BELOW_EMBED_YCPT))}),[n]),(0,X.jsxs)(Od,{"data-testid":"issuu-branding-line",children:[(0,X.jsxs)(kd,{children:[(0,X.jsxs)(Md,{children:[(0,X.jsx)(Ad,{children:"Flipbook by"}),(0,X.jsx)(Nd,{children:"Flipbook created with"})]}),(0,X.jsx)(Id,{dangerouslySetInnerHTML:{__html:Sd},href:i,onClick:()=>{n(zl(Rl.LINK_BELOW_EMBED_OPEN))},rel:"noreferrer",target:"_blank"})]}),(0,X.jsx)(Ed,{href:o,onClick:()=>{n(zl(Rl.LINK_BELOW_EMBED_YCPT))},rel:"noreferrer",target:"_blank",children:"Publish for free"})]})}var Pd="FetchNetworkError";class Cd extends Error{constructor(e,t){void 0===t&&(t=-1),super(),this.stack=(new Error).stack,this.message=e,this.name=Pd,this.code=t,t>0&&(this.sentry_extra={HTTPStatusCode:t}),0!==t&&403!==t||this.message}}var Dd="BackendModelError";class Ld extends Error{constructor(e,t){super(),this.stack=(new Error).stack,this.name=Dd,this.code=t,this.message=-1===t?e:`${e} (documentStatus: ${t}) (--client-only--)`}}var Rd=function(e){return e.DocumentNotLoad="The document could not be loaded.",e.LicensingNotLoaded="Licenses failed loading",e.ClippingNotLoad="The Clippings could not be loaded.",e.DocumentIdMissing="documentId is not found!",e.JsonNotLoad="XHR could not load JSON",e.PreviewDisableLicenseCheck="Disable license check in Publisher Preview mode",e.PaywallPreviewDisableLicenseCheck="Disable license check in paywallPreview mode",e.SmartzoomNotLoaded="Smartzoom failed to load",e}({});function Bd(e,t){var{withCredentials:r=!1,timeout:n}=void 0===t?{}:t;return new Promise(((t,i)=>{var o=new XMLHttpRequest;o.open("GET",e,!0),o.withCredentials=r,n&&(o.timeout=n),o.onreadystatechange=()=>{if(o.readyState===XMLHttpRequest.DONE)if(200===o.status)try{t(JSON.parse(o.responseText))}catch(e){i(new Cd(`Could not deserialize loaded JSON: ${e}`))}else i(new Cd(Rd.JsonNotLoad,o.status))},o.send()}))}function Ud(e){return{access:"public",description:"",downloadable:!1,gated:!1,isDocumentLiked:!1,isLeadGenEnabled:!1,isLeadGenSkippable:!1,licenses:null,likesCount:0,ownerId:"",ownerType:"unknown",publisherProfileUrl:null,title:"user"===e.type?e.documentName:"",userDisplayName:"user"===e.type?e.username:"",userId:"",visitorType:null}}var Fd='<svg width="43" height="36"><g fill="currentColor" fill-rule="evenodd"><path d="M42.93 18.5a1 1 0 0 0-.4-.9L30.28 8.36a1.02 1.02 0 0 0-1.41.2c-.34.46-.25 1.09.19 1.43l11.3 8.51-11.3 8.52a1 1 0 0 0-.2 1.42c.34.45.99.53 1.42.2l12.27-9.24a1 1 0 0 0 .4-.9zm-42.46 0a1 1 0 0 1 .4-.9l12.26-9.24a1.02 1.02 0 0 1 1.41.2 1 1 0 0 1-.19 1.43L3.05 18.5l11.3 8.52a1 1 0 0 1 .2 1.42c-.34.45-.99.53-1.42.2L.86 19.4a1 1 0 0 1-.4-.9z"/><rect transform="rotate(14 22.02 17.9)" x="21.04" y="-.1" width="1.96" height="36" rx=".98"/></g></svg>',zd='<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.14 15.71a.86.86 0 1 0 1.72 0 .86.86 0 0 0-1.72 0Zm.29-5.42v3.28c0 .08.06.14.14.14h.86c.08 0 .14-.06.14-.14V10.3a.14.14 0 0 0-.14-.15h-.86a.14.14 0 0 0-.14.15Zm8.5 7.85L12.48 5.3A.56.56 0 0 0 12 5c-.2 0-.39.1-.5.29L4.09 18.14c-.22.38.05.86.5.86h14.85c.44 0 .71-.48.5-.86Zm-14-.5L12 7.14l6.07 10.5H5.93Z"/></svg>',Gd=e=>{var{embedId:t,reloadDocument:r,sessionId:n,error:i}=e,o=i.name===Dd?function(e){var t={message:"Something went wrong",icon:(0,X.jsx)("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:Fd}}),retry:{},errorId:{}};switch(e){case 6:t.message="The content you are trying to view is not currently available.",t.icon=(0,X.jsx)("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:zd}}),t.retry.display="none",t.errorId.display="none";break;case 4:case 8:case 10:t.message="Sorry, this publication is not available",t.retry.display="none",t.errorId.display="none"}return t}(i.code):function(e,t){return{message:`${t} (${e=e||"undefined"})`,icon:(0,X.jsx)("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:Fd}}),retry:{display:"none"},errorId:{}}}(t,i.message);return(0,X.jsxs)("div",{className:"failed",children:[o.icon,(0,X.jsx)("h1",{className:"failed__message",children:o.message}),(0,X.jsx)("div",{className:"failed__retry-link-container",style:o.retry,children:(0,X.jsx)("button",{className:"failed__retry-link",onClick:e=>{e.preventDefault(),r&&r()},children:"Try again"})}),(0,X.jsxs)("div",{className:"failed__help",children:[(0,X.jsxs)("div",{className:"failed__error-token",style:o.errorId,children:["Error ID: ",n]}),(0,X.jsx)("div",{className:"failed__spacer",style:o.errorId}),(0,X.jsx)("div",{className:"failed__support-link-container",children:(0,X.jsx)("a",{className:"failed__support-link",href:"https://help.issuu.com",rel:"noreferrer",target:"_blank",children:"help.issuu.com"})})]})]})},Hd=14,Wd=e=>{var{size:t}=e;return(0,X.jsx)("div",{className:"spinner",dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 24 24"><g fill-rule="evenodd" fill="currentColor"><path d="M13.78 13.85a2.53 2.53 0 1 1-3.58-3.58 2.53 2.53 0 0 1 3.58 3.58l1.47 1.47A4.61 4.61 0 1 0 8.73 8.8a4.61 4.61 0 0 0 6.52 6.52l-1.47-1.47Z"/><path d="M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm0-2.97a8.03 8.03 0 1 0 0-16.06 8.03 8.03 0 0 0 0 16.06Z" fill-opacity=".5"/><path d="M3.98 12.2a1.5 1.5 0 0 1-1.5 1.46C2 13.66 1 13.12 1 12a11 11 0 0 1 22 0c0 1.13-.96 1.51-1.46 1.51s-1.5-.3-1.5-1.51c0-.05 0-.1-.02-.15a8.03 8.03 0 1 0-16.04.35Z"/></g></svg>'},"data-testid":"spinner",style:{width:t,height:t}})},$d=Ne().memo((function(){return(0,X.jsx)("div",{className:"loader",children:(0,X.jsx)("div",{className:"loader__spinner",children:(0,X.jsx)(Wd,{size:24})})})})),Vd=__webpack_require__(4452),Yd=__webpack_require__.n(Vd);function qd(){return!!navigator.platform&&["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)}var Zd=9999999999999;class Qd{initialGesture="UNDEFINED";pointers={};_lastGestureMoveTimestamp=0;_initialPinchDistance=NaN;_targetElementOffset=null;constructor(e,t,r){this.targetElement=e,this.callbacks=t,this.options=r}destroy(){}reset(){this.pointers={},this._lastGestureMoveTimestamp=0,this._initialPinchDistance=NaN,this.initialGesture="UNDEFINED",this._targetElementOffset=null}isDeactivated(){return this.options.activeHandler&&this.options.activeHandler!==this}_isAnyButtonPressed(e){return!(!e.buttons&&!this.getPointerCount())}_isGeneratedByMouseDevice(e){return!("pointerType"in e)||!e.pointerType||"mouse"===e.pointerType}getScalingFactor(){return this.callbacks.getScalingFactor?this.callbacks.getScalingFactor():1}fireGestureStart(){var{onGestureStart:e}=this.callbacks;e&&e(this._getTouches(),this._getLastEventTimestamp())}fireGestureChange(e){void 0===e&&(e=NaN);var t=this._getLastEventTimestamp();if(t-this._lastGestureMoveTimestamp>10){var r=isNaN(e)?this._getCurrentPinchDistance()/this._initialPinchDistance:e;if(!isNaN(r)){var{onGestureChange:n}=this.callbacks;n&&n(this._getTouches(),t,r,this.initialGesture),this._lastGestureMoveTimestamp=t}}}fireGestureEnd(){var{onGestureEnd:e}=this.callbacks;e&&e(this._getLastEventTimestamp())}fireMouseMove(e){if(this._isGeneratedByMouseDevice(e)&&!this._isAnyButtonPressed(e)){var t=e.pageX,r=e.pageY,n=this._getOffsetPosition(t,r),i=this.getScalingFactor(),{onMouseMove:o}=this.callbacks;o&&o(n.x*i,n.y*i,e.timeStamp)}}fireMouseEnter(e){if(this._isGeneratedByMouseDevice(e)){var{onMouseEnter:t}=this.callbacks;t&&t(e.timeStamp)}}fireMouseLeave(e){if(this._isGeneratedByMouseDevice(e)){var{onMouseLeave:t}=this.callbacks;t&&t(e.timeStamp)}}saveTargetElementOffset(){this._targetElementOffset=function(e){if(!e.getClientRects().length)return{top:0,left:0};var t=e.getBoundingClientRect();if(t.width||t.height){var r=e.ownerDocument.documentElement||{};return{top:t.top+window.pageYOffset-r.clientTop,left:t.left+window.pageXOffset-r.clientLeft}}return t}(this.targetElement)}saveInitialPinchDistance(){this._initialPinchDistance=this._getCurrentPinchDistance()}saveInitialGestureIfUndefined(){if("UNDEFINED"===this.initialGesture){var e=Object.keys(this.pointers);if(e.length>=2){var t=this._getCurrentPinchDistance();t-this._initialPinchDistance>5?this.initialGesture="ZOOM_IN":this._initialPinchDistance-t>10&&(this.initialGesture="ZOOM_OUT")}else{var r=this.pointers[parseInt(e[0])],n=r.last.position.x-r.initial.position.x,i=r.last.position.y-r.initial.position.y,o=r.last.timestamp-r.initial.timestamp;if(Math.max(Math.abs(n),Math.abs(i))<10||o<10)return;var a=Math.atan2(-i,n)*(180/Math.PI);this.initialGesture=a>=-25&&a<=25?"SWIPE_RIGHT":a>=60&&a<=120?"SWIPE_UP":a>=155||a<=-155?"SWIPE_LEFT":a>=-120&&a<=-60?"SWIPE_DOWN":"SWIPE_OTHER"}}}isValidPointer(e){return!!this.pointers[e]}savePointer(e,t,r,n){var i=this._getOffsetPosition(t,r),o=function(e){return e>Zd?Math.floor(e/1e3):e<0?Math.floor(e+Zd):Math.floor(e)}(n);this.pointers[e]=this.pointers[e]||{initial:{position:i,timestamp:o}},this.pointers[e].last={position:i,timestamp:o}}deletePointer(e){delete this.pointers[e],0===this.getPointerCount()&&(this.initialGesture="UNDEFINED",this._initialPinchDistance=NaN)}isPointerMoved(e,t,r,n){void 0===n&&(n=0);var i=this._getOffsetPosition(t,r),o=this.pointers[e].last.position;return Math.abs(o.x-i.x)>Math.abs(n)||Math.abs(o.y-i.y)>Math.abs(n)}_getOffsetPosition(e,t){this._targetElementOffset||this.saveTargetElementOffset();var{left:r=0,top:n=0}=this._targetElementOffset||{};return{x:Math.round(e-r),y:Math.round(t-n)}}_getLastEventTimestamp(){var e=0;for(var t in this.pointers)this.pointers.hasOwnProperty(t)&&(e=Math.max(e,this.pointers[t].last.timestamp));return e}_getCurrentPinchDistance(){var e=Object.keys(this.pointers);if(e.length<=1)return 1;var t=this.pointers[parseInt(e[0])],r=this.pointers[parseInt(e[1])];return Math.sqrt(Math.pow(t.last.position.x-r.last.position.x,2)+Math.pow(t.last.position.y-r.last.position.y,2))}getPointerCount(){var e=0;for(var t in this.pointers)this.pointers.hasOwnProperty(t)&&e++;return e}_getTouches(){var e=this.getScalingFactor(),t=[];for(var r in this.pointers)this.pointers.hasOwnProperty(r)&&t.push({x:this.pointers[r].last.position.x*e,y:this.pointers[r].last.position.y*e});return t}}var Xd=200+(qd()?300:0);class Jd extends Qd{destroy(){this.unregisterTapHandlers()}reset(){super.reset(),this.unregisterTapHandlers()}registerTapHandlers(){var e=this._getFirstPointerId(),t=this.pointers[e].last.position;void 0!==this._doubleTapConfirmedTimeoutId&&(clearTimeout(this._doubleTapConfirmedTimeoutId),this._doubleTapConfirmedTimeoutId=void 0),void 0!==this._singleTapConfirmedTimeoutId&&clearTimeout(this._singleTapConfirmedTimeoutId),void 0!==this._singleTapConfirmedTimeoutId&&1===this.getPointerCount()&&(this._doubleTapConfirmedTimeoutId=setTimeout((()=>{this._doubleTapConfirmedTimeoutId=void 0,0===this.getPointerCount()&&this._fireDoubleTapConfirmed(t.x,t.y)}),200)),this._singleTapConfirmedTimeoutId=void 0,void 0===this._doubleTapConfirmedTimeoutId&&1===this.getPointerCount()&&(this._singleTapConfirmedTimeoutId=setTimeout((()=>{this._singleTapConfirmedTimeoutId=void 0,0===this.getPointerCount()&&this._fireSingleTapConfirmed(t.x,t.y)}),Xd))}unregisterTapHandlers(){void 0!==this._singleTapConfirmedTimeoutId&&(clearTimeout(this._singleTapConfirmedTimeoutId),this._singleTapConfirmedTimeoutId=void 0),void 0!==this._doubleTapConfirmedTimeoutId&&(clearTimeout(this._doubleTapConfirmedTimeoutId),this._doubleTapConfirmedTimeoutId=void 0)}validateTapHandlers(){var e=this._getFirstPointerId(),t=this.pointers[e].last.position;this._isPointerCloseToInitialPosition(e,t.x,t.y)||this.unregisterTapHandlers()}executeTapHandlers(){var e=this._getFirstPointerId(),t=this.pointers[e].last.position;void 0!==this._singleTapConfirmedTimeoutId&&this._fireSingleTap(t.x,t.y),void 0!==this._doubleTapConfirmedTimeoutId&&(this._fireSingleTap(t.x,t.y),this._fireDoubleTap(t.x,t.y))}_fireSingleTap(e,t){var r=this.getScalingFactor(),{onSingleTap:n}=this.callbacks;n&&n(e*r,t*r)}_fireSingleTapConfirmed(e,t){var r=this.getScalingFactor(),{onSingleTapConfirmed:n}=this.callbacks;n&&n(e*r,t*r)}_fireDoubleTap(e,t){var r=this.getScalingFactor(),{onDoubleTap:n}=this.callbacks;n&&n(e*r,t*r)}_fireDoubleTapConfirmed(e,t){var r=this.getScalingFactor(),{onDoubleTapConfirmed:n}=this.callbacks;n&&n(e*r,t*r)}_getFirstPointerId(){for(var e in this.pointers){var t=parseInt(e);if(this.pointers.hasOwnProperty(t)&&!isNaN(t))return t}throw new Error("No pointer for tap")}_isPointerCloseToInitialPosition(e,t,r){var n=this.pointers[e];return Math.abs(n.initial.position.x-t)<5&&Math.abs(n.initial.position.y-r)<5}}class Kd extends Jd{constructor(e,t,r){super(e,t,r),this.pointerEventTypes={DOWN:"pointerdown",MOVE:"pointermove",UP:"pointerup",CANCEL:"pointercancel",ENTER:"pointerenter",LEAVE:"pointerleave"},this.targetElement.addEventListener(this.pointerEventTypes.DOWN,this._elementPointerDownHandler,!1),this.targetElement.addEventListener(this.pointerEventTypes.MOVE,this._elementPointerMoveHandler,!1),this.targetElement.addEventListener(this.pointerEventTypes.UP,this._elementPointerUpHandler,!1),this.targetElement.addEventListener(this.pointerEventTypes.CANCEL,this._elementPointerCancelHandler,!1),this.targetElement.addEventListener(this.pointerEventTypes.ENTER,this._elementPointerEnterHandler,!1),this.targetElement.addEventListener(this.pointerEventTypes.LEAVE,this._elementPointerLeaveHandler,!1)}destroy(){this.targetElement.removeEventListener(this.pointerEventTypes.DOWN,this._elementPointerDownHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.MOVE,this._elementPointerMoveHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.UP,this._elementPointerUpHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.CANCEL,this._elementPointerCancelHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.ENTER,this._elementPointerEnterHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.LEAVE,this._elementPointerLeaveHandler,!1)}_elementPointerDownHandler=e=>{if(!this.isDeactivated()){var t=e;this.options.activeHandler=this,this.options.updateLastPointerEventTimeStamp(t);var{pointerId:r,pageX:n,pageY:i}=t;if(this.options.shouldInvokeSetPointerCapture())try{this.targetElement.setPointerCapture&&this.targetElement.setPointerCapture(r)}catch(e){}0===this.getPointerCount()&&this.saveTargetElementOffset(),this.savePointer(r,n,i,e.timeStamp),this.saveInitialPinchDistance(),this.saveInitialGestureIfUndefined(),this.fireGestureStart();try{this.registerTapHandlers()}catch(e){}}};_elementPointerMoveHandler=e=>{if(!this.isDeactivated()){var t=e;this.options.updateLastPointerEventTimeStamp(t),this.fireMouseMove(t);var{pointerId:r,pageX:n,pageY:i}=t;this.isValidPointer(r)&&(this.isPointerMoved(r,n,i,2)&&(this.savePointer(r,n,i,e.timeStamp),this.saveInitialGestureIfUndefined(),this.fireGestureChange()),this.validateTapHandlers(),this.options.shouldInvokePreventDefault()&&e.preventDefault())}};_elementPointerUpHandler=e=>{if(!this.isDeactivated()){var t=e;this.options.updateLastPointerEventTimeStamp(t);var{pointerId:r,pageX:n,pageY:i}=t;if(this.isValidPointer(r)){this.savePointer(r,n,i,e.timeStamp);var o=!1;1===this.getPointerCount()?(this.fireGestureEnd(),this.executeTapHandlers(),this.deletePointer(r),o=!0):(this.fireGestureStart(),this.deletePointer(r),this.saveInitialPinchDistance()),this.options.shouldInvokePreventDefault()&&e.preventDefault(),o&&this.options.resetInterception()}}};_elementPointerCancelHandler=e=>{this.unregisterTapHandlers(),this._elementPointerUpHandler(e)};_elementPointerEnterHandler=e=>{var t=e;this.options.updateLastPointerEventTimeStamp(t),this.fireMouseEnter(t)};_elementPointerLeaveHandler=e=>{var t=e,{pointerId:r}=t;1===this.getPointerCount()&&(this.fireGestureEnd(),this.executeTapHandlers(),this.deletePointer(r),this.options.resetInterception()),this.options.updateLastPointerEventTimeStamp(t),this.fireMouseLeave(t)}}var eh={capture:!1,passive:!1};class th extends Qd{_totalDeltaY=0;constructor(e,t,r){super(e,t,r),this.targetElement.addEventListener("gesturestart",this._elementGestureStartHandler,eh),this.targetElement.addEventListener("gesturechange",this._elementGestureChangeHandler,eh),this.targetElement.addEventListener("gestureend",this._elementGestureEndHandler,eh),this.targetElement.addEventListener("wheel",this._elementWheelHandler,eh)}destroy(){this.targetElement.removeEventListener("gesturestart",this._elementGestureStartHandler,eh),this.targetElement.removeEventListener("gesturechange",this._elementGestureChangeHandler,eh),this.targetElement.removeEventListener("gestureend",this._elementGestureEndHandler,eh),this.targetElement.removeEventListener("wheel",this._elementWheelHandler,eh)}reset(){super.reset(),this._cancelIdleTimeout(),this._totalDeltaY=0,this._idleTimeoutId=void 0}_resetIdleTimeout(){this._cancelIdleTimeout(),this._idleTimeoutId=setTimeout((()=>{this._idleTimeoutId=void 0,this._onIdle()}),250)}_cancelIdleTimeout(){null!==this._idleTimeoutId&&(clearTimeout(this._idleTimeoutId),this._idleTimeoutId=void 0)}_onIdle(){this._totalDeltaY=0,this.fireGestureEnd(),this.deletePointer(1),this.options.resetInterception()}_handleTrackpadGestureChange(e){this._totalDeltaY+=e;var t=1-this._totalDeltaY/100;this.fireGestureChange(t),this._resetIdleTimeout()}_elementGestureStartHandler=e=>{if(!this.isDeactivated()){this.options.activeHandler=this,this.saveTargetElementOffset();var t=e.pageX,r=e.pageY;this.savePointer(1,t,r,e.timeStamp),this.fireGestureStart(),e.preventDefault()}};_elementGestureChangeHandler=e=>{if(!this.isDeactivated()){var t=e.pageX,r=e.pageY;this.savePointer(1,t,r,e.timeStamp);var n=e.scale;!isNaN(n)&&isFinite(n)&&("UNDEFINED"===this.initialGesture&&(this.initialGesture=n>1?"ZOOM_IN":"ZOOM_OUT"),this.fireGestureChange(n)),this.options.shouldInvokePreventDefault()&&e.preventDefault()}};_elementGestureEndHandler=e=>{if(!this.isDeactivated()){var t=e.pageX,r=e.pageY;this.savePointer(1,t,r,e.timeStamp),this.fireGestureEnd(),this.deletePointer(1),this.options.shouldInvokePreventDefault()&&e.preventDefault(),this.options.resetInterception()}};_elementWheelHandler=e=>{if(e.ctrlKey&&!this.isDeactivated()){this.options.activeHandler=this,this.savePointer(1,e.pageX,e.pageY,e.timeStamp),"UNDEFINED"===this.initialGesture&&(this.initialGesture=e.deltaY>0?"ZOOM_OUT":"ZOOM_IN");var t=!1;0===this._totalDeltaY?(this.fireGestureStart(),this._handleTrackpadGestureChange(e.deltaY)):0===e.deltaY?(this._totalDeltaY=0,this.fireGestureEnd(),this.deletePointer(1),t=!0,this._cancelIdleTimeout()):this._handleTrackpadGestureChange(e.deltaY),this.options.shouldInvokePreventDefault()&&e.preventDefault(),t&&this.options.resetInterception()}}}var rh={capture:!1,passive:!1};class nh extends Qd{_totalDeltaY=0;constructor(e,t,r){super(e,t,r),this.targetElement.addEventListener("wheel",this._elementWheelHandler,rh)}destroy(){this.targetElement.removeEventListener("wheel",this._elementWheelHandler,rh)}reset(){super.reset(),this._cancelIdleTimeout(),this._totalDeltaY=0,this._idleTimeoutId=void 0}_resetIdleTimeout(){this._cancelIdleTimeout(),this._idleTimeoutId=setTimeout((()=>{this._idleTimeoutId=void 0,this._onIdle()}),250)}_cancelIdleTimeout(){void 0!==this._idleTimeoutId&&(clearTimeout(this._idleTimeoutId),this._idleTimeoutId=void 0)}_onIdle(){this._totalDeltaY=0,this.fireGestureEnd(),this.deletePointer(1),this.options.resetInterception()}_elementWheelHandler=e=>{if(!e.ctrlKey&&this.callbacks.catchWheelEvent&&this.callbacks.catchWheelEvent()&&!this.isDeactivated()){if(this.options.activeHandler=this,this.savePointer(1,e.pageX,e.pageY,e.timeStamp),"UNDEFINED"===this.initialGesture&&(this.initialGesture=e.deltaY>0?"ZOOM_OUT":"ZOOM_IN"),0===this._totalDeltaY)this.fireGestureStart(),this._totalDeltaY+=e.deltaY;else{this._totalDeltaY+=e.deltaY;var t=1-this._totalDeltaY/200;this.fireGestureChange(t)}this._resetIdleTimeout(),this.options.shouldInvokePreventDefault()&&e.preventDefault()}}}class ih{_interceptedBy="NONE";_lastPointerEventTimeStamp=0;_lastTouchEventTimeStamp=0;constructor(e,t,r){this.targetElement=e,this._handlerOptions=r;var n=!!Object.keys(t).find((e=>/gesture|tap/i.test(e)));this.options={shouldInvokeSetPointerCapture:()=>n,shouldInvokePreventDefault:()=>"READER"===this._interceptedBy,hasBrowserIntercepted:()=>"BROWSER"===this._interceptedBy,updateInterceptionWithTouchEvent:e=>{e.cancelable||(this._interceptedBy="BROWSER")},resetInterception:()=>{this._interceptedBy="NONE",this.options.activeHandler=null},updateLastPointerEventTimeStamp:e=>{this._lastPointerEventTimeStamp=e.timeStamp},updateLastTouchEventTimeStamp:e=>{this._lastTouchEventTimeStamp=e.timeStamp},isSimulatedMouseEvents:e=>this._lastPointerEventTimeStamp>=e.timeStamp||this._lastTouchEventTimeStamp>=e.timeStamp,activeHandler:null},this._handlers=[new Kd(e,t,this.options),new th(e,t,this.options),new nh(e,t,this.options)],this.enableBrowserHandlingOfVerticalPanningGestures()}destroy(){this._handlers.forEach((e=>{e.destroy()}))}reset(){this._interceptedBy="NONE",this._handlers.forEach((e=>{e.reset()})),this.options.activeHandler=null}requestToIntercept(){"NONE"===this._interceptedBy&&(this._interceptedBy="READER")}enableBrowserHandlingOfVerticalPanningGestures(){this.targetElement.style.touchAction=this._handlerOptions?.isVertical?"pan-x":"pan-y"}disableBrowserHandlingOfAllPanningGestures(){this.targetElement.style.touchAction="none"}}var oh=e=>e.backdrop.isVisible,ah=(0,Ae.forwardRef)((function(e,t){var{icon:r,...n}=e;return"string"==typeof r?n.dangerouslySetInnerHTML={__html:r}:r&&(n.children=r),"href"in n?(0,X.jsx)("a",{...n,ref:t}):(0,X.jsx)("button",{type:"button",...n,ref:t})})),sh=od()(ah)(["background:none;border:0;color:inherit;cursor:pointer;display:block;font-family:inherit;margin:0;outline:none;padding:0;-webkit-tap-highlight-color:transparent;&:focus-visible{box-shadow:0 0 0 1px var(--theme-main-color),0 0 0 3px var(--theme-focus-color);}& svg{display:block;height:24px;margin:0 auto;width:24px;}"]),ch=(0,id.css)(["position:relative;@media (hover:hover){&[data-tooltip]:hover:before,&[data-tooltip]:focus-visible:before{background-color:",";border-radius:",";bottom:calc(100% + 10px);color:",";content:attr(data-tooltip);font-size:",";font-weight:normal;left:50%;letter-spacing:normal;line-height:1.4;max-width:","px;padding:"," ",";position:absolute;text-align:center;text-transform:none;transform:translateX(-50%);width:max-content;z-index:",";}&[data-tooltip]:hover:after,&[data-tooltip]:focus-visible:after{background-color:",";bottom:calc(100% + 10px);content:'';height:10px;left:50%;position:absolute;transform:translateX(-8px) rotate(-45deg) translateY(5px);width:10px;z-index:",";}}"],Zl,Jl,Ql,Kl,150,rd,nd,4,Zl,4),uh=(e,t)=>{var[r,n]=(0,Ae.useState)(0),i=vi(vs);return(0,Ae.useEffect)((()=>{if(i&&t.current){var r=t.current.getBoundingClientRect(),o=4*e.length>75?99:4*e.length;e.length>5?r.right/2<o?n(o-r.right/2):r.right+o/2>i&&n(-o/2-i+r.right):n(0)}}),[t,i,e.length]),r},lh=od()(sh)(["color:var(--theme-main-color);&[aria-disabled='true'],&[disabled]{color:var(--theme-main-disabled-color);}@media (hover:hover){&:not([area-disabled='true']):hover{background:var(--theme-secondary-hover-color);}}&:not([aria-disabled='true']):not([disabled]):active{background:var(--theme-secondary-active-color);}&:focus-visible{background:var(--theme-secondary-hover-color);}:before{left:calc( 50% + ( "," ) ) !important;}",""],(e=>{var{adjustment:t=0}=e;return 0===t?" 0":t>0?` min(${t}px, 75px)`:` max(${t}px, -75px)`}),ch),dh='<svg viewBox="0 0 24 24"><path fill="currentColor" d="m12.82 12 4.15-4.8c.07-.08.01-.2-.1-.2h-1.26a.26.26 0 0 0-.2.09L12 11.05 8.58 7.09a.26.26 0 0 0-.2-.09H7.14c-.11 0-.17.12-.1.2l4.15 4.8-4.15 4.8a.12.12 0 0 0-.02.13l.05.05.07.02h1.26c.07 0 .14-.03.2-.09L12 12.95l3.42 3.96c.05.06.12.09.2.09h1.25c.11 0 .17-.12.1-.2L12.82 12Z"/></svg>',hh='<svg viewBox="0 0 24 24"><path fill="currentColor" d="m19.95 18.85-5.2-5.2A5.96 5.96 0 0 0 10 4a5.96 5.96 0 0 0-5.99 6.01 5.96 5.96 0 0 0 6 6c1.34 0 2.61-.44 3.65-1.24l5.2 5.2a.16.16 0 0 0 .18.03l.05-.04.87-.87a.16.16 0 0 0 .04-.18.16.16 0 0 0-.04-.05Zm-6.78-5.68a4.46 4.46 0 0 1-6.34 0 4.46 4.46 0 0 1 0-6.34 4.46 4.46 0 0 1 6.34 0 4.46 4.46 0 0 1 0 6.34Z"/></svg>',ph=Vc((function(e,t){var{dispatch:r,getState:n,featureTracker:i}=t;i.usage("FIND_QUERY"),kc(n())!==e&&r(Lc(e))}));function fh(e){return e.env.isClipboardAvailable}function gh(e){return e.env.isTouch}var mh=Vc((function(e,t){var{dispatch:r,getState:n,featureTracker:i}=t,o=n(),a=Nc(o),s=jc(o),c=a.length?(s+1)%a.length:s;s!==c&&(i.usage("FIND_NEXT"),r(Rc(c)))})),vh=Vc((function(e,t){var{dispatch:r,getState:n,featureTracker:i}=t,o=n(),a=Nc(o),s=jc(o),c=a.length?(s+a.length-1)%a.length:s;s!==c&&(i.usage("FIND_PREV"),r(Rc(c)))})),yh=Vc((function(e,t){var{event:r,inputFieldValue:n}=e,{dispatch:i,getState:o}=t,a="MacIntel"===navigator.platform,s=r,c=s.currentTarget,u=()=>{i(mh())},l=()=>{i(vh())};if(71===s.keyCode&&a&&s.metaKey)s.preventDefault(),s.shiftKey?l():u();else if(!a&&s.ctrlKey)34===s.keyCode?(s.preventDefault(),u()):33===s.keyCode&&(s.preventDefault(),l());else if("Enter"===s.key&&"INPUT"===c.tagName){s.preventDefault(),kc(o())===n?s.shiftKey?l():u():i(ph(n));var d=o(),h=gh(d),p=gs(d);h&&p<=pa.mobileMax&&c.blur()}})),bh=Vc((function(e,t){var{dispatch:r,getState:n}=t,i=n();r(Lc(kc(i)))})),_h=od()(lh)(["border-radius:4px;height:40px;width:40px;"]),wh=(0,Ae.memo)((function(){var e=vi(jc)+1,t=vi(Oc),r=vi(Mc),n=vi(Ic),i=fi(),o=Ae.useRef(null),a=Ae.useRef(null),[s,c]=Ae.useState("");Ae.useEffect((()=>{n?(o.current?.focus(),i(Fl("FIND_QUERY")),i(Fl("FIND_NEXT")),i(Fl("FIND_PREV")),i(Fl("FIND_CLOSE")),i(Fl("FIND_CLOSE_BLUR"))):o.current?.blur()}),[i,n]);var u=e=>{i(yh({event:e,inputFieldValue:s}))};return(0,X.jsx)("div",{className:Yd()("find-overlay",{"find-overlay--hidden":!n}),children:n&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("form",{action:"#",className:"find-overlay__input-wrapper",children:[(0,X.jsx)("div",{className:"find-overlay__input-icon",dangerouslySetInnerHTML:{__html:hh}}),(0,X.jsx)("input",{"aria-label":"Search in publication",className:"find-overlay__input",onBlur:()=>{s||i(cl({isBlur:!0}))},onChange:e=>{a.current&&(clearTimeout(a.current),a.current=null),qd()||(a.current=setTimeout((()=>{i(ph(e.target.value))}),500)),c(e.target.value)},onKeyDown:u,placeholder:"Search in publication...",ref:o,type:"search",value:s}),(0,X.jsx)("div",{className:"find-overlay__input-border"}),(0,X.jsxs)("div",{className:"find-overlay__results-wrapper",children:[r===pc&&"number"==typeof t&&(0,X.jsxs)("span",{"data-testid":"find-overlay-results",children:[0===t?0:e," of"," ",t]}),r===hc&&(0,X.jsx)(Wd,{size:Hd})]})]}),(0,X.jsx)(_h,{"aria-label":"Find previous",disabled:!t,icon:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M16 6.58V5.15c0-.13-.13-.2-.22-.12l-7.57 6.5a.58.58 0 0 0-.16.21.64.64 0 0 0 0 .52c.04.08.1.15.16.2l7.57 6.5c.1.08.22.02.22-.1v-1.44a.31.31 0 0 0-.1-.23L9.85 12l6.05-5.2c.06-.05.1-.13.1-.22Z"/></svg>',onClick:()=>{i(vh())},onKeyDown:u}),(0,X.jsx)(_h,{"aria-label":"Find next",disabled:!t,icon:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="m15.8 11.53-7.58-6.5a.12.12 0 0 0-.14-.02.14.14 0 0 0-.06.06.16.16 0 0 0-.02.08v1.43c0 .09.04.17.1.23L14.15 12 8.1 17.2a.3.3 0 0 0-.1.22v1.43c0 .13.13.2.22.12l7.57-6.5a.58.58 0 0 0 .16-.21.64.64 0 0 0-.16-.73Z"/></svg>',onClick:()=>{i(mh())},onKeyDown:u}),(0,X.jsx)(_h,{"aria-label":"Close",icon:dh,onClick:()=>{i(cl({isBlur:!1}))}}),r===fc&&(0,X.jsxs)("span",{className:"find-overlay__error-message",children:["Oops, something went wrong."," ",(0,X.jsx)("button",{className:"find-overlay__retry-button",onClick:()=>{i(bh())},type:"button",children:"Retry"}),"?"]})]})})})),xh=od().button(["align-items:center;background:transparent;border:0;color:",";cursor:pointer;display:flex;font-family:inherit;font-size:13px;font-weight:700;letter-spacing:2px;line-height:24px;padding:6px;text-shadow:0 0 3px #000;text-transform:uppercase;&:hover{color:",";}svg{display:block;filter:drop-shadow(0 0 1px #000);}"],Ql,"#e5e5e5"),Th=od().span(["padding-left:5px;"]),Sh=(0,Ae.memo)((function(e){var{navigationLinkFeature:t}=e,r=fi(),{text:n,icon:i}=t;return(0,Ae.useEffect)((()=>{r(Fl(Rl.NAVIGATION_LINK))}),[r]),(0,X.jsxs)(xh,{onClick:()=>{r(nl()),r(zl(Rl.NAVIGATION_LINK)),window.open(t.url,"_self")},children:[(0,X.jsx)("span",{dangerouslySetInnerHTML:{__html:i}}),(0,X.jsx)(Th,{children:n})]})})),Eh=(0,Ae.memo)((function(e){var{showFullScreenAd:t}=e,r=vi(cs),n=vi(zu),i=Boolean(n&&r);(0,Ae.useRef)(i).current=i;var o=Yd()("header-controls",{"is-visible":t||i});return(0,X.jsx)("div",{className:o,children:r&&(0,X.jsx)("div",{className:"header-controls__item",children:(0,X.jsx)(Sh,{navigationLinkFeature:r})})})}));function Ih(e){var{children:t,className:r}=e,n=Yd()("popup-base",r);return(0,X.jsxs)("div",{className:n,children:[(0,X.jsx)("div",{className:"popup-base__backdrop"}),t]})}var kh=od()(sh)(["align-items:center;color:#1a1a1a;display:flex;height:40px;justify-content:center;padding:8px;width:40px;"]),Mh=(0,Ae.forwardRef)((function(e,t){var{children:r,title:n,onCloseClick:i,className:o,baseClassName:a,contentClassName:s}=e,c=Boolean(n||i),u=Yd()("popup__header",{"popup__header--only-close":!n&&i}),l=Yd()("popup__body",o),d=Yd()("popup",s);return(0,X.jsx)(Ih,{className:a,children:(0,X.jsxs)("div",{className:d,"data-testid":"popup",ref:t,children:[c&&(0,X.jsxs)("div",{className:u,children:[n&&(0,X.jsx)("h2",{className:"popup__title",children:n}),i&&(0,X.jsx)(kh,{className:"popup__close-button",icon:dh,onClick:i})]}),(0,X.jsx)("div",{className:l,children:r})]})})})),Ah=od()(sh)(["align-items:center;color:#1a1a1a;display:flex;height:40px;justify-content:center;padding:8px;width:40px;"]);function Nh(e){var{children:t,hasControls:r,isUpperHeaderVisible:n,onCloseClick:i,publicationCoverUrl:o,publicationTitle:a,title:s}=e,c=["blocking-popup__content"];return r&&c.push("blocking-popup__content--with-controls"),(0,X.jsxs)(Mh,{baseClassName:"blocking-popup__base",contentClassName:c.join(" "),children:[i&&(0,X.jsx)("div",{className:"blocking-popup__close-container",children:(0,X.jsx)(Ah,{className:"blocking-popup__close-button",icon:dh,onClick:i})}),(0,X.jsxs)("div",{className:"blocking-popup",children:[(0,X.jsx)("div",{className:"blocking-popup__cover-container",children:(0,X.jsx)("img",{alt:"",className:"blocking-popup__cover-image",src:o,title:a})}),(0,X.jsxs)("div",{className:"blocking-popup__wrapper",children:[n&&(0,X.jsx)("div",{className:"blocking-popup__upper-title",children:s||(0,X.jsxs)(X.Fragment,{children:["Unlock full access",(0,X.jsx)("span",{className:"blocking-popup__hidden-on_short_screen",children:"to"})]})}),(0,X.jsx)("h2",{className:"blocking-popup__title",children:a}),t]})]})]})}function Oh(e){var{className:t,...r}=e,n=Yd()("form-button",t,{"form-button--disabled":r.disabled});return(0,X.jsx)("button",{...r,className:n})}var jh='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M20.82 4h-1.54a.68.68 0 0 0-.55.3l-9.1 12.98-4.36-6.22a.73.73 0 0 0-.24-.23.64.64 0 0 0-.31-.08H3.18c-.15 0-.23.2-.14.32l6.04 8.63c.28.4.82.4 1.1 0L20.97 4.32c.1-.13.01-.32-.14-.32Z" /></svg>',Ph="checkbox";function Ch(e){var{checked:t,className:r,...n}=e,i=Yd()(r,Ph),o=`${Ph}__visual`,a=Yd()(`${Ph}__indicator`,{[`${Ph}__indicator--unchecked`]:!t,[`${Ph}__indicator--checked`]:t});return(0,X.jsxs)("span",{className:i,children:[(0,X.jsx)("input",{...n,checked:!!t,className:`${Ph}__input`,type:"checkbox"}),(0,X.jsx)("span",{className:o,children:(0,X.jsx)("span",{"aria-hidden":!0,className:a,dangerouslySetInnerHTML:{__html:t?jh:""}})})]})}function Dh(e){var{label:t,className:r,...n}=e,i=Yd()("form-checkbox",r);return(0,X.jsxs)("label",{className:i,children:[(0,X.jsx)(Ch,{...n}),(0,X.jsx)("p",{className:"form-checkbox__label",children:t})]})}function Lh(e){var{message:t,name:r,onChange:n,placeholder:i,title:o,value:a,isError:s}=e,c=Yd()("form-input__input",{"form-input__input--error":s}),u=Yd()("form-input__message",{"form-input__message--error":s});return(0,X.jsxs)("div",{className:"form-input__container",children:[(0,X.jsx)("p",{className:"form-input__label",children:o}),(0,X.jsx)("input",{className:c,name:r,onChange:n,placeholder:i,value:a}),(0,X.jsx)("p",{className:u,children:t})]})}var Rh=Vc((function(e,t){var{getState:r,setState:n}=t,i=r();n({...i,leadGen:{...i.leadGen,isDownloading:!0}})}));function Bh(e){return e.features}var Uh=la(Bh,(e=>e.downloadProtected)),Fh=la(Bh,(e=>e.downloadRegular));function zh(e){return e.metadata.downloadable}var Gh=la(Fh,zh,ts,Uh,Ra,((e,t,r,n,i)=>t&&!r&&(i&&!!e||!!n)));function Hh(e){return e.download.status}function Wh(e){return e.licenses.licenses[Ea]}function $h(e){var t=Wh(e),r=zh(e),n=ts(e),i=Uh(e);return!(r&&(t&&!n||i))}function Vh(e){var t=Wh(e),r=zh(e),n=ts(e),i=Hh(e),o=Uh(e);return"DOWNLOAD_LOADING"===i?"Downloading":"DOWNLOAD_FAILURE"===i?"Failed to download":r?t||n||o?n&&!o?"Please purchase the publication first if you want to download it":"Download":"The publisher does not have the license to enable download":"The publisher chose not to allow downloads for this publication"}function Yh(e,t){e({type:t}),setTimeout((()=>{e({type:"DOWNLOAD_READY"})}),2e3)}function qh(){return(e,t)=>{var r=t();"DOWNLOAD_READY"===Hh(r)&&(Uh(r)?e(((e,t)=>{var r=t(),n=(e=>Va(e).protectedContentUrlId)(r);if(n){var i=`${r.config.origins.api}/call/reader/purchased-download/${n}`;return window.open(i,"_top"),Yh(e,"DOWNLOAD_SUCCESS")}return Yh(e,"DOWNLOAD_FAILURE")})):e(((e,t)=>{var r=t(),n=`${Bi()}/call/reader/download/${es(r)}`;e({type:"DOWNLOAD_LOADING"}),fetch(n).then((e=>e.json())).then((t=>{window.open(t.url,"_top"),Yh(e,"DOWNLOAD_SUCCESS")})).catch((()=>{Yh(e,"DOWNLOAD_FAILURE")}))})))}}var Zh=Vc((function(e,t){var r,{getState:n,featureTracker:i,metrics:o,setState:a,dispatch:s}=t,c=n(),u=c.leadGen;u.isClosed||(!u.isDownloading||c.metadata.isLeadGenSkippable||u.isSkippable?(u.isDownloading&&s(qh()),r={isClosed:!0},i.usage(Rl.LEAD_GEN_SKIPPED),o.onLeadGenerationFormDismissed(c.metadata.publicationId,c.metadata.ownerId,c.metadata.userId)):r={isDownloading:!1},a({...c,leadGen:{...u,...r}}))})),Qh=Vc((function(e,t){var{getState:r,metrics:n,setState:i,dispatch:o}=t,a=r();i({...a,leadGen:{...a.leadGen,isClosed:!0,isDownloading:!1}}),a.leadGen.isDownloading&&o(qh()),"preview"!==a.visitSource.readerEndpoint&&(n.onLeadGenerationFormSubmitted(a.metadata.publicationId,a.metadata.ownerId,a.metadata.userId,e.email,e.name),function(e){var t=window.sessionStorage;if(t&&e){var r=t.getItem("leadGen"),n={};try{if(r){var i=JSON.parse(r);i&&"object"==typeof i&&null!==i&&(n=i)}n[e]=Date.now(),t.setItem("leadGen",JSON.stringify(n))}catch(e){}}}(es(a)))})),Xh=Vc((function(e,t){var{getState:r,dispatch:n}=t,i=r(),o=`${Bi()}/call/reader/lead-gen/${es(i)}`;return"preview"===i.visitSource.readerEndpoint?(n(Qh(e)),{status:!0}):fetch(o,{body:JSON.stringify(e),method:"POST",credentials:"omit"}).then((e=>e.json())).then((t=>(t.status&&n(Qh(e)),t)))}));function Jh(e){var{metrics:t}=e,r=vi(Ya),n=fi(),i=vi(ec),o=vi(Wu),a=vi($u),s=(0,Ae.useRef)(!0),[c,u]=(0,Ae.useState)(!1),[l,d]=(0,Ae.useState)(!0),[h,p]=(0,Ae.useState)(!0),[f,g]=(0,Ae.useState)(!0),[m,v]=(0,Ae.useState)(""),[y,b]=(0,Ae.useState)(!1),[_,w]=(0,Ae.useState)(""),[x,T]=(0,Ae.useState)("");return(0,Ae.useEffect)((()=>{o&&n(Fl(Rl.LEAD_GEN_SKIPPED)),n(Fl(Rl.LEAD_GEN_SUBMITTED)),t?.onLeadGenerationFormDisplayed(r.publicationId,r.ownerId,r.userId,!o)}),[n,o,r,t]),(0,Ae.useEffect)((()=>(s.current=!0,()=>{s.current=!1})),[]),(0,X.jsxs)(Nh,{hasControls:!i,isUpperHeaderVisible:!0,onCloseClick:o?()=>{n(Zh())}:void 0,publicationCoverUrl:r.coverUri,publicationTitle:r.title,title:a?"Fulfill the form to download":void 0,children:[(0,X.jsx)("div",{className:"leadgen__input-wrapper",children:(0,X.jsx)(Lh,{isError:!l,message:l?"":"Please enter a valid email address.",name:"email",onChange:e=>{w(e.currentTarget.value),d(!0)},placeholder:"Enter your email",title:"Email*",value:_})}),(0,X.jsx)("div",{className:"leadgen__input-wrapper",children:(0,X.jsx)(Lh,{isError:!f,message:f?"":"Please enter a valid name.",name:"name",onChange:e=>{T(e.currentTarget.value),g(!0)},placeholder:"Enter your name",title:"Name",value:x})}),(0,X.jsxs)("div",{className:"leadgen__agreement",children:[(0,X.jsx)(Dh,{checked:y,label:(0,X.jsxs)(X.Fragment,{children:["You consent to Issuu sharing this data with the publisher for marketing and analytics. You can revoke consent anytime by"," ",(0,X.jsx)("a",{className:"leadgen__link",href:"https://help.issuu.com/hc/en-us/requests/new?ticket_form_id=29320686489115",rel:"noreferrer",target:"_blank",children:"submitting a request"}),"."]}),onChange:()=>{b((e=>!e)),p(!0)}}),(0,X.jsxs)("div",{className:"leadgen__error-agreement",children:[h||m?"":"Please accept consent.",h&&m?m:""]})]}),(0,X.jsx)(Oh,{onClick:()=>{if(!c&&s.current){var e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_);d(e),p(y),v(""),e&&y&&(u(!0),n(zl(Rl.LEAD_GEN_SUBMITTED)),n(Xh({email:_,name:x})).then((e=>{!e.status&&s.current&&(e.errors.name&&g(!1),e.errors.email&&d(!1))})).catch((()=>{s.current&&v("Something went wrong. Try again")})).finally((()=>{s.current&&u(!1)})))}},children:c?"Submitting...":"Submit"})]})}var Kh=Vc((function(e,t){var r,{getState:n,getCanvasApi:i}=t,o=n(),a=i(),s=Os(o),c=Fc(o),u=s[0]-1,l=(void 0!==s[1]?s[1]:s[0])-1,d=-1,h=-1;c.forEach(((e,t)=>{!e.isPagePaywalled&&t<u?d=t+1:!e.isPagePaywalled&&t>l&&-1===h&&(h=t+1)})),r=-1!==h?h:-1!==d?d:1,a.goToPage(r)})),ep=e=>{var{variant:t,...r}=e,n=Yd()("paywall-button",r.className,{[`paywall-button--${t}`]:!0});return"href"in r&&r.href?(0,X.jsx)("a",{...r,className:n}):(0,X.jsx)("button",{...r,className:n})},tp=["GBP","USD","EUR","INR","JPY"],rp=e=>{var{amount:t,currency:r}=e;return new Intl.NumberFormat(void 0,{maximumFractionDigits:2,minimumFractionDigits:2,style:"currency",currency:r,currencyDisplay:tp.includes(r)?"narrowSymbol":"code"}).format(t/100).replace(/^(\S+)\s+(\S+)$/,"$2 $1")},np=e=>{var t,r,{hostName:n,priceAmount:i,priceCurrency:o,publicationName:a,variant:s,publisherName:c,isNotAvailable:u,referrer:l="reader.button"}=e;return t=u?"Not available":"number"==typeof i&&"string"==typeof o?`Buy ${rp({amount:i,currency:o})}`:"Buy",r=u?"":a?`https://${n}/store/publishers/${c}/issues/${a}?r=${l}`:"#",(0,X.jsx)(ep,{disabled:u,href:r,target:a?"_blank":"",variant:s,children:t})},ip=od().div(["display:flex;gap:8px;justify-content:left;margin-bottom:10px;@media (max-width:500px) or (max-height:340px){justify-content:center;}"]),op=od().a(["background-color:transparent;color:#7c7af0;text-decoration:underline;transition:color 0.2s;white-space:nowrap;&:hover{color:#5f5de4;}&:focus-visible{border-radius:0.25rem;color:#363565;outline:0.125rem solid #5f5de4;outline-offset:0.0625rem;}"]),ap=e=>{var{children:t,...r}=e;return(0,X.jsx)(op,{rel:"noopener noreferrer",target:"_blank",...r,children:t})},sp=od().p(["font-size:14px;font-weight:400;line-height:1.6;margin:0;& + &{margin-top:12px;}"]),cp=od().a(["align-items:center;color:#1a1a1a;display:inline-flex;margin-bottom:12px;text-decoration:none;transition:background-color 0.2s;&:focus-visible{border-radius:0.25rem;color:#363565;outline:0.125rem solid #5f5de4;outline-offset:0.0625rem;}@media (max-height:340px){display:none;}"]),up=od().img(["border:1px solid rgb(178,178,178);border-radius:100%;display:block;height:32px;margin-right:12px;width:32px;"]),lp=od().div(["font-family:inherit;font-size:14px;font-weight:500;"]),dp=e=>{var{avatarUrl:t,displayName:r,profileUrl:n}=e;return(0,X.jsxs)(cp,{href:n,target:"_blank",children:[(0,X.jsx)(up,{alt:`${r} publisher`,src:t}),(0,X.jsx)(lp,{children:r})]})};function hp(e){var{hasControls:t,hostName:r,isNotAvailable:n,onKeepReading:i,priceAmount:o,priceCurrency:a,publicationCoverUrl:s,publicationName:c,publicationTitle:u,publisherDisplayName:l,publisherName:d,publisherProfileImageUrl:h,publisherProfileUrl:p}=e;return(0,X.jsxs)(Nh,{hasControls:t,isUpperHeaderVisible:!n,publicationCoverUrl:s,publicationTitle:u,children:[(0,X.jsx)(dp,{avatarUrl:h,displayName:l,profileUrl:p}),n?(0,X.jsx)(sp,{children:"This publication is currently not available for purchase."}):(0,X.jsxs)(ip,{children:[(0,X.jsx)(np,{hostName:r,priceAmount:o,priceCurrency:a,publicationName:c,publisherName:d,referrer:"reader.overlay",variant:"primary"}),(0,X.jsx)(ep,{onClick:i,variant:"tertiary",children:"Keep reading"})]}),(0,X.jsxs)(sp,{children:["Already bought this?"," ",(0,X.jsx)(ap,{href:`https://${r}/home/purchases`,children:"Go to your purchases"})]})]})}var pp=["LOADED","ERROR"],fp=ui((e=>{var t=ts(e),r=e.paywall,n=Ya(e),i=ya(e);if("user"===n.documentPath.type){var{username:o,documentName:a}=n.documentPath,s=`${i.photo}/${o}/photo_large.jpg`,c=`${i.main}/${o}`;return{hasControls:!ec(e),isNotAvailable:r.isNotAvailable,isOverlayVisible:oc(e),isPreview:t&&!r.isPaid,isPurchased:t&&r.isPaid,hostName:ya(e).main.replace(/^(?:https?:)?\/\/(.*)/,"$1"),paywallDataLoaded:pp.includes(r.status),priceAmount:r.publicationPriceAmount,priceCurrency:r.publicationPriceCurrency,publicationCoverUrl:n.coverUri,publicationName:a,publicationTitle:n.title,publisherDisplayName:n.userDisplayName,publisherName:o,publisherProfileImageUrl:s,publisherProfileUrl:c,readPurchasedPath:r.readPurchasedPath,isPromotedContent:n.isPromotedContent}}throw new Error("Paywall is not supported for publication documents")}),(e=>({onKeepReading:Oi(Kh,e)})))((function(e){var{hasControls:t,hostName:r,isNotAvailable:n,isOverlayVisible:i,isPreview:o,isPromotedContent:a,isPurchased:s,onKeepReading:c,paywallDataLoaded:u,priceAmount:l,priceCurrency:d,publicationCoverUrl:h,publicationName:p,publicationTitle:f,publisherDisplayName:g,publisherName:m,publisherProfileImageUrl:v,publisherProfileUrl:y,readPurchasedPath:b}=e,_=s&&"string"==typeof b;return(0,Ae.useEffect)((()=>{_&&((window.top?window.top:window).location.href=`https://${r}${b}`)}),[_,r,s,b]),!o||_?null:(0,X.jsxs)(X.Fragment,{children:[!i&&u&&(0,X.jsx)("div",{className:Yd()("paywall-ui__btn-header",{"paywall-ui__btn-header--promoted":a}),"data-testid":"buy-button",children:(0,X.jsx)(np,{hostName:r,isNotAvailable:n,priceAmount:l,priceCurrency:d,publicationName:p,publisherName:m,variant:"secondary-inverse"})}),(0,X.jsx)("div",{className:Yd()("paywall-ui__overlay",{"paywall-ui__overlay--hidden":!i}),children:(0,X.jsx)(hp,{hasControls:t,hostName:r,isNotAvailable:n,onKeepReading:c,priceAmount:l,priceCurrency:d,publicationCoverUrl:h,publicationName:p,publicationTitle:f,publisherDisplayName:g,publisherName:m,publisherProfileImageUrl:v,publisherProfileUrl:y})})]})})),gp=(e,t,r)=>{return"user"===r.type?(n=`${t.main}/call/document-page/stream/${e}/${r.username}/${r.documentName}`,fetch(n).then((e=>e.ok?e.json():Promise.reject(new Error("Failed to load streams from the server")))).then((e=>e.items.filter((e=>"user"===e.type)))).catch((()=>[]))):Promise.resolve([]);var n},mp=[];function vp(e){return e.features.recommendations}function yp(e){return"READ-MORE"===e.controls.visiblePopup}function bp(e){return vp(e)?.type||null}function _p(e){return!1!==vp(e)?.isOpenInNewTab}function wp(e){var t=bp(e),r=e.readMore;return r.loadedType===t&&r.items.length>0?r.items:mp}var xp=la(bp,(function(e){return e.readMore.isReadyForLoading}),ec,Pa,Ca,((e,t,r,n,i)=>!(!e||r||!t)&&(n?"OWN_DOCUMENTS"===e:"RELATED"===e||"RELATED_FOR_FREE_PUBLISHERS"===e&&!i))),Tp=la(xp,wp,((e,t)=>Boolean(e&&t.length))),Sp=Vc((function(e,t){var{getState:r,setState:n,metrics:i}=t,o=r(),a=o.config.origins,s=bp(o),c=function(e){return e.readMore.loadedType}(o),u=es(o),l="OWN_DOCUMENTS"===s&&Pa(o);c!==s&&async function(e,t,r){var n=r?"more-from-publisher":"read-more",i=`${e.main}/call/reader/${n}/${t}?limit=6`;return(await Bd(i)).documents.map((t=>({coverRatio:t.coverRatio||.7072,documentId:t.documentId,documentPath:{type:"pub_id",publicationId:t.publicationId},baseUrl:`${e.main}/${t.url}`.toLowerCase(),imageUrl:`${e.image}/${t.documentId}/jpg/page_1_thumb_large.jpg`,title:t.title,price:t.price,streamName:n})))}(a,u,l).then((e=>{var t=r(),o=bp(t);s===o&&n({...t,readMore:{...t.readMore,loadedType:s,items:e}}),i.monitor("reader3-readmoreload-stats",{success:1})})).catch((e=>(console.warn(`Failed to load stream for publication: ${u}`,e),i.monitor("reader3-readmoreload-stats",{failure:1}),[])))})),Ep=(0,Ae.memo)((function(){var e=vi(xp),t=fi();return(0,Ae.useEffect)((()=>{e&&t(Sp())}),[e,t]),null})),Ip=e=>e.videoOverlay.showOverlay,kp=e=>(0,X.jsx)("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,X.jsx)("path",{d:"M11.14 15.71a.86.86 0 1 0 1.72 0 .86.86 0 0 0-1.72 0Zm.29-5.42v3.28c0 .08.06.14.14.14h.86c.08 0 .14-.06.14-.14V10.3a.14.14 0 0 0-.14-.15h-.86a.14.14 0 0 0-.14.15Zm8.5 7.85L12.48 5.3A.56.56 0 0 0 12 5c-.2 0-.39.1-.5.29L4.09 18.14c-.22.38.05.86.5.86h14.85c.44 0 .71-.48.5-.86Zm-14-.5L12 7.14l6.07 10.5H5.93Z"})}),Mp=e=>(0,X.jsxs)("svg",{fill:"currentColor",height:"24",viewBox:"0 0 25 24",width:"25",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,X.jsx)("path",{d:"M15.34 9.16h-.84a.57.57 0 0 0-.46.24l-2.8 3.9-1.28-1.77a.57.57 0 0 0-.46-.24h-.84c-.11 0-.18.13-.11.23l2.22 3.08a.57.57 0 0 0 .92 0l3.76-5.21c.07-.1 0-.23-.1-.23Z"}),(0,X.jsx)("path",{d:"M12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.64a6.64 6.64 0 1 1 0-13.29 6.64 6.64 0 0 1 0 13.3Z"})]}),Ap=e=>(0,X.jsxs)("svg",{fill:"currentColor",height:"24",viewBox:"0 0 25 24",width:"25",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,X.jsx)("path",{d:"M15.31 11.25H8.7c-.1 0-.19.08-.19.19v1.12c0 .1.09.19.19.19h6.62c.1 0 .2-.08.2-.19v-1.12c0-.1-.1-.19-.2-.19Z"}),(0,X.jsx)("path",{d:"M12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.64a6.64 6.64 0 1 1 0-13.29 6.64 6.64 0 0 1 0 13.3Z"})]}),Np="error",Op="warning",jp="success";function Pp(e){switch(e){case Np:return(0,X.jsx)(Ap,{className:"message-box__icon"});case Op:return(0,X.jsx)(kp,{className:"message-box__icon"});case jp:return(0,X.jsx)(Mp,{className:"message-box__icon"});default:return null}}var Cp=e=>{var{boxType:t,buttonText:r,header:n,onClose:i,onSubmit:o,text:a,autocloseIn:s}=e,c=Yd()("message-box",{"message-box--error":t===Np,"message-box--warning":t===Op,"message-box--success":t===jp,"message-box--no-header":!n,"message-box--no-close-button":!i});return(0,Ae.useEffect)((()=>{var e;return s&&(e=setTimeout((()=>{i&&i()}),s)),()=>{clearTimeout(e)}}),[s,i]),(0,X.jsxs)("div",{className:c,children:[Pp(t),n&&(0,X.jsx)("h3",{className:"message-box__header",children:n}),(0,X.jsx)("p",{className:`message-box__text message-box__text--${t}`,children:a}),o&&r&&(0,X.jsx)("div",{className:"message-box__actions",children:(0,X.jsx)("button",{className:"message-box__button",onClick:o,children:r})}),i&&(0,X.jsx)(sh,{className:"message-box__close-button",icon:dh,onClick:i}),s&&(0,X.jsx)("div",{className:"message-box__auto-close",style:{animationDuration:`${s}ms`}})]})},Dp=e=>{var{service:t,onClose:r,onSubmit:n}=e;return(0,X.jsx)(Cp,{boxType:"error",buttonText:`Open in ${t}`,header:"We were unable to open this video.",onClose:r,onSubmit:n,text:`This video is hosted on ${t}. You can try and view it there`})},Lp=e=>{var{onClose:t,onSubmit:r,service:n}=e;return(0,X.jsx)(Cp,{boxType:"warning",buttonText:`Open in ${n}`,header:"Video marked as explicit.",onClose:t,onSubmit:r,text:`You can still view this video on ${n}.`})},Rp=ui((e=>({service:e.videoOverlay.service||"",videoId:e.videoOverlay.videoId||"",videoInfo:e.videoOverlay.videoInfo,videoUrl:e.videoOverlay.videoUrl||""})))((function(e){var{dispatch:t,service:r,metrics:n,videoId:i,videoInfo:o,videoUrl:a}=e,s=(0,Ae.useRef)(!1);Ae.useEffect((()=>{o===du.UNKNOWN&&t(function(e,t,r){return(n,i)=>{var o=i().config.origins.api;fetch(`${o}/call/reader/video/${e}/${t}`).then((e=>{if(e.ok)return e.json();throw new Error})).then((i=>{var o=i.explicit?du.EXPLICIT:du.SAFE;n(function(e,t,r){return{type:uu,service:e,videoId:t,videoInfo:r}}(e,t,o)),r.monitor(`reader3-${e}-api-success`)})).catch((()=>{n(function(e,t){return{type:lu,service:e,videoId:t,videoInfo:du.ERROR}}(e,t)),r.monitor(`reader3-${e}-api-failed`)}))}}(r,i,n))}),[t,n,r,i,o]),Ae.useEffect((()=>{setTimeout((()=>{s.current=!0}),400)}),[t,n,r,i,o]);var c=()=>{window.open(a,"_blank"),t(nl())},u=()=>{s.current&&(t(hu()),t(nl()))},l=()=>{switch(r){case"youtube":var e=new URL(a),t=["autoplay=1"];["rel","start","end","loop"].forEach((r=>{e.searchParams.has(r)&&t.push(`${r}=${e.searchParams.get(r)}`)}));var n=e.searchParams.get("t");if(n){var o=parseInt(n);isNaN(o)||t.push(`start=${o}`)}return`https://www.youtube.com/embed/${i}?${t.join("&")}`;case"vimeo":var s=new URL(a).hash;return`https://player.vimeo.com/video/${i}?autoplay=1${s}`;default:return""}};return(0,X.jsxs)("div",{className:"video-overlay",children:[(0,X.jsx)("button",{"aria-label":"Close video overlay",className:"video-overlay__background",onClick:()=>{s.current&&t(hu())}}),(()=>{switch(o){case du.SAFE:return(0,X.jsxs)("div",{className:"video-overlay__content",children:[(0,X.jsx)("iframe",{allowFullScreen:!0,className:"video-overlay__player",src:l(),title:"Video"}),(0,X.jsx)("div",{className:"video-overlay__close-button",children:(0,X.jsx)(lh,{"aria-label":"Close video overlay",icon:dh,onClick:u})})]});case du.EXPLICIT:return(0,X.jsx)("div",{className:"video-overlay__error-content",children:(0,X.jsx)(Lp,{onClose:u,onSubmit:c,service:r})});case du.UNKNOWN:return(0,X.jsxs)("div",{className:"video-overlay__content",children:[(0,X.jsx)("div",{className:"video-overlay__loading",children:(0,X.jsx)(Wd,{size:24})}),(0,X.jsx)("div",{className:"video-overlay__close-button",children:(0,X.jsx)(lh,{"aria-label":"Close video overlay",icon:dh,onClick:u})})]});case du.ERROR:return(0,X.jsx)("div",{className:"video-overlay__error-content",children:(0,X.jsx)(Dp,{onClose:u,onSubmit:c,service:r})});default:throw new Error(`The video info is not a valid value: ${o}`)}})()]})})),Bp=la((e=>e.metadata.isAdsafe),La,vs,ys,ac,((e,t,r,n,i)=>Boolean(e&&!t&&r<n&&r<=pa.mobileMax&&i))),Up=la(ac,La,((e,t)=>!t&&e)),Fp=la(Os,(e=>e.smartnav),((e,t)=>t.pages.some((t=>e.includes(t.pageNumber)&&t.blocks.length>0)))),zp=la(ec,ps,Os,gh,vs,Fp,Ic,Fu,((e,t,r,n,i,o,a,s)=>!e&&t&&i<=pa.mobileMax&&n&&o&&!(1===r.length&&1===r[0])&&!a&&!s)),Gp=la(ws,(e=>e.smartzoomTutorialVisibility)),Hp="@Reader3/size/INIT_SIZE",Wp="RESIZE",$p=[50,100,150,200,250,300,350,400,450,500,600,700,800,900,1e3,1100,1200,1300,1400,1500,1600,1700,1800,1900,2e3];function Vp(e,t){for(var r=0,n=0;n<t.length&&!(e<t[n]);n++)r=t[n];return r.toString().padStart(4,"0")}var Yp=Vc((function(e,t){var{isInitialSize:r}=e,{metrics:n,getState:i}=t,o=i(),a=vs(o),s=ys(o),c=Vp(a,$p),u=Vp(s,$p);n.monitor("reader3.size",{[`width${c}`]:1,[`height${u}`]:1,attributes:{isInitialSize:r?"true":"false",readerConfig:n.readerEndpoint}})})),qp=Vc((function(e,t){var{getState:r,dispatch:n}=t,i=r().size;Object.keys(i).reduce(((t,r)=>e[r]!==i[r]||t),!1)&&(n({type:Wp,data:e}),n(Yp({isInitialSize:!1})))})),Zp=Vc((function(e,t){var{featureTracker:r,getState:n}=t,i=n(),o=vs(i)>ys(i),a=o?Rl.PORTRAIT_MODE:Rl.LANDSCAPE_MODE,s=o?Rl.LANDSCAPE_MODE:Rl.PORTRAIT_MODE;r.opportunity(a),e||r.usage(s)}));function Qp(){return Math.max(2,window.devicePixelRatio||2)}var Xp={capture:!0,passive:!0};class Jp{constructor(e,t){this.target=e,this.callback=t,this.target.addEventListener("mousedown",this._eventHandler,Xp),this.target.addEventListener("touchstart",this._eventHandler,Xp),this.target.addEventListener("pointerdown",this._eventHandler,Xp),this.target.addEventListener("MSPointerDown",this._eventHandler,Xp),this.target.addEventListener("gesturestart",this._eventHandler,Xp),this.target.addEventListener("wheel",this._eventHandler,Xp),this.target.ownerDocument.addEventListener("keydown",this._eventHandler,Xp)}_eventHandler=e=>{("wheel"!==e.type||e.ctrlKey)&&this.callback()};destroy(){this.target.removeEventListener("mousedown",this._eventHandler,Xp),this.target.removeEventListener("touchstart",this._eventHandler,Xp),this.target.removeEventListener("pointerdown",this._eventHandler,Xp),this.target.removeEventListener("MSPointerDown",this._eventHandler,Xp),this.target.removeEventListener("gesturestart",this._eventHandler,Xp),this.target.removeEventListener("wheel",this._eventHandler,Xp),this.target.ownerDocument.removeEventListener("keydown",this._eventHandler,Xp)}}var Kp=function(){(/debugads=([^;]*)/.test(document.cookie)||"undefined"!=typeof window&&window.location.search.includes("debugads=true"))&&console.log(...arguments)},ef=!1,tf=od().div(["color:",";font-size:",";padding-bottom:35px;"],"#b2b2b2",Kl),rf=od().div(["align-items:center;display:flex;justify-content:center;"]),nf=!1,of=e=>{var{adSizes:t,idSuffix:r,network:n,onAdUnfilled:i}=e,o=vi(Es),a=(0,Ae.useRef)(null),s=`${n.replace(/\/\d+\//,"")}__${r}`,[c,u]=(0,Ae.useState)(!1);return(0,Ae.useEffect)((()=>{if(a.current){var e=Ri(),r={necessary:[["isDevelopmentTest",String(!window.location.href.includes("//issuu.com/"))],["pageType","ffReader"],["experiments",o||[]]]};return nf||(nf=!0,(l=window).dataLayer||(function(e){e.dataLayer=[{"gtm.start":(new Date).getTime(),event:"gtm.js"}]}(l),(c=document.createElement("script")).async=!0,c.src="https://www.googletagmanager.com/gtm.js?id=GTM-N7P4N8B",document.head.appendChild(c))),(e=>{var t,r,n=(e=>{var{pingbackHost:t,trackingKey:r}=e,n=A({pingbackHost:t}),i=(e,t)=>{var i={type:"ads-widget",attributes:{event_name:e,tracking_key:r}};t&&(i.time=t),Kp("ads","pingback",i),n(i)};return{adFilled:e=>{i("filled",e)},adInitialised:()=>{i("initialised")},adRequested:()=>{i("requested")},adTimeout:e=>{i("timeout",e)},adUnfilled:e=>{i("unfilled",e)},adViewable:e=>{i("viewable",e)}}})(e.tracking),i=new Set,o=e.timeout,a=e.onTimeout,s=()=>isNaN(r)?0:Date.now()-r,c=(e,r)=>()=>{i.has(e)||(i.add(e),t&&(clearTimeout(t),t=void 0),e(s()),r&&r())},u={onImpression:c(n.adViewable,e.onImpression),onFilled:c(n.adFilled,e.onFilled),onUnfilled:c(n.adUnfilled,e.onUnfilled),onRequest:c((()=>{r=Date.now(),n.adRequested(),o&&a&&(t=setTimeout((()=>{i.has(n.adFilled)||i.has(n.adUnfilled)||(n.adTimeout(s()),a())}),o))}),e.onRequest)};n.adInitialised(),"htlbid"!==e.adProvider||ef||(ef=!0,function(e,t){void 0===t&&(t={}),window.dataLayer=window.dataLayer||[];var r={event:"set_gpt_tag",...t};window.dataLayer.push(r)}());var l=(e=>{var{rootElm:t}=e,r=t.getAttribute("id")?.trim()||`div-${Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)}`;return t.setAttribute("id",r),r})(e),d=((e,t)=>{var{adProvider:r="googletag",adTargeting:n={},network:i,onFilled:o,onImpression:a,onRequest:s,onUnfilled:c,sizes:u}=e,l=(e=>{var{necessary:t=[],marketing:r=[]}=e;return/(^|;)\s*CookieConsent=[^;]*marketing:true/.test(document.cookie)?t.concat(r):t})(n),d=null,h=!1,p=e=>{e.slot.getSlotElementId()===t&&(Kp("ads,widget,slotRendered",e),e.isEmpty?c():o())},f=e=>{e.slot.getSlotElementId()===t&&(Kp("ads,widget,impressionViewable",e),a())},g=e=>{e.slot.getSlotElementId()===t&&(Kp("ads,widget,request",e),s())};return(e=>{window[e]||(window[e]={cmd:[]})})(r),Kp("addPlacement, network:",i,"gptTargeting:",l),window[r]?.cmd.push((()=>{var e=window[r];if(e&&!h&&(d=e.defineSlot(i,u,t))){e.pubads().addEventListener("impressionViewable",f),e.pubads().addEventListener("slotRenderEnded",p),e.pubads().addEventListener("slotRequested",g);for(var n=0;n<l.length;n++)d.setTargeting(l[n][0],l[n][1]);d.setCollapseEmptyDiv(!1).addService(e.pubads()),e.display(t),e.pubads().refresh([d])}})),()=>{if(!h){var e=d;d=null,h=!0,window[r]?.cmd.push((()=>{var t=window[r];t&&(e&&t.destroySlots([e]),t.pubads().removeEventListener("impressionViewable",f),t.pubads().removeEventListener("slotRenderEnded",p),t.pubads().removeEventListener("slotRequested",g))}))}}})({...e,...u},l);return()=>{t&&(clearTimeout(t),t=void 0),d()}})({rootElm:a.current,network:n,sizes:t,tracking:{pingbackHost:e.replace(/.*\/\//,""),trackingKey:s},onUnfilled:i,onFilled:()=>{u(!0)},adTargeting:r,adProvider:"htlbid"})}var c,l}),[]),(0,X.jsxs)(X.Fragment,{children:[!c&&(0,X.jsx)(tf,{children:"Advertisement loading"}),(0,X.jsx)(rf,{children:(0,X.jsx)("div",{id:s,ref:a})})]})},af=od().div(["align-items:center;display:flex;flex-direction:column;height:65px;justify-content:flex-end;position:",";top:100%;width:100%;@media (orientation:landscape){left:0;position:absolute;top:100%;width:100%;}"],(e=>{var{isHidden:t}=e;return t?"absolute":"static"})),sf=e=>{var{onAdUnfulfilled:t,hidden:r}=e;return(0,X.jsx)(af,{isHidden:r,children:(0,X.jsx)(of,{adSizes:[[320,50],[300,50]],idSuffix:"wideLeaderBoard",network:"/30443627/Doc_inBarReader",onAdUnfilled:t})})};function cf(e,t){var r=e.x,n=e.x+e.width,i=t.x,o=t.x+t.width,a=e.y,s=e.y+e.height,c=t.y,u=t.y+t.height,l=Math.max(0,Math.min(n,o)-Math.max(r,i))*Math.max(0,Math.min(s,u)-Math.max(a,c));return l>0?l/(t.width*t.height):0}var uf="undefined"!=typeof Float32Array?Float32Array:Array;function lf(){var e=new uf(2);return uf!=Float32Array&&(e[0]=0,e[1]=0),e}function df(e,t){var r=new uf(2);return r[0]=e,r[1]=t,r}function hf(e,t,r){return e[0]=t,e[1]=r,e}function pf(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function ff(){var e=new uf(6);return uf!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function gf(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],c=t[5],u=r[0],l=r[1],d=r[2],h=r[3],p=r[4],f=r[5];return e[0]=n*u+o*l,e[1]=i*u+a*l,e[2]=n*d+o*h,e[3]=i*d+a*h,e[4]=n*p+o*f+s,e[5]=i*p+a*f+c,e}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)}),lf();var mf=lf(),vf=lf();function yf(e){return e}class bf{constructor(e){void 0===e&&(e=null),this.matrix=e||ff()}inverse(){var e,t,r,n,i,o,a,s,c,u=ff();return e=u,r=(t=this.matrix)[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],(c=r*o-n*i)&&(c=1/c,e[0]=o*c,e[1]=-n*c,e[2]=-i*c,e[3]=r*c,e[4]=(i*s-o*a)*c,e[5]=(n*a-r*s)*c),new bf(u)}isIdentityMatrix(){return 1===this.matrix[0]&&0===this.matrix[1]&&0===this.matrix[2]&&1===this.matrix[3]&&0===this.matrix[4]&&0===this.matrix[5]}isEqualWith(e){for(var t=0;t<this.matrix.length;t++)if(this.matrix[t]!==e.matrix[t])return!1;return!0}multiply(e){var t=ff();return gf(t,this.matrix,e.matrix),new bf(t)}mReset(){var e;return(e=this.matrix)[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,this}mMultiply(e){return gf(this.matrix,this.matrix,e.matrix),this}mTranslate(e,t){var r,n,i,o,a,s,c,u,l,d,h,p=ff();return r=p,n=this.matrix,i=df(e,t),o=n[0],a=n[1],s=n[2],c=n[3],u=n[4],l=n[5],d=i[0],h=i[1],r[0]=o,r[1]=a,r[2]=s,r[3]=c,r[4]=o*d+s*h+u,r[5]=a*d+c*h+l,this.matrix=p,this}mScale(e){var t,r,n,i,o,a,s,c,u,l,d,h=ff();return t=h,r=this.matrix,n=df(e,e),i=r[0],o=r[1],a=r[2],s=r[3],c=r[4],u=r[5],l=n[0],d=n[1],t[0]=i*l,t[1]=o*l,t[2]=a*d,t[3]=s*d,t[4]=c,t[5]=u,this.matrix=h,this}mSet(e,t,r,n,i,o){return this.matrix[0]=e,this.matrix[1]=t,this.matrix[2]=r,this.matrix[3]=n,this.matrix[4]=i,this.matrix[5]=o,this}mSetMatrix(e){return this.mSet(e[0],e[1],e[2],e[3],e[4],e[5])}transformPoint(e,t){var r=lf();return pf(r,df(e,t),this.matrix),Array.from(r).map(yf)}transformRect(e){pf(mf,hf(mf,e.x,e.y),this.matrix),pf(vf,hf(vf,e.x+e.width,e.y+e.height),this.matrix);var t=Math.min(mf[0],vf[0]),r=Math.max(mf[0],vf[0]),n=Math.min(mf[1],vf[1]),i=Math.max(mf[1],vf[1]);return e.x=t,e.y=n,e.width=r-t,e.height=i-n,e}transformCanvasCtx(e){e.transform(this.matrix[0],this.matrix[1],this.matrix[2],this.matrix[3],this.matrix[4],this.matrix[5])}}var _f={_pool:[],created:0,get(e,t,r,n){var i=this._pool.pop();return i?(i.x=e,i.y=t,i.width=r,i.height=n,i):(this.created++,{x:e,y:t,width:r,height:n})},release(e){this._pool.push(e)},unreleasedCount(){return this.created-this._pool.length}};class wf{_pendingRedraw=!1;children=[];static RectPool=_f;static lastTick=0;constructor(e,t){this.props=e,this.parent=t}getChildTree(e){return void 0===e&&(e=!1),[]}get root(){for(var e=this;e.parent;)e=e.parent;return e}get inAnimation(){return!!this.parent&&this.parent.inAnimation}get hasPendingRedraw(){return this.root._pendingRedraw}requestRedraw(){this.root._pendingRedraw=!0}getChildrenToTraverse(){return this.children}get transform(){return this._transform||(this._transform=this.props.transform||new bf),this._transform}get viewportBBox(){return this.getViewportCTM().transformRect(_f.get(0,0,this.width,this.height))}get bbox(){return this.transform.transformRect(_f.get(0,0,this.width,this.height))}get width(){return this.props.width||0}get height(){return this.props.height||0}get zOrder(){return 0}get isVisible(){return!0}get displayName(){return Object.getPrototypeOf(this).constructor.name}overlaps(e){var t=this.bbox,r=cf(e,t);return _f.release(t),r}shouldComponentUpdate(e){if(this.props===e)return!1;var t=Object.keys(this.props),r=Object.keys(e);if(t.length!==r.length)return!0;for(var n=0;n<t.length;n++){var i=t[n];if(this.props[i]instanceof bf&&e[i]instanceof bf&&!this.props[i].isEqualWith(e[i]))return!0;if(this.props[i]!==e[i])return!0}return!1}getViewportCTM(){var e=this.transform;return this.parent&&(e=this.parent.getViewportCTM().multiply(e)),e}componentDidMount(){}componentWillUpdate(e){}componentDidUpdate(e){}componentWillUnmount(){}appendWebglOps(e,t,r){}beforeDraw(e){}draw(e,t){}afterDraw(e){}getCustomCursor(){return!1}forceUpdate(){wf.updateProps(this,this.props,!0)}static updateProps(e,t,r){var n={type:Object.getPrototypeOf(e).constructor,props:t};wf.buildTree(n,e,e,null,r)}static buildTree(e,t,r,n,i,o){if(void 0===t&&(t=null),void 0===r&&(r=null),void 0===n&&(n=null),void 0===i&&(i=!1),void 0===o&&(o=0),!e&&t)return t;var{type:a,props:s}=e;if(t){if(a.prototype!==Object.getPrototypeOf(t))throw new Error("Unsupported update. Trying to replace "+Object.getPrototypeOf(t).constructor.name+" with "+a.prototype.constructor.name);var c={...t.props,...s},u=i||t.shouldComponentUpdate(c);u&&t.componentWillUpdate(c);var l=t.props;if(t.props=c,u){var d=t.getChildTree(!0),h=t.children||[];d.forEach(((e,t)=>{wf.buildTree(e,h[t],r,null,i,o+1)})),t.componentDidUpdate(l),t.requestRedraw()}return t}var p=new a(s,n);return p.owner=r,p.children=p.getChildTree().map((e=>wf.buildTree(e,t,p,p,i,o+1))),p.componentDidMount(),p}static createElement(e,t){return{type:e,props:t}}static traverse(e,t,r,n){void 0===r&&(r=new bf),void 0===n&&(n=0);var i=r.transformRect(_f.get(0,0,e.width,e.height));if(t(e,i,r,n)){var o=e.getChildrenToTraverse();if(o&&o.length){var a=o.slice(0).sort(((e,t)=>e.zOrder-t.zOrder));for(var s of a){var c=r.matrix[0],u=r.matrix[1],l=r.matrix[2],d=r.matrix[3],h=r.matrix[4],p=r.matrix[5];r.mMultiply(s.transform);var f=r.transformRect(_f.get(0,0,s.width,s.height));cf(i,f)&&wf.traverse(s,t,r,n+1),r.mSet(c,u,l,d,h,p),_f.release(f)}}_f.release(i)}else _f.release(i)}static drawWebgl(e,t,r){var n=t.gl;if(n){var i={width:n.drawingBufferWidth,height:n.drawingBufferHeight},o=[];wf.drawTree(e,r,null,((e,t)=>{e.appendWebglOps(o,t,i)})),n.clearColor(0,0,0,0),n.clearStencil(0),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT|n.STENCIL_BUFFER_BIT),o.forEach((e=>{switch(e.type){case"tooltip-operation":t.linkTooltip.draw(...e.args);break;case"link-operation":t.link.draw(...e.args);break;case"shadow-operation":t.shadowDraw.draw(t.shadow.depthMapTexture,...e.args);break;case"bending-page-operation":t.bendingPage.draw(...e.args);break;case"fill-bending-page-operation":t.bendingPage.fill(...e.args);break;case"depth-map-operation":t.shadow.computeDepthMap(...e.args);break;case"highlight-operation":t.highlights.draw(...e.args);break;case"highlight-flash-operation":t.highlights.drawSelected(...e.args);break;default:throw new Error("Unknown 3d operation")}}))}}static draw2d(e,t,r){t.clearRect(r.x,r.y,r.width,r.height),wf.drawTree(e,r,null,((e,r)=>{e.draw(t,r)}))}static drawTree(e,t,r,n){if(e._pendingRedraw&&(e._pendingRedraw=!1),e.isVisible){var i=r?new Float32Array(r.matrix):null;r?r.mMultiply(e.transform):r=(new bf).mMultiply(e.getViewportCTM());var o=r.transformRect(_f.get(0,0,e.width,e.height));if(cf(t,o)){e.beforeDraw(o),n(e,o);var a=e.getChildrenToTraverse();a&&a.length&&a.slice(0).sort(((e,t)=>e.zOrder-t.zOrder)).forEach((e=>wf.drawTree(e,t,r,n))),e.afterDraw(o)}_f.release(o),i&&r.mSetMatrix(i)}}static connect(e,t){return class extends e{constructor(r,n){var i=r.store||(n?.root).__store__;if(!i)throw new Error(`Cannot connect ${e.toString()}: Cannot get store!`);var o=i.getState();super({...r,dispatch:i.dispatch,...t(o)},n)}get displayName(){return`Connected${e.name}`}componentDidMount(){var r=this.root.__store__;if(!r)throw new Error("Root component has no store, cannot connect");this._unsubscribe=r.subscribe((()=>{var e=r.getState(),n=Object.assign({dispatch:r.dispatch},this.props,t(e));wf.updateProps(this,n)})),e.prototype.componentDidMount.call(this)}componentWillUnmount(){this._unsubscribe&&this._unsubscribe(),e.prototype.componentWillUnmount.call(this)}}}static unmountTree(e){if(e.children)for(var t of e.children)wf.unmountTree(t);e.componentWillUnmount()}}function xf(){var e=new uf(9);return uf!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function Tf(e,t,r,n,i,o,a,s,c,u){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=c,e[8]=u,e}function Sf(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],c=t[5],u=t[6],l=t[7],d=t[8],h=r[0],p=r[1],f=r[2],g=r[3],m=r[4],v=r[5],y=r[6],b=r[7],_=r[8];return e[0]=h*n+p*a+f*u,e[1]=h*i+p*s+f*l,e[2]=h*o+p*c+f*d,e[3]=g*n+m*a+v*u,e[4]=g*i+m*s+v*l,e[5]=g*o+m*c+v*d,e[6]=y*n+b*a+_*u,e[7]=y*i+b*s+_*l,e[8]=y*o+b*c+_*d,e}function Ef(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],c=t[5],u=t[6],l=t[7],d=t[8],h=r[0],p=r[1];return e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=c,e[6]=h*n+p*a+u,e[7]=h*i+p*s+l,e[8]=h*o+p*c+d,e}function If(e){return"openUrl"===e.type&&"video"===e.urlType}function kf(e){return"openUrl"===e.type&&"video"===e.urlType&&!!e.inlineData}function Mf(e){return"openUrl"===e.type&&"shopping"===e.urlType}var Af=e=>/\/\/image(-tissuu)?\.isu\.pub[\w\/.-]*$/.exec(e)?.[0]??null,Nf=function(e,t){return void 0===t&&(t="small"),Af(O+e.imageUri.replace(".jpg",`_thumb_${t}.jpg`))},Of=0;function jf(e,t){return function(e,t){return e.layersInfo&&"object"==typeof e.layersInfo?function(e){var{url:t,pageNumber:r,version:n,loadStatsTracker:i}=e;return function(e,t,r,n){var i=null;switch(r){case 1:i=Do;break;case 2:i=Qo;break;default:return Promise.reject(`Unknown version ${r}`)}return n.onPageLoadStart(t,"layers"),i(e,!1)}(t,r,n,i).then((e=>{var[t,n]=e;return function(e,t){var r="encodedImages"in e?e.encodedImages.map((e=>{var r;switch(t.onImageDecodeStart(e),e.type){case"embed":r=`data:image/jpeg;base64,${e.resource}`;break;case"url":r=e.url}return Oo(r).then((r=>(t.onImageDecodeEnd(e),r)))})):[Promise.reject("There is no need to decode images multiple times")],n="encodedFonts"in e?e.encodedFonts.map(((r,n)=>{var i,o=`f${e.page}_${n}`;t.onFontLoadStart(o),"embed"===r.type&&(i=`url(data:application/x-font-woff;charset=utf-8;base64,${r.resource})`);var a=e.layers.find((e=>"text"===e.type&&e.font===n&&e.text.trim().length>0));return function(e,t,r){if(Io.hasOwnProperty(e))return Io[e];var n=document.fonts;return Io[e]=n?function(e,t,r,n){var i=new FontFace(t,r,{});e.add(i);var o=e.load(`12px ${t}`).then((e=>{if(0===e.length)throw new Error("Native font load failed");return i})),a=null,s=new Promise(((e,t)=>{a=setTimeout((()=>t(new Error("Native font load timeout"))),n)}));return Promise.race([o,s]).then((e=>(a&&clearTimeout(a),e)),(e=>(a&&clearTimeout(a),Promise.reject(e))))}(n,e,t,ko):function(e,t,r,n){var i=`@font-face { font-family: "${e}"; src: ${t}; format("woff"); }`;(Mo||((Mo=document.createElement("style")).id="reader3-fonts",Mo.type="text/css",document.head&&document.head.appendChild(Mo)),Mo).appendChild(document.createTextNode(i));var o=new(So())(e);if("text"===r?.type){var a=r.text.substring(0,8);return o.load(a,n).catch((e=>{throw new Eo(`Compat font load failed: "${e}"`)}))}return Promise.resolve(o)}(e,t,r,ko),Io[e]}(o,i,a).then((()=>(t.onFontLoadEnd(o),function(e,t,r){return new Promise((n=>{if(!("requestIdleCallback"in window))return n();var i=parseInt(e.replace(/^f\d+_/,""),10),o=[];r.forEach((e=>{"text"===e.type&&e.font===i&&o.push(...Jo(e.text))}));var a=Array.from(new Set(o.join("")));if(0===a.length)return n();if(t/a.length<=3e3)return n();var s=ra.get();if(!s)return n();var c=s.getContext("2d");if(!c)return ra.release(s),n();c.font=`10px "${e}"`,window.requestIdleCallback((function e(){var t=Ko();do{var r=a.shift();"string"==typeof r&&c?.fillText(r,0,0)}while(Ko()-t<100&&a.length>0);a.length>0?window.requestIdleCallback(e):(s&&ra.release(s),n())}))}))}(o,r.resource.length,e.layers)))).then((()=>({weight:r.weight})))})):[Promise.reject("There is no need to decode fonts multiple times")];return Promise.all([Promise.all(r),Promise.all(n)]).then((t=>{var[r,n]=t;return{layers:e.layers,width:e.width,height:e.height,page:e.page,version:e.version,usable:e.usable,images:r,fonts:n}}))}(t,i).then((e=>(n>1?i.onPageLoadSuccessAfterRetry(r,"layers"):i.onPageLoadSuccess(r,"layers"),e))).catch((e=>(i.onPageLoadFailure(r,"layers"),Promise.reject(e))))}))}({url:e.layersInfo.uri,pageNumber:e.pageNumber,version:e.layersInfo.version,loadStatsTracker:t}):Xo({url:e.imageUri,pageNumber:e.pageNumber,width:e.width,height:e.height,loadStatsTracker:t})}(e,t).catch((r=>{if(e.layersInfo)return r&&r.skipTracking||t.onLoaderError(),t.onLayersImageFallback(),e.layersInfo=void 0,jf(e,t);throw r}))}var Pf=(e,t)=>{if(!e.dominantColor)return null;var r=$i(e.dominantColor);return r?{layers:[{type:"rect",box:[0,0,e.width,e.height],color:[r.r,r.g,r.b],blend:"Normal"}],width:e.width,height:e.height,page:e.pageNumber,state:t,encodedFonts:[],encodedImages:[]}:null};function Cf(e,t,r){switch(t.state){case"NOT_LOADED":return Of<6&&(Of++,t.state="LOADING",function(e){var t=Af(e.imageUri.replace(".jpg","_thumb_large.jpg"));return t?Xo({url:t,pageNumber:e.pageNumber,width:e.width,height:e.height}):Promise.resolve()}(e).then((e=>{e&&"LOADED"!==t.state&&(t.state="LOADED_THUMBNAIL",t.data=e)})),jf(e,r).then((e=>{t.state="LOADED",t.data=e,Of--}),(()=>{Of--}))),Pf(e,t.state);case"LOADING":return Pf(e,t.state);case"LOADED_THUMBNAIL":return t.data?{...t.data,state:t.state}:null;case"LOADED":var n=t.data,i=!(!n||!("images"in n))&&n.images.some((e=>0===e.width||0===e.height));return i?(delete t.data,t.state="NOT_LOADED",Cf(e,t,r)):t.data?{...t.data,state:t.state}:null;default:throw new Error("This should never execute")}}class Df{videoDatas={};constructor(e,t){this.pageModels=e,this.loadStatsTracker=t,this.pageDatas=new Array(e.length)}_getPageData(e){return this.pageDatas[e-1]||(this.pageDatas[e-1]={state:"NOT_LOADED"}),this.pageDatas[e-1]}getPageModel(e){return this.pageModels[e-1]}getPageLayers(e){return Cf(this.getPageModel(e),this._getPageData(e),this.loadStatsTracker)}isPageReady(e){return"LOADED"===this._getPageData(e).state}_getVideoData(e){var t=`${e.page.pageNumber}_${e.id}`;return this.videoDatas[t]||(this.videoDatas[t]={state:"NOT_LOADED"}),this.videoDatas[t]}getVideoThumb(e){return function(e,t){if("NOT_LOADED"===t.state){t.state="LOADING";var{inlineData:r}=e;if(r){var n=r.thumbnail;(i=n,new Promise(((e,t)=>{if(!i||"None"===i.split("/").reverse()[0])return t(new TypeError("url incorrect"));var r=new Image;r.crossOrigin="Anonymous",r.onload=async()=>{if("function"==typeof createImageBitmap)try{var t=await createImageBitmap(r);e(t)}catch{}else e(r)},r.onerror=()=>t(new TypeError("Could not load image")),r.src=i}))).then((e=>{t.state="LOADED",t.data=e}),(()=>{}))}}var i;return t.data}(e,this._getVideoData(e))}getVideoThumbs(e){this.getPageModel(e).links.forEach((e=>{kf(e)&&this.getVideoThumb(e)}))}setActivePages(e,t){e.forEach((e=>{this.getPageLayers(e),this.getVideoThumbs(e)}));for(var r=[],n="SINGLE_PAGE_SPREAD"===t?1:2,i=e[0]-n,o=e[e.length-1]+n;o>=i;o--)o>0&&o<=this.pageModels.length&&(this.getPageLayers(o),this.getVideoThumbs(o),r.push(o));return this.pageDatas.forEach(((e,t)=>{e&&"LOADED"===e.state&&!r.includes(t+1)&&(delete e.data,e.state="NOT_LOADED")})),Object.keys(this.videoDatas).forEach((e=>{var t=this.videoDatas[e],n=parseInt(e,10);"LOADED"!==t.state||r.includes(n)||(delete t.data,t.state="NOT_LOADED")})),r}}var Lf={_pool:[],get(){return this._pool.length?this._pool.pop():document.createElement("canvas")},release(e){this._pool.push(e)}},Rf=/Chrom(e|ium)/.test(navigator.userAgent);class Bf{constructor(e,t){this.hintMaxWidth=e,this.hintMaxHeight=t}_initState(e,t,r,n){var i=e?e.ctx:null;if(!i||i.canvas.width!==t||i.canvas.height!==r){var o=i?i.canvas:Lf.get();o.width=t,o.height=r,i=o.getContext("2d",{alpha:!n})}return{ctx:i}}*draw(e,t,r,n,i,o){var a=this._initState(e,n,i,o);return yield*function(e,t,r,n){return void 0===n&&(n=!1),function*(){var i=yield,o=Ko(),a=function*(){if(isNaN(i))return 0;var a=s;if("image"===a.type){if(!("images"in r))return 0;var c=r.images[a.image];try{if(!(t[0]<2||t[3]<2)||/(iPad|iPhone|iPod).*(AppleWebKit\/).*(Mobile\/).*(Safari\/)/i.test(navigator.userAgent)||n)e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e.drawImage(c,0,0,a.width,a.height);else{oa||(oa=document.createElement("canvas")),oa.width=2*e.canvas.width,oa.height=2*e.canvas.height,oa.id=`reader3-twopass-canvas-${oa.width}x${oa.height}`;var u=oa.getContext("2d");if(!u)throw new Error("could not get canvas for twopass scaling");u.setTransform(2*t[0],2*t[1],2*t[2],2*t[3],2*t[4],2*t[5]),u.drawImage(c,0,0,a.width,a.height),e.setTransform(1,0,0,1,0,0),e.drawImage(oa,0,0,oa.width,oa.height,0,0,e.canvas.width,e.canvas.height)}}catch(t){if(t instanceof Error){var l={has_image:!!c,image_width:c&&c.width,image_height:c&&c.height,dst_width:a.width,dst_height:a.height,canvas_width:e.canvas.width,canvas_height:e.canvas.height};throw new na(t.message,l)}}}else if("text"===a.type){if(!("fonts"in r))return 0;var d=100*Math.ceil(r.fonts[a.font].weight/100)||400;e.font=`${d} ${a.size}px "f${r.page}_${a.font}"`,e.fillStyle=ia(a.color),e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e.transform(a.matrix[0],a.matrix[1],a.matrix[2],a.matrix[3],a.matrix[4],a.matrix[5]);var h=a.scale.some((e=>1!==e));Jo(a.text).forEach(((r,n)=>{var i=a.originx[n],o=a.originy[n],s=a.scale[n];h&&(e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e.transform(a.matrix[0]*s,a.matrix[1]*s,a.matrix[2],a.matrix[3],a.matrix[4],a.matrix[5])),e.fillText(r,i/s,o)}))}else if("rect"===a.type){e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e.fillStyle=ia(a.color);var p=e.globalCompositeOperation;e.globalCompositeOperation=a.blend,e.fillRect(a.box[0],a.box[1],a.box[2],a.box[3]),e.globalCompositeOperation=p}else if("line"===a.type){e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e.strokeStyle=ia(a.color),e.lineWidth=1;var f=e.globalCompositeOperation;e.globalCompositeOperation=a.blend,e.beginPath(),e.moveTo(a.coords[0],a.coords[1]),e.lineTo(a.coords[2],a.coords[3]),e.stroke(),e.globalCompositeOperation=f}Ko()-o>i&&(i=yield,o=Ko())};for(var s of r.layers)if(0===(yield*a()))break}()}(a.ctx,r,t,!0),a}drawImage(e,t,r,n){var i=this._initState(e,r,n,!0);return i.ctx.drawImage(t,0,0,r,n),i}release(e){var{canvas:t}=e.ctx,r=()=>{t.width=0,t.height=0,Lf.release(t)};Rf?r():zi().rIC(r)}getSurface(e){return e.ctx.canvas}}class Uf{constructor(e){this.gl=e,this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}draw(e,t,r,n){var{gl:i}=this,o=t.width,a=t.height;if(o>this.maxTextureSize||a>this.maxTextureSize)throw new Error(`Requested creation of too large texture of size ${o}x${a}. maxTextureSize: ${this.maxTextureSize}`);var s=e?e.texture:i.createTexture();return i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),i.bindTexture(i.TEXTURE_2D,s),e&&e.width===o&&e.height===a||i.texImage2D(i.TEXTURE_2D,0,i.RGBA,o,a,0,i.RGBA,i.UNSIGNED_BYTE,null),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.bindTexture(i.TEXTURE_2D,null),{texture:s,width:o,height:a,imgWidth:r,imgHeight:n}}release(e){var{gl:t}=this,{texture:r}=e;zi().rIC((()=>{t.deleteTexture(r)}))}getSurface(e){return e}}var Ff=["LOADED_THUMBNAIL","NOT_LOADED","LOADING"];function zf(e,t,r){var n=Math.round(e[0]*r.width),i=Math.round(t[0]*r.width),o=Math.round(e[3]*r.height),a=Math.round(t[3]*r.height);return n-i==0&&o-a==0}var Gf,Hf=()=>!0;class Wf{resources=[];constructor(e){var{useWebGL:t,ctx:r,hintMaxWidth:n,hintMaxHeight:i,pageModels:o,loadStatsTracker:a,renderManager:s}=e;t&&r&&(this.drawWebGL=new Uf(r)),this.draw2D=new Bf(n,i),this.loadStatsTracker=a,s?(this.loadingManager=s.loadingManager,this.loadingManager.pageModels=o,this._reuseData(s)):(this.loadingManager=new Df(o,a),this.resources=new Array(o.length))}_getResource(e){return this.resources[e-1]||(this.resources[e-1]={hires:void 0,preview:void 0,videoThumbs:[]}),this.resources[e-1]}generateSurfacesUncached(e,t,r,n){var i=this.loadingManager.getPageLayers(n);if(!i)return null;var o=this.loadingManager.getPageModel(n);e[0]*=o.width/i.width,e[3]*=o.height/i.height;var a={generator:this.draw2D.draw(null,i,e,t,r,!0),state2D:null,stateWebGL:null,skipCount:0,matrix:e,width_px:t,height_px:r};return this._traditionalRendering(a,this.loadStatsTracker.uncachedFontRenderingTracker()),a.stateWebGL||a.state2D}generateSurfaces(e,t,r,n,i,o,a,s){var c=this.loadingManager.getPageLayers(o);if(!c)return{done:!1,ops:[]};if(Ff.includes(c.state)){var u=this._generatePreview(n,i,c);this._traditionalRendering(u,{start:Hf,end:Hf});var l=this._generatePreviewSurface(u,n,i);return{done:!1,ops:l?[l]:[]}}var d=this.loadingManager.getPageModel(o);return e[0]*=d.width/c.width,e[3]*=d.height/c.height,a?this.generateAnimatingSurfaces(e,t,n,i,o,c,s):this.generateStaticSurfaces(e,t,r,n,i,o,c,s)}generateStaticSurfaces(e,t,r,n,i,o,a,s){var c=this._getResource(o),u=[],{preview:l}=c,{hires:d}=c,h=r.width,p=r.height;if(l||(l=this._generatePreview(n,i,a),c.preview=l),!d||d.width_px!==h||d.height_px!==p||!function(e,t,r){return e[4]===t[4]&&e[5]===t[5]&&zf(e,t,r)}(e,d.matrix,a)){d&&this._releaseWebGLTexture(d);var f=d?d.state2D:null;(d={generator:this.draw2D.draw(f,a,e,h,p,!0),state2D:null,stateWebGL:null,skipCount:0,matrix:e,width_px:h,height_px:p}).generator.next(),c.hires=d}this._traditionalRendering(d,this.loadStatsTracker.hiresFontRenderingTracker()),this._incrementalRendering(l,!1,s);var g=this._getSurface(l),m=this._generateHiresSurface(d);if(m)u.push(m);else{var v=this._generatePreviewSurface(l,t.width,t.height);v&&u.push(v)}return{done:!(!m||!g),ops:u}}generateAnimatingSurfaces(e,t,r,n,i,o,a){var s=this._getResource(i),c=[],u=[],{preview:l}=s,{hires:d}=s,h=t.width,p=t.height;l||(l=this._generatePreview(r,n,o),s.preview=l),this._incrementalRendering(l,!0,a);var f=this._generatePreviewSurface(l,h,p);if(f&&(c.push(f),u.push(l)),d&&zf(d.matrix,e,o)){var g=this._generateHiresSurface(d);g&&(c.push(g),u.push(d))}var m=function(e,t){return e.map(((e,r)=>{var n=t[r],i="src_px"in e&&(e.src_px.x<0||e.src_px.width<=0||e.src_px.x+e.src_px.width>n.width_px),o="src_px"in e&&(e.src_px.y<0||e.src_px.height<=0||e.src_px.y+e.src_px.height>n.height_px),a=e.dest_px.width<=0,s=e.dest_px.height<=0;return i||o||a||s})).filter((e=>!!e))}(c,u);return m.length&&this.loadStatsTracker.onOpsValidationError(m.length),{done:!!f,ops:c}}_reuseData(e){this.resources=e.resources,this.drawWebGL||e.resources.forEach((t=>{t&&(t.hires&&e._releaseWebGLTexture(t.hires),t.preview&&e._releaseWebGLTexture(t.preview),t.videoThumbs.forEach((t=>{e._releaseWebGLTexture(t)})))}))}isPageReady(e){return this.loadingManager.isPageReady(e)}generateVideoThumbSurfaces(e,t,r){var n=this._getResource(e),i=this.loadingManager.getPageModel(e),o=t.width/i.width,a=t.height/i.height,s={ops:[],done:!0};return i.links.forEach((e=>{if(kf(e)&&("openUrl"!==(y=e).type||"video"!==y.urlType||!y.inlineData||!y.inlineData.isExplicit)){var t=e,i=this.loadingManager.getVideoThumb(t);if(!i)return void(s.done=!1);var c=n.videoThumbs.find((t=>t.id===e.id));c||(c={width_px:i.width,id:e.id,height_px:i.height,state2D:null,stateWebGL:null},n.videoThumbs.push(c));var u=this._generateVideoThumbSurface(c,i,r);if(!u)return void(s.done=!1);var l=c.width_px/(e.width*o),d=c.height_px/(e.height*a);if("youtube"===t.videoService){var h=Math.min(l,d),p=h*e.width*o,f=h*e.height*a;s.ops.push({surface:u,type:2,src_px:{x:(c.width_px-p)/2,y:(c.height_px-f)/2,width:p,height:f},dest_px:{x:e.x*o,y:e.y*a,width:e.width*o,height:e.height*a}})}else if("vimeo"===t.videoService){var g=Math.max(l,d),m=c.width_px/g,v=c.height_px/g;s.ops.push({type:3,dest_px:{x:e.x*o,y:e.y*a,width:e.width*o,height:e.height*a}},{surface:u,type:2,src_px:{x:0,y:0,width:c.width_px,height:c.height_px},dest_px:{x:e.x*o+(e.width*o-m)/2,y:e.y*a+(e.height*a-v)/2,width:m,height:v}})}}var y})),s}_generateVideoThumbSurface(e,t,r){var{width_px:n,height_px:i}=e,{state2D:o}=e;if(!o){if(r+10-performance.now()<0)return null;o=this.draw2D.drawImage(null,t,n,i),e.state2D=o}var a=this.draw2D.getSurface(o),{drawWebGL:s}=this;if(s){var{stateWebGL:c}=e;return c||(c=s.draw(null,a,n,i),e.stateWebGL=c),s.getSurface(c)}return a}_getSurface(e){return this.drawWebGL&&e.stateWebGL?this.drawWebGL.getSurface(e.stateWebGL):!this.drawWebGL&&e.state2D?this.draw2D.getSurface(e.state2D):null}_traditionalRendering(e,t){if(e){if(!e.state2D){t.start();for(var r=e.generator.next(50);!r.done;)r=e.generator.next(50);e.state2D=r.value,t.end()}if(this.drawWebGL&&!e.stateWebGL&&e.state2D){var{drawWebGL:n}=this,i=this.draw2D.getSurface(e.state2D),{width:o,height:a}=i;e.stateWebGL=n.draw(e.stateWebGL,i,o,a)}}}_incrementalRendering(e,t,r){if(e){var n=e.skipCount<3,i=r+(t&&n?10:50)-performance.now();if(i<0&&n)e.skipCount++;else if(e.skipCount=0,e.state2D){if(this.drawWebGL&&!e.stateWebGL){var{drawWebGL:o}=this,a=this.draw2D.getSurface(e.state2D),{width:s,height:c}=a;e.stateWebGL=o.draw(e.stateWebGL,a,s,c)}}else{var u=e.generator.next(i);u.done&&(e.state2D=u.value)}}}_generateHiresSurface(e){if(!e)return null;var t=e.width_px,r=e.height_px,n=this._getSurface(e);return t>0&&r>0&&n?{surface:n,type:0,src_px:{x:0,y:0,width:t,height:r},dest_px:{x:-e.matrix[4],y:-e.matrix[5],width:t,height:r}}:null}_generatePreviewSurface(e,t,r){if(!e)return null;var n=this._getSurface(e);return n?{surface:n,type:1,src_px:{x:0,y:0,width:e.width_px,height:e.height_px},dest_px:{x:0,y:0,width:t,height:r}}:null}_generatePreview(e,t,r){var n=[e/r.width,0,0,t/r.height,0,0],i={generator:this.draw2D.draw(null,r,n,e,t,!1),state2D:null,stateWebGL:null,skipCount:0,matrix:n,width_px:e,height_px:t};return i.generator.next(),i}setActivePages(e,t){var r=this.loadingManager.setActivePages(e,t);this.resources.forEach(((e,t)=>{e&&!r.includes(t+1)&&this._releaseResource(e)}))}_releaseWebGLTexture(e){this.drawWebGL&&e.stateWebGL&&(this.drawWebGL.release(e.stateWebGL),e.stateWebGL=null)}_releaseResource(e){var{hires:t,preview:r}=e;t&&(t.state2D&&this.draw2D.release(t.state2D),this._releaseWebGLTexture(t)),r&&(r.state2D&&this.draw2D.release(r.state2D),this._releaseWebGLTexture(r)),e.hires=void 0,e.preview=void 0,e.videoThumbs.forEach((e=>{e.state2D&&this.draw2D.release(e.state2D),this._releaseWebGLTexture(e)})),e.videoThumbs.length=0}release(){this.resources.forEach((e=>{e&&this._releaseResource(e)})),this.resources=[]}}function $f(e,t,r){var n=e.createShader(r);if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)&&!e.isContextLost()){var i=r===e.FRAGMENT_SHADER?"fragment":"vertex",o=e.getShaderInfoLog(n)||"",a=(e.getSupportedExtensions()||[]).join(",");throw new Error(`Cannot compile ${i} shader: ${o}\n[${a}]`)}return n}function Vf(e,t){for(var r=new Set,n=0;n<e;n++){var i=t(n);i&&r.add(i.name)}return r}function Yf(e,t,r){var n=$f(e,t,e.VERTEX_SHADER),i=$f(e,r,e.FRAGMENT_SHADER),o=e.createProgram();e.attachShader(o,n),e.attachShader(o,i),function(e,t){if(e.linkProgram(t),!e.getProgramParameter(t,e.LINK_STATUS)&&!e.isContextLost()){var r=e.getProgramInfoLog(t)||"",n=(e.getSupportedExtensions()||[]).join(",");throw new Error(`Cannot link shaderprogram: ${r}\n[${n}]`)}}(e,o);var a=Vf(e.getProgramParameter(o,e.ACTIVE_UNIFORMS),(t=>e.getActiveUniform(o,t))),s=Vf(e.getProgramParameter(o,e.ACTIVE_ATTRIBUTES),(t=>e.getActiveAttrib(o,t))),c={id:o,bind:()=>{if(Gf!==c)for(var t of(Gf&&Gf.unbind(),Gf=c,e.useProgram(c.id),Array.from(s)))e.enableVertexAttribArray(c[t])},unbind:()=>{for(var t of Array.from(s))e.disableVertexAttribArray(c[t])},destroy:()=>{Gf&&Gf===c&&(Gf.unbind(),Gf=null),e.detachShader(o,n),e.deleteShader(n),e.detachShader(o,i),e.deleteShader(i),e.deleteProgram(o)}};for(var u of Array.from(s))c[u]=e.getAttribLocation(o,u);for(var l of Array.from(a))c[l]=e.getUniformLocation(o,l);return c}class qf{normalShader=null;normalLinesBuffer=null;matrix=xf();projection=xf();texMatrix=xf();clipRect=new Float32Array([0,1,0,1]);constructor(e){this.gl=e,this.shader=Yf(e,"precision highp float;\n\nattribute vec3 vertex;\nattribute vec3 normal;\nattribute vec2 textureCoord;\nattribute float perspectiveCorrection;\n\nuniform mat3 u_matrix;\nuniform mat3 u_texMatrix;\n\nvarying vec3 vnormal;\nvarying vec3 lightDirection;\nvarying vec3 cameraDirection;\nvarying vec2 texcoord;\n\nvoid main(void) {\n    // Z must be one as a 3x3 u_matrix has translation (tx,ty) in the same row.\n    // Just use a 4d matrix, will be simple.\n    vec3 p = vec3((u_matrix * vec3(vertex.xy, 1.0)).xy, vertex.z);\n\n    vnormal = normal;\n    lightDirection = normalize(vec3(10.0, 5.0, 4.0) - p);\n    cameraDirection = normalize(vec3(0, 0.0, 1.0) - p);\n\n    texcoord = (u_texMatrix * vec3(textureCoord, 1)).xy;\n\n    gl_Position = vec4(p.xy, -p.z, perspectiveCorrection);\n}\n","precision highp float;\n\nvarying vec3 vnormal;\nvarying vec3 cameraDirection;\nvarying vec3 lightDirection;\nvarying vec2 texcoord;\n\n// ratio between lighted texture fragment and original texture\n// Ensures smooth transition between static page and bending.\nuniform float lightRatio;\n\nuniform sampler2D texture;\nuniform bool showSpinner;\nuniform float tick;\nuniform float spinnerSize;\n\nuniform vec4 bbox;\nuniform vec2 viewport;\nuniform vec4 clipRect;\n\n// Space in the spinner: 2.2 | 2.4 | 1.5 | 3.5 | 1.5 | 2.4 | 2.2\n\nvec3 spinner(vec2 texcoord, vec4 bbox, vec2 viewport, float size, float tick) {\n    float aspect = (bbox[2] * viewport.x) / (bbox[3] * viewport.y);\n    float pxSize = 1.0 / ((bbox[3] * viewport.y) / 2.0);\n    vec2 pos = vec2((texcoord.x - 0.5) * aspect, texcoord.y - 0.5);\n\n    const float SPEED = 0.00435;\n    const float PI_HALF = 1.5707963267949;\n\n    float radius1 = size * pxSize * 2.5 / 15.7; // (3.5 / 2.0 + 1.5 / 2.0) / 15.7\n    float radius2 = size * pxSize * 6.75 / 15.7; // (3.5 / 2.0 + 1.5 + 2.4 + 2.2 / 2.0) / 15.7;\n\n    float d = length(pos);\n\n    float k1 = size * pxSize * 0.6 / 15.7; //(1.2 / 2.0 / 15.7);\n    float k2 = size * pxSize * 1.0 / 15.7; //(2.0 / 2.0 / 15.7);\n\n    vec2 direction = normalize(vec2(sin(tick * SPEED), cos(tick * SPEED)));\n    float angle = acos(dot(pos, direction) / length(pos));\n\n    // smoothstep over 1 pixel to anti alias the circles\n    float circle1 = smoothstep((radius1 - k1) - pxSize, (radius1 - k1), d) * (1.0 - smoothstep(radius1 + k1, radius1 + k1 + pxSize, d));\n    float circle2 = smoothstep((radius2 - k2) - pxSize, (radius2 - k2), d) * (1.0 - smoothstep(radius2 + k2, radius2 + k2 + pxSize, d));\n    float roundcap1 = 1.0 - smoothstep(k2, k2 + pxSize, length(pos - vec2(direction.y, -direction.x) * radius2));\n    float roundcap2 = 1.0 - smoothstep(k2, k2 + pxSize, length(pos - vec2(-direction.y, direction.x) * radius2));\n\n    float background = max(circle1, circle2) * 0.5;\n    float foreground = max(max(angle < PI_HALF ? circle2 : 0.0, max(roundcap1, roundcap2)), circle1);\n\n    vec3 backgroundColor = vec3(float(0xf2) / 256.0);\n    vec3 spinnerColor = vec3(float(0x9A) / 256.0, float(0xA8) / 256.0, float(0xA9) / 256.0); // $pewter-500\n\n    return mix(backgroundColor, spinnerColor, max(background, foreground));\n}\n\nvec3 applyLight(vec3 materialColor, vec3 normal, vec3 cameraDirection, vec3 lightDirection, float lightRatio) {\n    // http://www.tomdalling.com/blog/modern-opengl/08-even-more-lighting-directional-lights-spotlights-multiple-lights/\n    vec3 reflectionDirection = reflect(-lightDirection, normal);\n\n    vec3 ambient = vec3(0.9) * materialColor;\n    vec3 diffuse = vec3(0.2) * clamp(dot(normal, lightDirection), 0.0, 1.0) * materialColor;\n    float shininess = 5.0;\n    vec3 materialSpecularColor = vec3(0.3);\n    vec3 specular = materialSpecularColor * pow(max(dot(reflectionDirection, cameraDirection), 0.0), shininess);\n    vec3 litColor = ambient + diffuse + specular;\n    return (litColor * lightRatio) + (1.0 - lightRatio) * materialColor;\n}\n\n\nvoid main(void) {\n\n    vec3 color;\n\n    if (showSpinner) {\n        color = spinner(texcoord, bbox, viewport, spinnerSize, tick);\n    } else {\n        color = texture2D(texture, texcoord).rgb;\n    }\n\n    color = applyLight(color, vnormal, cameraDirection, lightDirection, lightRatio);\n\n    if (texcoord.s >= clipRect[0] && texcoord.s <= clipRect[1] && texcoord.t >= clipRect[2] && texcoord.t <= clipRect[3]) {\n        gl_FragColor = vec4(color.rgb, 1.0);\n    } else {\n        gl_FragColor = vec4(0, 0, 0, 0.0);\n    }\n}\n"),this.verticeBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.verticeBuffer),e.bufferData(e.ARRAY_BUFFER,7500,e.DYNAMIC_DRAW),this.normalsBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.normalsBuffer),e.bufferData(e.ARRAY_BUFFER,7500,e.DYNAMIC_DRAW),this.textureCoordsBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.textureCoordsBuffer),e.bufferData(e.ARRAY_BUFFER,5e3,e.DYNAMIC_DRAW),this.perspectiveCorrectionsBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.perspectiveCorrectionsBuffer),e.bufferData(e.ARRAY_BUFFER,2500,e.DYNAMIC_DRAW),this.indiceBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,6912,e.DYNAMIC_DRAW),this.whitePaperTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.whitePaperTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([255,255,255,255])),e.bindTexture(e.TEXTURE_2D,null),this.blackPaperTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.blackPaperTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([0,0,0,255])),e.bindTexture(e.TEXTURE_2D,null)}destroy(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.normalsBuffer),e.deleteBuffer(this.textureCoordsBuffer),e.deleteBuffer(this.perspectiveCorrectionsBuffer),e.deleteBuffer(this.indiceBuffer),e.deleteTexture(this.whitePaperTexture),e.deleteTexture(this.blackPaperTexture),this.shader.destroy()}_calculateMatrix(e,t,r){var n=t&&"src_px"in t?t.src_px.x:0,i=t&&"src_px"in t?t.src_px.y:0,o=t&&"src_px"in t?t.src_px.width:r.width,a=t&&"src_px"in t?t.src_px.height:r.height,s=t&&"surface"in t?t.surface.width:r.width,c=t&&"surface"in t?t.surface.height:r.height,u=t&&"surface"in t&&"imgWidth"in t.surface?t.surface.imgWidth:r.width,l=t&&"surface"in t&&"imgHeight"in t.surface?t.surface.imgHeight:r.height,d=t?t.dest_px.x:0,h=t?t.dest_px.y:0,p=t?t.dest_px.width:r.width,f=t?t.dest_px.height:r.height,g=e.drawingBufferHeight-r.y-r.height;i=l-i-a,h=r.height-h-f,Tf(this.matrix,r.width,0,0,0,r.height,0,r.x,g,1),Tf(this.projection,2/e.drawingBufferWidth,0,0,0,2/e.drawingBufferHeight,0,-1,-1,1),Sf(this.matrix,this.projection,this.matrix);var m=Math.max(0,(1-o/p)/2),v=Math.max(0,(1-a/f)/2),y=(o-2*m)/s/(p/r.width),b=(a-2*v)/c/(f/r.height),_=-d/r.width*y+(n+m)/s,w=-h/r.height*b+(i+v)/c;Tf(this.texMatrix,y,0,0,0,b,0,_,w,1),this.clipRect.set([(n+m)/u,(n+o-m)/u,(i+v)/l,(i+a-v)/l])}fill(e,t,r,n,i,o,a){void 0===a&&(a=0),this.draw(e,{surface:{texture:this.blackPaperTexture,width:1,height:1,imgWidth:1,imgHeight:1},type:2,src_px:{x:0,y:0,width:1,height:1},dest_px:t.dest_px},r,n,i,o,a)}draw(e,t,r,n,i,o,a){void 0===a&&(a=0);var{gl:s,shader:c}=this,u=Qp();s.enable(s.DEPTH_TEST),s.depthFunc(s.LEQUAL),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),s.enable(s.CULL_FACE),s.cullFace(s.BACK),c.bind(),this._calculateMatrix(s,t,r),s.uniformMatrix3fv(c.u_matrix,!1,this.matrix),s.uniformMatrix3fv(c.u_texMatrix,!1,this.texMatrix);var l=s.canvas.width,d=s.canvas.height,h=r.x/l*2-1,p=r.y/d*2-1,f=r.width/l*2,g=r.height/d*2;s.uniform1f(c.lightRatio,n),s.uniform1f(c.tick,a),s.uniform1f(c.spinnerSize,22*u),s.uniform1i(c.showSpinner,!t&&o?1:0),s.uniform4f(c.bbox,h,p,f,g),s.uniform4fv(c.clipRect,this.clipRect),s.uniform2f(c.viewport,s.drawingBufferWidth,s.drawingBufferHeight),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,t&&"surface"in t&&"texture"in t.surface?t.surface.texture:this.whitePaperTexture),s.uniform1i(c.texture,0),s.bindBuffer(s.ARRAY_BUFFER,this.verticeBuffer),s.bufferSubData(s.ARRAY_BUFFER,0,e.vertices),s.vertexAttribPointer(c.vertex,3,s.FLOAT,!1,0,0),s.bindBuffer(s.ARRAY_BUFFER,this.normalsBuffer),s.bufferSubData(s.ARRAY_BUFFER,0,i?e.backFacingNormals:e.normals),s.vertexAttribPointer(c.normal,3,s.FLOAT,!1,0,0),s.bindBuffer(s.ARRAY_BUFFER,this.textureCoordsBuffer),s.bufferSubData(s.ARRAY_BUFFER,0,i?e.backFacingTextureCoords:e.textureCoords),s.vertexAttribPointer(c.textureCoord,2,s.FLOAT,!1,0,0),s.bindBuffer(s.ARRAY_BUFFER,this.perspectiveCorrectionsBuffer),s.bufferSubData(s.ARRAY_BUFFER,0,e.perspectiveCorrections),s.vertexAttribPointer(c.perspectiveCorrection,1,s.FLOAT,!1,0,0),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),s.bufferSubData(s.ELEMENT_ARRAY_BUFFER,0,i?e.backFacingIndices:e.indices),s.drawElements(s.TRIANGLES,6*(e.size-1)*(e.size-1),s.UNSIGNED_SHORT,0)}}var Zf=new Float32Array([1,1,0,.5]),Qf=new Float32Array([0,0,0,.3]);function Xf(e){return{min:{x:Math.min(e.p1.x,e.p2.x,e.p3.x,e.p4.x),y:Math.min(e.p1.y,e.p2.y,e.p3.y,e.p4.y)},max:{x:Math.max(e.p1.x,e.p2.x,e.p3.x,e.p4.x),y:Math.max(e.p1.y,e.p2.y,e.p3.y,e.p4.y)}}}function Jf(e){var t=new Float32Array(6*e.length*2);return e.forEach(((e,r)=>{t[12*r+0]=e.p1.x,t[12*r+1]=e.p1.y,t[12*r+2]=e.p3.x,t[12*r+3]=e.p3.y,t[12*r+4]=e.p2.x,t[12*r+5]=e.p2.y,t[12*r+6]=e.p2.x,t[12*r+7]=e.p2.y,t[12*r+8]=e.p3.x,t[12*r+9]=e.p3.y,t[12*r+10]=e.p4.x,t[12*r+11]=e.p4.y})),t}var Kf,eg=(Kf=xf(),function(e,t){return Tf(Kf,2/e,0,0,0,-2/t,0,-1,1,1)}),tg=(()=>{var e=lf(),t=xf();return function(r,n,i){var o,a,s,c,u;return Ef(t,r,hf(e,i.x,i.y)),o=t,a=t,c=(s=hf(e,n,n))[0],u=s[1],o[0]=c*a[0],o[1]=c*a[1],o[2]=c*a[2],o[3]=u*a[3],o[4]=u*a[4],o[5]=u*a[5],o[6]=a[6],o[7]=a[7],o[8]=a[8],Ef(t,t,hf(e,-i.x,-i.y)),t}})();class rg{constructor(e){this.gl=e,this.shader=Yf(e,"attribute vec2 a_vertex;\n\nuniform mat3 u_displayMatrix;\n\nvoid main(void) {\n    gl_Position = vec4(u_displayMatrix * vec3(a_vertex, 1.0), 1.0);\n}\n\n","precision highp float;\n\nuniform vec4 u_color;\n\nvoid main(void) {\n    gl_FragColor = u_color;\n}\n"),this.selectedShader=Yf(e,"precision highp float;\n\nattribute vec2 a_vertex;\nattribute vec2 a_texCoord;\n\nuniform mat3 u_displayMatrix;\n\nvarying vec2 v_texCoord;\n\nvoid main(void) {\n    v_texCoord = a_texCoord;\n    gl_Position = vec4(u_displayMatrix * vec3(a_vertex, 1.0), 1.0);\n    \n\n}\n\n","precision highp float;\n\nuniform vec4 u_color;\nuniform sampler2D u_texture;\n\nvarying vec2 v_texCoord;\n\nvoid main(void) {\n    vec3 col = texture2D(u_texture, v_texCoord).rgb * u_color.a + u_color.rgb * u_color.a;\n    gl_FragColor = vec4(col, 1);\n}\n"),this.verticeBuffer=e.createBuffer(),this.texCoordBuffer=e.createBuffer(),this.emptyTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.emptyTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([255,255,255,255])),e.bindTexture(e.TEXTURE_2D,null)}draw(e,t){var{gl:r,shader:n,verticeBuffer:i}=this;r.disable(r.DEPTH_TEST),r.disable(r.CULL_FACE),r.enable(r.STENCIL_TEST),n.bind(),r.bindBuffer(r.ARRAY_BUFFER,i),r.vertexAttribPointer(n.a_vertex,2,r.FLOAT,!1,0,0),r.uniformMatrix3fv(n.u_displayMatrix,!1,eg(r.drawingBufferWidth,r.drawingBufferHeight)),t.length&&(r.stencilFunc(r.NEVER,1,1),r.stencilOp(r.REPLACE,r.KEEP,r.KEEP),r.bufferData(r.ARRAY_BUFFER,Jf(t),r.DYNAMIC_DRAW),r.drawArrays(r.TRIANGLES,0,6*t.length)),r.enable(r.BLEND),r.uniform4fv(n.u_color,Qf),r.stencilFunc(r.NOTEQUAL,1,1),r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ZERO,r.ONE),r.blendEquation(r.FUNC_ADD);var o={p1:{x:e.x,y:e.y},p2:{x:e.x+e.width,y:e.y},p3:{x:e.x,y:e.y+e.height},p4:{x:e.x+e.width,y:e.y+e.height}};r.bufferData(r.ARRAY_BUFFER,Jf([o]),r.DYNAMIC_DRAW),r.drawArrays(r.TRIANGLES,0,6),r.disable(r.BLEND),r.disable(r.STENCIL_TEST),r.enable(r.CULL_FACE),r.enable(r.DEPTH_TEST)}drawSelected(e,t,r,n){var{gl:i,shader:o,selectedShader:a,verticeBuffer:s,texCoordBuffer:c}=this;if(i.disable(i.DEPTH_TEST),i.disable(i.CULL_FACE),i.bindBuffer(i.ARRAY_BUFFER,s),i.bufferData(i.ARRAY_BUFFER,Jf(e),i.DYNAMIC_DRAW),i.bindBuffer(i.ARRAY_BUFFER,null),n>1){a.bind();var u=tg(eg(i.drawingBufferWidth,i.drawingBufferHeight),n,r);i.uniformMatrix3fv(a.u_displayMatrix,!1,u),i.bindBuffer(i.ARRAY_BUFFER,s),i.vertexAttribPointer(a.a_vertex,2,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,c),i.bufferData(i.ARRAY_BUFFER,function(e){var t=new Float32Array(6*e.length*2);return e.forEach(((e,r)=>{var n=Xf(e),i=e=>(e-n.min.x)/(n.max.x-n.min.x),o=e=>(n.max.y-e)/(n.max.y-n.min.y);t[12*r+0]=i(e.p1.x),t[12*r+1]=o(e.p1.y),t[12*r+2]=i(e.p3.x),t[12*r+3]=o(e.p3.y),t[12*r+4]=i(e.p2.x),t[12*r+5]=o(e.p2.y),t[12*r+6]=i(e.p2.x),t[12*r+7]=o(e.p2.y),t[12*r+8]=i(e.p3.x),t[12*r+9]=o(e.p3.y),t[12*r+10]=i(e.p4.x),t[12*r+11]=o(e.p4.y)})),t}(e),i.DYNAMIC_DRAW),i.vertexAttribPointer(a.a_texCoord,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),i.uniform1i(a.u_texture,0),i.uniform4fv(a.u_color,Zf);for(var l=0;l<e.length;l++){var d=t[l];i.bindTexture(i.TEXTURE_2D,d&&"texture"in d?d.texture:this.emptyTexture),i.drawArrays(i.TRIANGLES,6*l,6)}}else i.enable(i.BLEND),o.bind(),i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ZERO,i.ONE),i.blendEquation(i.FUNC_ADD),i.bindBuffer(i.ARRAY_BUFFER,s),i.vertexAttribPointer(o.a_vertex,2,i.FLOAT,!1,0,0),i.uniform4fv(o.u_color,Zf),i.drawArrays(i.TRIANGLES,0,6*e.length),i.disable(i.BLEND);i.enable(i.CULL_FACE),i.enable(i.DEPTH_TEST)}destroy(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.texCoordBuffer),e.deleteTexture(this.emptyTexture),this.shader.destroy(),this.selectedShader.destroy()}}class ng{constructor(e){this.gl=e,this.shader=Yf(e,"attribute vec2 vertex;\n\nuniform vec4 texCoords;\nuniform vec4 bbox;\nuniform vec2 viewport;\n\nvarying vec2 textureCoordinate;\n\nvoid main(void) {\n    // map vertex to correct point based on bbox and viewport\n    vec2 xw = 2.0 * bbox.xz / viewport.x;\n    vec2 yh = 2.0 * bbox.yw / viewport.y;\n    vec2 p = vec2((xw[0] - 1.0) + vertex.x * xw[1], (1.0 - yh[0]) - vertex.y * yh[1]);\n\n    textureCoordinate = vec2(texCoords[0] + vertex.x * texCoords[2], texCoords[1] + vertex.y * texCoords[3]);\n    gl_Position = vec4(p, 0.0, 1);\n}\n","precision mediump float;\n\nuniform sampler2D texture;\nvarying vec2 textureCoordinate;\nuniform float opacity;\n\nvoid main(void) {\n    gl_FragColor = texture2D(texture, textureCoordinate) * opacity;\n}\n\n");var t=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),e.STATIC_DRAW),this.verticeBuffer=t}destroy(){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.verticeBuffer),this.shader.destroy()}draw(e,t,r,n){void 0===r&&(r={x:0,y:0,width:1,height:1}),void 0===n&&(n=1);var{gl:i,shader:o}=this;o.bind(),i.disable(i.DEPTH_TEST),i.uniform2f(o.viewport,i.drawingBufferWidth,i.drawingBufferHeight),i.uniform4f(o.bbox,t.x,t.y,t.width,t.height),i.uniform4f(o.texCoords,r.x,r.y,r.width,r.height),i.uniform1f(o.opacity,n),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,e),i.uniform1i(o.texture,0),i.bindBuffer(i.ARRAY_BUFFER,this.verticeBuffer),i.vertexAttribPointer(o.vertex,2,i.FLOAT,!1,0,0),i.drawArrays(i.TRIANGLE_STRIP,0,4)}}const ig=[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.fillStyle="rgba(0,0,0,0)",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.translate(8,10),e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.beginPath(),e.moveTo(16.683499,11.621507),e.bezierCurveTo(15.72267,11.621507,14.892862,12.262398,14.630817,13.116921),e.lineTo(7.861335,13.116921),e.bezierCurveTo(7.59929,12.347851,6.987853,11.792411,6.158046,11.664233),e.lineTo(6.027023,10.766984),e.lineTo(17.513307,9.228843),e.bezierCurveTo(17.819025,9.186117,18.08107,8.929761,18.08107,8.587952),e.lineTo(18.08107,2.520841),e.bezierCurveTo(18.08107,2.179032,17.775351,1.87995,17.425959,1.87995),e.lineTo(4.760475,1.87995),e.lineTo(4.585779,.55544),e.bezierCurveTo(4.542105,.256357,4.28006,0,3.930667,0),e.lineTo(.655111,0),e.bezierCurveTo(.305719,0,0,.299083,0,.640892),e.bezierCurveTo(0,.982701,.305719,1.281784,.655111,1.281784),e.lineTo(3.31923,1.281784),e.lineTo(4.891497,11.792411),e.bezierCurveTo(4.149038,12.13422,3.624949,12.860564,3.624949,13.715087),e.bezierCurveTo(3.624949,14.911418,4.585779,15.851393,5.808653,15.851393),e.bezierCurveTo(6.769483,15.851393,7.59929,15.210501,7.861335,14.355979),e.lineTo(14.587143,14.355979),e.bezierCurveTo(14.849188,15.210501,15.678995,15.851393,16.639825,15.851393),e.bezierCurveTo(17.8627,15.851393,18.823529,14.911418,18.823529,13.715087),e.bezierCurveTo(18.823529,12.518755,17.8627,11.621507,16.683499,11.621507),e.lineTo(16.683499,11.621507),e.closePath(),e.moveTo(16.770848,3.161733),e.lineTo(16.770848,8.032512),e.lineTo(5.896001,9.442474),e.lineTo(4.978845,3.119007),e.lineTo(16.770848,3.161733),e.lineTo(16.770848,3.161733),e.closePath(),e.moveTo(5.808653,14.612336),e.bezierCurveTo(5.328238,14.612336,4.935171,14.2278,4.935171,13.757813),e.bezierCurveTo(4.935171,13.287826,5.328238,12.90329,5.808653,12.90329),e.bezierCurveTo(6.289068,12.90329,6.682135,13.287826,6.682135,13.757813),e.bezierCurveTo(6.682135,14.2278,6.289068,14.612336,5.808653,14.612336),e.lineTo(5.808653,14.612336),e.closePath(),e.moveTo(16.683499,14.612336),e.bezierCurveTo(16.203084,14.612336,15.810018,14.2278,15.810018,13.757813),e.bezierCurveTo(15.810018,13.287826,16.203084,12.90329,16.683499,12.90329),e.bezierCurveTo(17.163914,12.90329,17.556981,13.287826,17.556981,13.757813),e.bezierCurveTo(17.556981,14.2278,17.163914,14.612336,16.683499,14.612336),e.lineTo(16.683499,14.612336),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}];var og={draw(e,t,r,n){var i=1.8*n;e.save(),e.beginPath(),e.arc(t,r,n,0,2*Math.PI),e.fill(),e.translate(t-i/2,r-i/2),e.scale(i/36,i/36),ig[0](e,{stack:0}),e.restore()}};const ag=[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.fillStyle="rgba(0,0,0,0)",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="#F2F2F2",e.lineWidth=2,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="#F2F2F2",e.lineWidth=2,e.beginPath(),e.moveTo(12.340871,10.014123),e.bezierCurveTo(12.438705,9.987436,12.545844,9.99788,12.638453,10.051348),e.lineTo(25.723194,17.605827),e.bezierCurveTo(25.744171,17.617938,25.76355,17.631794,25.781276,17.647113),e.bezierCurveTo(25.850585,17.681197,25.910658,17.735014,25.951029,17.804939),e.bezierCurveTo(26.061419,17.99614,25.995389,18.240929,25.808595,18.348775),e.lineTo(12.645177,25.948678),e.bezierCurveTo(12.576466,25.988348,12.500235,26.004075,12.425883,25.999113),e.bezierCurveTo(12.41723,25.999695,12.408519,25.99999,12.399759,25.99999),e.bezierCurveTo(12.178978,25.99999,12,25.820411,12,25.604721),e.lineTo(12,10.404915),e.bezierCurveTo(12,10.206904,12.152566,10.0429,12.340871,10.014123),e.lineTo(12.340871,10.014123),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}];var sg={draw(e,t,r,n){var i=1.8*n;e.save(),e.beginPath(),e.arc(t,r,n,0,2*Math.PI),e.fill(),e.translate(t-i/2,r-i/2),e.scale(i/36,i/36),ag[0](e,{stack:0}),e.restore()}};class cg{constructor(e,t){this.gl=e,this.shader=Yf(e,"attribute vec2 vertex;\nattribute vec4 barycentric;\n\nuniform vec2 viewport;\nuniform vec4 bbox;\n\nvarying vec4 vBC;\n\nvoid main(void) {\n    // map vertex to correct point based on bbox and viewport\n    vec2 xw = 2.0 * bbox.xz / viewport.x;\n    vec2 yh = 2.0 * bbox.yw / viewport.y;\n    vec2 p = vec2((xw[0] - 1.0) + vertex.x * xw[1], (1.0 - yh[0]) - vertex.y * yh[1]);\n\n    vBC = barycentric;\n    gl_Position = vec4(p, 0.0, 1.0);\n}\n","#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n\nuniform float opacity;\nuniform float strokeWidth;\n\nvarying vec4 vBC;\n\nfloat minComponent(vec4 v) {\n    return min(min(min(v[0], v[1]), v[2]), v[3]);\n}\n\nvoid main(void) {\n    vec3 linkColor = vec3(118.0 / 255.0, 165.0 / 255.0, 204.0 / 255.0);\n    vec4 strokeStyle = vec4(linkColor, opacity);\n    vec4 fillStyle = vec4(linkColor, opacity / 2.0);\n\n    // draw outline by using barycentric coordinates, adapted to quads\n\t// http://codeflow.org/entries/2012/aug/02/easy-wireframe-display-with-barycentric-coordinates/\n    vec4 d = smoothstep(vec4(0.0), fwidth(vBC) * strokeWidth, vBC);\n    gl_FragColor = mix(strokeStyle, fillStyle, minComponent(d));\n}\n"),this.imagePrimitive=t;var r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),e.STATIC_DRAW),this.verticeBuffer=r;var n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,1,0,0,1,0,0,1,0,1,1,0,0,0,1,1]),e.STATIC_DRAW),this.barycentricBuffer=n,this.textureSize=this.getTextureSize(),this.texture=this.getTexture()}destroy(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.barycentricBuffer),e.deleteTexture(this.texture),this.shader.destroy()}_iconRadius(){return 20*Qp()}getTextureSize(){var e;return e=2*this._iconRadius()*2,1<<1+Math.floor(Math.log2(e))}getTexture(){var{gl:e}=this,t=document.createElement("canvas");t.width=this.textureSize,t.height=this.textureSize;var r=2*this._iconRadius(),n=t.getContext("2d");n.fillStyle="rgba(0, 1, 0, 0.0)",n.fillRect(0,0,t.width,t.height),n.fillStyle="rgba(0, 0, 0, 0.7)",sg.draw(n,r/2,r/2,this._iconRadius()),og.draw(n,r+r/2,r/2,this._iconRadius()),this.texture&&e.deleteTexture(this.texture);var i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),i}draw(e,t,r){var{gl:n,shader:i}=this;if(n.disable(n.DEPTH_TEST),n.enable(n.BLEND),n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE),n.blendEquation(n.FUNC_ADD),i.bind(),n.uniform2f(i.viewport,n.drawingBufferWidth,n.drawingBufferHeight),n.uniform4f(i.bbox,r.x,r.y,r.width,r.height),n.uniform1f(i.opacity,t),n.uniform1f(i.strokeWidth,1),n.bindBuffer(n.ARRAY_BUFFER,this.verticeBuffer),n.vertexAttribPointer(i.vertex,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,this.barycentricBuffer),n.vertexAttribPointer(i.barycentric,4,n.FLOAT,!1,0,0),n.drawArrays(n.TRIANGLE_STRIP,0,4),(If(e)||Mf(e))&&r.width>50&&r.height>50){var o={x:r.x+r.width/2-this._iconRadius(),y:r.y+r.height/2-this._iconRadius(),width:2*this._iconRadius(),height:2*this._iconRadius()},a={x:0,y:0,width:2*this._iconRadius()/this.textureSize,height:2*this._iconRadius()/this.textureSize};If(e)&&this.imagePrimitive.draw(this.texture,o,a,t),Mf(e)&&(a.x+=a.width,this.imagePrimitive.draw(this.texture,o,a,t))}}}class ug{constructor(e,t){this.gl=e,this.imagePrimitive=t}destroy(){}draw(e,t,r,n){void 0===n&&(n=1);var{gl:i}=this;i.disable(i.DEPTH_TEST),i.enable(i.BLEND),i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA),i.blendEquation(i.FUNC_ADD),this.imagePrimitive.draw(e,t,r,n)}}var lg=512;class dg{matrix=xf();projection=xf();constructor(e){this.gl=e,this.shader=Yf(e,"precision highp float;\n\nattribute vec3 vertex;\n\nuniform mat3 u_matrix;\n\nvoid main(void) {\n    // Z must be one as a 3x3 u_matrix has translation (tx,ty) in the same row.\n    // Just use a 4d matrix, will be simple.\n    vec3 p = vec3((u_matrix * vec3(vertex.xy, 1.0)).xy, vertex.z);\n\n    float perspectiveCorrection = 1.0 + p.z * -0.35; // FIXME: get rid of magic number: -0.35\n    gl_Position = vec4(p.xy, -p.z * 0.7, perspectiveCorrection);\n}\n","precision highp float;\n\nvoid main(void) {\n    float depth = abs(gl_FragCoord.z);\n    gl_FragColor = vec4(depth, depth, depth, 0.25);\n}\n"),this.verticeBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.verticeBuffer),e.bufferData(e.ARRAY_BUFFER,7500,e.DYNAMIC_DRAW),this.indiceBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,6912,e.DYNAMIC_DRAW),this.depthMapTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.depthMapTexture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,lg,lg,0,e.RGBA,e.UNSIGNED_BYTE,null),this.depthMapFrameBuffer=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,this.depthMapFrameBuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.depthMapTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}destroy(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.indiceBuffer),e.deleteTexture(this.depthMapTexture),e.deleteFramebuffer(this.depthMapFrameBuffer),this.shader.destroy()}_calculateMatrix(e,t){var r=t.x,n=e.drawingBufferHeight-t.y-t.height,i=t.width,o=t.height;Tf(this.matrix,i,0,0,0,o,0,r,n,1),Tf(this.projection,2/e.drawingBufferWidth,0,0,0,2/e.drawingBufferHeight,0,-1,-1,1),Sf(this.matrix,this.projection,this.matrix)}computeDepthMap(e,t){var{gl:r,shader:n}=this;r.disable(r.DEPTH_TEST),r.enable(r.BLEND),r.blendFunc(r.ONE,r.ZERO),r.blendEquation(r.FUNC_ADD),r.disable(r.CULL_FACE),r.bindFramebuffer(r.FRAMEBUFFER,this.depthMapFrameBuffer),r.viewport(0,0,lg,lg),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),n.bind(),this._calculateMatrix(r,t),r.uniformMatrix3fv(n.u_matrix,!1,this.matrix),r.bindBuffer(r.ARRAY_BUFFER,this.verticeBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,e.vertices),r.vertexAttribPointer(n.vertex,3,r.FLOAT,!1,0,0),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),r.bufferSubData(r.ELEMENT_ARRAY_BUFFER,0,e.indices),r.drawElements(r.TRIANGLES,6*(e.size-1)*(e.size-1),r.UNSIGNED_SHORT,0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight)}}class hg{constructor(e){this.gl=e,this.shader=Yf(e,"\nattribute vec3 vertex;\n\nvarying vec2 v_shadowTexcoord;\nvarying vec2 v_shadowBlurCoords[8];\n\nvoid main(void) {\n\n    vec3 p = vertex;\n\n    v_shadowTexcoord = vec2((p.x + 1.0) / 2.0, (p.y + 1.0) / 2.0);\n\n    // precompute blur texture coords in vertex shader to enable texture prefetching\n    v_shadowBlurCoords[0] = v_shadowTexcoord + vec2(0.0, -0.016);\n    v_shadowBlurCoords[1] = v_shadowTexcoord + vec2(0.0, -0.012);\n    v_shadowBlurCoords[2] = v_shadowTexcoord + vec2(0.0, -0.008);\n    v_shadowBlurCoords[3] = v_shadowTexcoord + vec2(0.0, -0.004);\n    v_shadowBlurCoords[4] = v_shadowTexcoord + vec2(0.0,  0.004);\n    v_shadowBlurCoords[5] = v_shadowTexcoord + vec2(0.0,  0.008);\n    v_shadowBlurCoords[6] = v_shadowTexcoord + vec2(0.0,  0.012);\n    v_shadowBlurCoords[7] = v_shadowTexcoord + vec2(0.0,  0.016);\n\n    gl_Position = vec4(p.xy, -p.z, 1);\n}\n\n","\nprecision mediump float;\n\nuniform sampler2D depthMapTexture;\n\nvarying vec2 v_shadowTexcoord;\nvarying vec2 v_shadowBlurCoords[8];\n\nvoid main(void) {\n    vec4 color = vec4(0.0, 0.0, 0.0, 0.0);\n\n    color += texture2D(depthMapTexture, v_shadowBlurCoords[0]) * 0.0443683338718;\n    color += texture2D(depthMapTexture, v_shadowBlurCoords[1]) * 0.0776744219933;\n    color += texture2D(depthMapTexture, v_shadowBlurCoords[2]) * 0.115876621105;\n    color += texture2D(depthMapTexture, v_shadowBlurCoords[3]) * 0.147308056121;\n    color += texture2D(depthMapTexture, v_shadowTexcoord     ) * 0.159576912161;\n    color += texture2D(depthMapTexture, v_shadowBlurCoords[4]) * 0.147308056121;\n    color += texture2D(depthMapTexture, v_shadowBlurCoords[5]) * 0.115876621105;\n    color += texture2D(depthMapTexture, v_shadowBlurCoords[6]) * 0.0776744219933;\n    color += texture2D(depthMapTexture, v_shadowBlurCoords[7]) * 0.0443683338718;\n\n    gl_FragColor = color;\n}\n"),this.verticeBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.verticeBuffer),e.bufferData(e.ARRAY_BUFFER,72,e.DYNAMIC_DRAW)}draw(e,t,r){var{gl:n,shader:i}=this;n.enable(n.DEPTH_TEST),n.enable(n.BLEND),n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE),i.bind();var o=n.canvas.width,a=n.canvas.height,s=(t.x-o/2)/(o/2),c=(0-t.y+a/2)/(a/2),u=(t.x+t.width-o/2)/(o/2),l=(0-(t.y+t.height)+a/2)/(a/2),d=new Float32Array([s,c,r,s,l,r,u,c,r,u,c,r,s,l,r,u,l,r]);n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,e),n.uniform1i(i.depthMapTexture,0),n.bindBuffer(n.ARRAY_BUFFER,this.verticeBuffer),n.bufferSubData(n.ARRAY_BUFFER,0,d),n.vertexAttribPointer(i.vertex,3,n.FLOAT,!1,0,0),n.drawArrays(n.TRIANGLES,0,6)}destroy(){var{gl:e}=this;e.deleteBuffer(this.verticeBuffer),this.shader.destroy()}}class pg{constructor(e){this.gl=e,this.shadow=new dg(e),this.shadowDraw=new hg(e),this.bendingPage=new qf(e),this.imagePrimitive=new ng(e),this.link=new cg(e,this.imagePrimitive),this.linkTooltip=new ug(e,this.imagePrimitive),this.highlights=new rg(e)}destroy(){this.shadow.destroy(),this.shadowDraw.destroy(),this.bendingPage.destroy(),this.imagePrimitive.destroy(),this.link.destroy(),this.linkTooltip.destroy(),this.highlights.destroy(),this.gl=null}}var fg=la(ds,_s,Ic,((e,t,r)=>!!e&&(e.allowOnSmallReaders||!t)&&!r));function gg(e,t){var r=[];return e.forEach((e=>{e.links.forEach((n=>{if(kf(n)){var i=n;i.videoService===t&&r.push({link:i,pageWidth:e.width,pageHeight:e.height})}}))})),r}var mg=e=>e.links.loaded,vg=la(Hc,(e=>gg(e,"youtube"))),yg=la(Hc,(e=>gg(e,"vimeo"))),bg="SET_CANVAS_API";function _g(e){return{type:bg,api:e}}var wg={getPageComponent:()=>null,goToPage:()=>{},goToSpread:()=>{},jumpToPage:()=>{},jumpToSpread:()=>{},setSnapping:()=>{},jumpToPositionByPercent:()=>{},zoomCurrentView:()=>{},timestamp:0};function xg(){return _g(wg)}var Tg=e=>e.canvasApi,Sg="WEBGL_ERROR",Eg="ENABLE_WEBGL",Ig="DISABLE_WEBGL",kg="SET_MAX_DRAWING_BUFFER_WIDTH",Mg="SET_MAX_DRAWING_BUFFER_HEIGHT";function Ag(){return{type:Eg}}function Ng(e){return{type:kg,width:e}}function Og(e){return{type:Mg,height:e}}var jg=e=>({supportsWebGL:e,maxDrawingBufferWidth:0,maxDrawingBufferHeight:0,forceTo2D:!e}),Pg=la((e=>e.canvasContext),(e=>e.size),Es,Is,((e,t,r,n)=>!(!e.supportsWebGL||e.forceTo2D||r.includes("noflip")||n)&&(0===e.maxDrawingBufferWidth||e.maxDrawingBufferWidth>=t.canvasWidth*t.dpr)&&(0===e.maxDrawingBufferHeight||e.maxDrawingBufferHeight>=t.canvasHeight*t.dpr))),Cg=1e3/60,Dg=Math.ceil(250/Cg)*Cg,Lg="EASING_OUT",Rg="EASING_IN_OUT",Bg="EASING_OUT_EXPO";function Ug(e,t,r){var n=Math.max(1,r);return{x:-t.x/n*.6+.4*e.x,y:-t.y/n*.6+.4*e.y}}function Fg(e,t,r,n,i,o,a){return{top:Math.max(Math.min(e,a-i/r),0),left:Math.max(Math.min(t,o-n/r),0),zoom:Math.max(Math.min(r,7),1)}}class zg{constructor(e,t,r,n,i,o,a){this.top=e,this.left=t,this.zoom=r,this.width=n,this.height=i,this.contentWidth=o,this.contentHeight=a,this.snap=!1,this.snapFunction=(e,t,r)=>({top:e,left:t,zoom:r}),this._lastUpdate={left:t,top:e,zoom:r},this._isMoving=!1,this._lastTouchPosition={x:0,y:0},this._initialZoomLevel=1,this._lastTouchTime=0,this._velocity={x:0,y:0},this._animate=!1,this._isDragging=!1,this._lastMoveTs=0}touchStart(e,t,r){this._lastTouchPosition.x=e,this._lastTouchPosition.y=t,this._initialZoomLevel=this.zoom,this._lastTouchTime=r,this._velocity={x:0,y:0},this._animate=!1,this._animation&&this._animation.deferred&&this._animation.deferred.resolve()}touchMove(e,t,r,n){var i=this._lastTouchPosition,o=r-this._lastTouchTime,{top:a,left:s,zoom:c}=this;if(n){var u=this.zoom;(c=Math.max(Math.min(n*this._initialZoomLevel,7),1))!==u&&(s+=e/u-e/c,a+=t/u-t/c)}var l={x:(e-i.x)/c,y:(t-i.y)/c},d=Ug(this._velocity,l,o);Math.abs(d.y/d.x)>=2&&(l.x=0),Math.abs(d.x/d.y)>=2&&(l.y=0),((s-=1*l.x)>this.contentWidth-this.width/c||s<0)&&(s+=.8*l.x*1),((a-=1*l.y)>this.contentHeight-this.height/c||a<0)&&(a+=.8*l.y*1);var h=Ug(this._velocity,l,o);this._isDragging=!0,this._isMoving=!0,this.left=s,this.top=a,this.zoom=c,this._velocity=h,this._lastTouchPosition.x=e,this._lastTouchPosition.y=t,this._lastTouchTime=r}touchEnd(e,t){var r=this._velocity,n=(this.snap?.36:.06)/this.zoom;if(this._isDragging=!1,function(e){return Math.sqrt(e.x*e.x+e.y*e.y)}(r)>n){var i=this.zoom,o=(this.snap?.36:.006)/i,{duration:a,distanceX:s,distanceY:c}=function(e,t,r){for(var n=0,i=e.x,o=e.y,a=0,s=0;Math.sqrt(i*i+o*o)>t;)n+=Cg,a+=(i*=r)*Cg,s+=(o*=r)*Cg;return{duration:n,distanceX:a,distanceY:s}}(r,o,1-.11/i),u=this.left+s,l=this.top+c,d=this.snap?this.snapFunction(l,u,i):Fg(l,u,i,this.width,this.height,this.contentWidth,this.contentHeight),h=Math.sqrt(Math.pow(s,2)+Math.pow(c,2)),p=a*(Math.sqrt(Math.pow(l-d.top,2)+Math.pow(u-d.left,2))+h)/h;this.animateToPosition(d.top,d.left,d.zoom,t,p,Bg)}else this.animateToPosition(this.top,this.left,this.zoom,t,Dg)}scrollTo(e,t,r,n,i){return void 0===i&&(i=Dg),this.animateToPosition(e,t,r||this.zoom,n,i)}jumpTo(e,t,r){var n=Fg(e,t,r||this.zoom,this.width,this.height,this.contentWidth,this.contentHeight);if(this.snap){var i=this.snapFunction(n.top,n.left,n.zoom);this.top=i.top,this.left=i.left,this.zoom=i.zoom}else this.top=n.top,this.left=n.left,this.zoom=n.zoom}setSnap(e,t,r,n){if(void 0===t&&(t=null),void 0===r&&(r=!0),void 0===n&&(n=null),t&&(this.snapFunction=t),e&&!this.snap){if(!this.snapFunction)throw new Error("Cannot snap without snap function!");if(this.snap=e,r)n&&this.animateToPosition(this.top,this.left,this.zoom,n,Dg);else{var i=this.snapFunction(this.top,this.left,this.zoom);this.top=i.top,this.left=i.left,this.zoom=i.zoom}}else this.snap=e}resize(e,t,r,n,i,o,a){if(this.top=e,this.left=t,this.zoom=r,this.width=n,this.height=i,this.contentWidth=o,this.contentHeight=a,this.snap){var s=this.snapFunction(e,t,r);this.top=s.top,this.left=s.left,this.zoom=s.zoom}}isSnapped(){if(!this.snapFunction)return!0;var e=this.snapFunction(this.top,this.left,this.zoom);return Math.abs(e.left-this.left)<1&&Math.abs(e.top-this.top)<1&&Math.abs(e.zoom-this.zoom)<.2}get isDragging(){return this._isDragging}get isAnimating(){return this._animate}get isMoving(){return this._isMoving||this._animate}update(e){var t,r=this._animate;if(this._animate&&this._animation){var{start:n,end:i,startTime:o,duration:a,easing:s,deferred:c}=this._animation,u=i.left-n.left,l=i.top-n.top,d=Math.min(e-o,a),h=Math.max(d/a,0);h<1&&h>0&&(s===Lg?(t=h,h=Math.pow(t-1,3)+1):s===Rg?h=(e=>{var t=2*e;return t<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)})(h):s===Bg&&(h=(e=>1-Math.pow(2,-10*e))(h)));var p=n.left+u*h,f=n.top+l*h,g=this.width/i.zoom-this.width/n.zoom,m=this.width/n.zoom+g*h,v=this.width/m;this.left=p,this.top=f,this.zoom=v,this._animate=d<a,this._animate||c.resolve()}this._lastUpdate.left===this.left&&this._lastUpdate.top===this.top&&this._lastUpdate.zoom===this.zoom||(this._lastMoveTs=e),this._isMoving=r||this._isDragging&&e-this._lastMoveTs<100,this._lastUpdate.left=this.left,this._lastUpdate.top=this.top,this._lastUpdate.zoom=this.zoom}getHorizontalPositionInPercent(){var e=Math.max(Math.min(100*this.left/(this.contentWidth-this.width),100),0);return Number.isFinite(e)?e:0}getVerticalPositionInPercent(){var e=Math.max(Math.min(100*this.top/(this.contentHeight-this.height),100),0);return Number.isFinite(e)?e:0}animateToPosition(e,t,r,n,i,o){var{top:a,left:s,zoom:c}=Fg(e,t,r,this.width,this.height,this.contentWidth,this.contentHeight);if(this.snap){var u=this.snapFunction(a,s,c);a=u.top,s=u.left,c=u.zoom}if(s===this.left&&a===this.top&&c===this.zoom)return this._animate=!1,Promise.resolve();var l={resolve:()=>{},promise:Promise.resolve()};return l.promise=new Promise((e=>{l.resolve=e})),this._animation={startTime:n,easing:o||(this._animate?Lg:Rg),duration:i,start:{top:this.top,left:this.left,zoom:this.zoom},end:{top:a,left:s,zoom:c},deferred:l},this._animate=!0,l.promise}}function Gg(e){return e<pa.tabletMin}function Hg(e){var t=Qp();return t*(Gg(e/=t)?8:12)}function Wg(e,t){var r=Qp();return r*(e?8:Gg(t/=r)?24:80)}function $g(e,t,r){var n=Qp();r/=n;var i=e?8:t?64:Gg(r)?92:function(e){return e<pa.desktopMin&&e>=pa.tabletMin}(r)?80:88;return n*i}var Vg=__webpack_require__(5317),Yg=__webpack_require__.n(Vg);function qg(e,t){var r=Math.floor(e.width),n=0===t?Math.floor(e.x+e.width+.001)-r:Math.floor(e.x),i=Math.floor(e.height);return{x:n,y:Math.floor(e.y),width:r,height:i}}function Zg(e){return Math.max(Math.min(e,1),0)}function Qg(e,t,r){return(t-e)*Zg(r)+e}function Xg(e,t,r){var n=Zg(r);return(t-e)*(1-Math.pow(2,-10*n))+e}function Jg(e,t,r){var n=lf(),i=lf();return hf(n,t,r),pf(i,n,e),{x:i[0],y:i[1]}}function Kg(e,t){var r=ff();return gf(r,t,e.matrix),{p1:Jg(r,e.x,e.y),p2:Jg(r,e.x+e.width,e.y),p3:Jg(r,e.x,e.y+e.height),p4:Jg(r,e.x+e.width,e.y+e.height)}}class em extends wf{constructor(e,t){super(e,t),this._lastActionTick=0}componentDidUpdate(e){Yg()(e.selectedResult,this.props.selectedResult)||(this._lastActionTick=this.props.selectedResult?wf.lastTick:0)}get isVisible(){return!!this.model&&Ic(this.root.__store__.getState())}get width(){return this.model?this.model.width:0}get height(){return this.model?this.model.height:0}get results(){return this.props.results}get selectedResult(){return this.props.selectedResult}get model(){return this.props.model}get transform(){return this._transform||(this._transform=new bf),this.width&&this.height&&this.parent&&this._transform.mSet(this.parent.width/this.width,0,0,this.parent.height/this.height,0,0),this._transform}isAnimating(e){return e-500<this._lastActionTick}draw(e,t){var r=qg(t,this.props.pageType),n=this.getViewportCTM().matrix;if(e.save(),this.selectedResult)for(var i of(e.fillStyle="rgba(255, 255, 0, 0.5)",this.selectedResult)){var o=i.matrix;e.setTransform(n[0],n[1],n[2],n[3],n[4],n[5]),e.transform(o[0],o[1],o[2],o[3],o[4],o[5]),e.fillRect(i.x,i.y,i.width,i.height)}for(var a of this.results)for(var s of a){e.beginPath(),e.setTransform(1,0,0,1,0,0),e.rect(r.x,r.y,r.width,r.height);var c=s.matrix;e.setTransform(n[0],n[1],n[2],n[3],n[4],n[5]),e.transform(c[0],c[1],c[2],c[3],c[4],c[5]),e.rect(s.x,s.y,s.width,s.height),e.clip("evenodd")}e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0.3)",e.fillRect(r.x,r.y,r.width,r.height),e.restore()}appendWebglOps(e,t,r){var n=qg(t,this.props.pageType),i=this.getViewportCTM().matrix,o=this.transform.matrix,a=this.model?.pageNumber||0,s=[];for(var c of this.results)for(var u of c)s.push(Kg(u,i));var l=this.selectedResult,d=[],h=[];if(l)for(var p of l){var f=Kg(p,i),g=Xf(f);if(d.push(f),this.isAnimating(wf.lastTick)){var m=Xf(Kg(p,o)),v=null;if(m.max.x-m.min.x>=1&&m.max.y-m.min.y>=1){var y=(g.max.x-g.min.x+40)/(m.max.x-m.min.x);v=this.props.renderManager.generateSurfacesUncached([y,0,0,y,m.min.x*y*-1,m.min.y*y*-1],(m.max.x-m.min.x)*y,(m.max.y-m.min.y)*y,a)}h.push(v)}}if(e.push({type:"highlight-operation",args:[n,s]}),d.length){var b=d.reduce(((e,t)=>{var r=Xf(t);return e.left=Math.min(r.min.x,e.left),e.top=Math.min(r.min.y,e.top),e.right=Math.max(r.max.x,e.right),e.bottom=Math.max(r.max.y,e.bottom),e}),{left:1/0,top:1/0,right:-1/0,bottom:-1/0}),_=Math.max(b.right-b.left,b.bottom-b.top),w=(wf.lastTick-this._lastActionTick)/500,x=w<.5?(_+function(e,t,r){var n=Zg(r);return 40*n*(2-n)+0}(0,0,2*w))/_:(_+function(e,t,r){var n=Zg(r);return-40*n*n+40}(0,0,2*(w-.5)))/_,T={x:(b.left+b.right)/2,y:(b.top+b.bottom)/2};e.push({type:"highlight-flash-operation",args:[d,h,T,x]})}}afterDraw(e){this.isAnimating(wf.lastTick)&&this.requestRedraw()}}const tm=[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.fillStyle="#9AA8A9",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.save(),t.stack++,e.translate(7,7),e.save(),t.stack++,e.beginPath(),e.moveTo(6.777879,6.845484),e.bezierCurveTo(5.790032,7.833332,4.188142,7.833223,3.200156,6.845237),e.bezierCurveTo(2.21224,5.85732,2.21224,4.255678,3.200156,3.267761),e.bezierCurveTo(4.188224,2.279694,5.789619,2.279748,6.777632,3.267761),e.bezierCurveTo(7.765715,4.255844,7.765877,5.857486,6.777879,6.845484),e.lineTo(8.24994,8.317545),e.bezierCurveTo(10.051001,6.516484,10.050705,3.596713,8.249693,1.795701),e.bezierCurveTo(6.448705,-.005287,3.529182,-.005386,1.728095,1.795701),e.bezierCurveTo(-.072818,3.596614,-.072818,6.516385,1.728095,8.317298),e.bezierCurveTo(3.529034,10.118236,6.449051,10.118434,8.24994,8.317545),e.lineTo(6.777879,6.845484),e.lineTo(6.777879,6.845484),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.save(),t.stack++,e.fillStyle="rgba(154, 168, 169, 0.5)",e.beginPath(),e.moveTo(12,23),e.bezierCurveTo(18.075132,23,23,18.075132,23,12),e.bezierCurveTo(23,5.924868,18.075132,1,12,1),e.bezierCurveTo(5.924868,1,1,5.924868,1,12),e.bezierCurveTo(1,18.075132,5.924868,23,12,23),e.closePath(),e.moveTo(12,20.025024),e.bezierCurveTo(16.432099,20.025024,20.025024,16.432099,20.025024,12),e.bezierCurveTo(20.025024,7.567901,16.432099,3.974976,12,3.974976),e.bezierCurveTo(7.567901,3.974976,3.974976,7.567901,3.974976,12),e.bezierCurveTo(3.974976,16.432099,7.567901,20.025024,12,20.025024),e.closePath(),e.fill("evenodd"),e.stroke(),e.restore(),t.stack--,e.save(),t.stack++,e.fillStyle="#9AA8A9",e.beginPath(),e.moveTo(3.977469,12.202011),e.bezierCurveTo(3.880403,13.366651,2.944759,13.653612,2.481445,13.656799),e.bezierCurveTo(1.992432,13.660164,1,13.117421,1,12),e.bezierCurveTo(1,5.924868,5.924868,1,12,1),e.bezierCurveTo(18.075132,1,23,5.924868,23,12),e.bezierCurveTo(23,13.127857,22.037891,13.51123,21.543091,13.51123),e.bezierCurveTo(21.048291,13.511231,20.045776,13.203328,20.045776,12),e.bezierCurveTo(20.045776,11.948528,20.038295,11.898609,20.023654,11.850214),e.bezierCurveTo(19.943791,7.487233,16.382062,3.974976,12,3.974976),e.bezierCurveTo(7.567901,3.974976,3.974976,7.567901,3.974976,12),e.bezierCurveTo(3.974976,12.067535,3.97581,12.134875,3.977469,12.202011),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}];var rm={draw(e,t,r,n){var i=Qp();e.save(),e.translate(t,r),e.scale(i,i),e.rotate(n/230),e.translate(-12,-12),tm[0](e,{stack:0}),e.restore()}};class nm{static LINEAR(e,t,r,n){return r*e/n+t}static EASE_IN_OUT_CUBIC(e,t,r,n){return(e/=n/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t}static calc(e,t,r,n){return void 0===n&&(n=nm.LINEAR),n(e-t,0,1,r)}constructor(e,t,r){this.start=e,this.duration=t,this.options=Object.assign({easing:nm.LINEAR,clipStart:!0,clipEnd:!0,reverse:!1},r||{})}reset(e){return this.start=e,this}isRunning(e){return e>=this.start&&e<=this.start+this.duration}value(e){var t=nm.calc(e,this.start,this.duration,this.options.easing);return this.options.clipStart&&t<0?t=0:this.options.clipEnd&&t>1&&(t=1),this.options.reverse&&(t=1-t),t}}class im extends wf{_isHovered=!1;_hoverAnimation=new nm(Number.MAX_VALUE,100);_initialFlashAnimation=new nm(Number.MAX_VALUE,800);_toggleAnimation=new nm(Number.MAX_VALUE,100);_initialFlashTimeoutId=void 0;componentDidUpdate(e){this.props.arrivedAtSpreadTick&&!e.arrivedAtSpreadTick?this._initialFlashTimeoutId=setTimeout((()=>{this._initialFlashTimeoutId=void 0,this._initialFlashAnimation.reset(wf.lastTick),this.requestRedraw()}),1e3):!this.props.arrivedAtSpreadTick&&e.arrivedAtSpreadTick&&(clearTimeout(this._initialFlashTimeoutId),this._initialFlashTimeoutId=void 0),this.props.isToggledOn&&!e.isToggledOn&&(this._toggleAnimation.options.reverse=!1,this._toggleAnimation.reset(wf.lastTick)),!this.props.isToggledOn&&e.isToggledOn&&(this._toggleAnimation.options.reverse=!0,this._toggleAnimation.reset(wf.lastTick)),this.props.isToggledOn&&!e.isToggledOn&&this.props.arrivedAtSpreadTick&&this._trackOpportunity()}get displayName(){return"Link"}get model(){return this.props.model}get width(){return this.model.width}get height(){return this.model.height}get transform(){return this._transform||(this._transform=new bf,this._transform.mTranslate(this.model.x,this.model.y)),this._transform}get isVisible(){return!(!this.props.arrivedAtSpreadTick||!this.shouldRenderVideoThumb()&&!this.props.isToggledOn&&!this._isHovered&&!this.isAnimating())}onMouseEnter(e){this._hoverAnimation.reset(wf.lastTick),this._hoverAnimation.options.reverse=!1,this._isHovered=!0,this.props.showLinkToolTip(this),this.requestRedraw(),this.props.isToggledOn||this._trackOpportunity()}onMouseLeave(e){var{lastTick:t}=wf,r=this._hoverAnimation.value(t);this._hoverAnimation.reset(t-100*(1-r)),this._hoverAnimation.options.reverse=!0,this._isHovered=!1,this.props.hideLinkToolTip(),this.requestRedraw()}onSingleTap(e,t){return this._trackUsage(),this.props.dispatch((r=this.model,e=>{if(e({type:vu,linkModel:r}),"gotoPage"===r.type)e(function(e){var{gotoPageNumber:t}=e;return(e,r)=>{e(iu(rs(Ps(r()),t)))}}(r));else{if("openUrl"!==r.type)throw new Error("Unsupported link type");if("video"===r.urlType)e(function(e){var{url:t,videoId:r,videoService:n}=e;return function(e,t,r){return{type:su,service:e,videoId:t,videoUrl:r}}(n,r,t)}(r));else if("email"===r.urlType)window.open(r.url,"_top");else{if("shopping"!==r.urlType&&"url"!==r.urlType)throw new Error(`Unsupported urlType (${r.urlType})`);window.open(r.url,"_blank")}}})),!0;var r}isAnimating(){var{lastTick:e}=wf;return this._initialFlashAnimation.isRunning(e)||this._toggleAnimation.isRunning(e)||this._hoverAnimation.isRunning(e)}hoverOpacity(){var{lastTick:e}=wf;return this._hoverAnimation.isRunning(e)?this._hoverAnimation.value(e):this._isHovered?1:0}initialFlashOpacity(){if(this.parent&&this.parent.parent.getZoom()>1)return 0;var{lastTick:e}=wf;if(this._initialFlashAnimation.isRunning(e)){var t=this._initialFlashAnimation.value(e);return t<.2?t/.2:t<.5?1:1-2*(t-.5)}return 0}linkToggleOpacity(){var{lastTick:e}=wf;return this._toggleAnimation.isRunning(e)?this._toggleAnimation.value(e):this.props.isToggledOn?1:0}calculateOpacityForDrawing(){return this.shouldRenderVideoThumb()?0:Math.max(this.initialFlashOpacity(),this.linkToggleOpacity(),this.hoverOpacity())}shouldRenderVideoThumb(){return kf(this.model)}getCustomCursor(){return!!this._isHovered&&"pointer"}_trackOpportunity(){this.props.featureTracker.opportunity(Rl.PUBLICATION_LINK),If(this.model)&&this.props.featureTracker.opportunity(Rl.PUBLICATION_VIDEO_LINK)}_trackUsage(){this.props.featureTracker.usage(Rl.PUBLICATION_LINK),If(this.model)&&this.props.featureTracker.usage(Rl.PUBLICATION_VIDEO_LINK)}draw(e,t){e.save(),e.beginPath();var r=this.calculateOpacityForDrawing();e.rect(t.x+.5,t.y+.5,t.width-1,t.height-1),e.strokeStyle=`rgba(118, 165, 204, ${r})`,e.fillStyle=`rgba(118, 165, 204, ${.5*r})`,e.fill(),e.stroke();var n=20*Qp();t.width>50&&t.height>50&&(Mf(this.model)&&(e.globalAlpha=r,e.fillStyle="rgba(0, 0, 0, 0.7)",og.draw(e,t.x+t.width/2,t.y+t.height/2,n)),If(this.model)&&(e.globalAlpha=r,e.fillStyle="rgba(0, 0, 0, 0.7)",sg.draw(e,t.x+t.width/2,t.y+t.height/2,n))),e.restore()}appendWebglOps(e,t,r){var n=this.calculateOpacityForDrawing();n>0&&e.push({type:"link-operation",args:[this.model,n,{...t}]})}afterDraw(e){this.isAnimating()&&this.requestRedraw()}}class om extends wf{position={x:0,y:0,width:0,height:0};unzoomedWidthInHWPx=0;unzoomedHeightInHWPx=0;componentDidMount(){this.updateUnzoomedSizes()}componentDidUpdate(e){this.props.transform.isEqualWith(e.transform)||this.updateUnzoomedSizes()}updateUnzoomedSizes(){var e=this.transform.transformRect(wf.RectPool.get(0,0,this.width,this.height));this.unzoomedWidthInHWPx=Math.floor(e.width),this.unzoomedHeightInHWPx=Math.floor(e.height),wf.RectPool.release(e)}onDoubleTap=(e,t)=>this.props.onDoubleTap(e,t,this);get displayName(){return"Page"}get width(){return this.props.model.width}get height(){return this.props.model.height}get model(){return this.props.model}get pageType(){return this.props.pageType}get pageNumber(){return this.props.model.pageNumber}get transform(){return this.props.transform}shouldRenderVideoThumb(){return this.model.links.some((e=>kf(e)))}getChildrenToTraverse(){if(!this.props.mayRenderLinks){var e=super.getChildrenToTraverse();return e?e.filter((e=>!(e instanceof im))):[]}return super.getChildrenToTraverse()}getChildTree(e){return void 0===e&&(e=!1),[wf.createElement(em,{model:this.props.isPaywalled?null:this.model.textInfoPage,results:this.props.isPaywalled?[]:this.model.findResults,selectedResult:this.props.isPaywalled?null:this.model.selectedFindResult,renderManager:this.props.renderManager,pageType:this.pageType})].concat(this.model.links.map((e=>wf.createElement(im,{arrivedAtSpreadTick:this.props.mayRenderLinks?this.props.arrivedAtSpreadTick:0,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,hideLinkToolTip:this.props.hideLinkToolTip,isToggledOn:this.props.isLinksToggledOn,model:e,showLinkToolTip:this.props.showLinkToolTip}))))}getOperations(e,t,r){var n=qg(e,this.pageType),i=function(e,t,r){var n=Math.max(e.x,0),i=Math.min(e.x+e.width,t),o=Math.max(e.y,0),a=Math.min(e.y+e.height,r);return{x:Math.min(n,t),y:Math.min(o,r),width:Math.max(0,i-n),height:Math.max(0,a-o)}}(n,t,r);if(this.updatePagePosition(n),0===i.width||0===i.height)return{done:!0,ops:[]};var o=[n.width/this.props.model.width,0,0,n.height/this.props.model.height,Math.min(0,n.x),Math.min(0,n.y)];try{var a=this.props.renderManager.generateSurfaces(o,n,i,this.unzoomedWidthInHWPx,this.unzoomedHeightInHWPx,this.pageNumber,this.inAnimation,wf.lastTick);if(this.shouldRenderVideoThumb()){var s=this.props.renderManager.generateVideoThumbSurfaces(this.pageNumber,n,wf.lastTick);0!==a.ops.length&&(a.ops.push(...s.ops),a.done=a.done&&s.done)}return a}catch(e){var c={matrix:o,cappedWidth:i.width,cappedHeight:i.height,unzoomedWidthInHWPx:this.unzoomedWidthInHWPx,unzoomedHeightInHWPx:this.unzoomedHeightInHWPx,pageNumber:this.pageNumber,inAnimation:this.inAnimation};throw e.sentry_extra={...e.sentry_extra,renderOps:c},e}}draw(e,t){var r=qg(t,this.pageType),{ops:n,done:i}=this.getOperations(t,e.canvas.width,e.canvas.height);n.forEach((t=>{if(3===t.type)return e.fillStyle="black",void e.fillRect(t.dest_px.x+r.x,t.dest_px.y+r.y,t.dest_px.width,t.dest_px.height);if(!(t.src_px.width<=0||t.src_px.height<=0))try{e.drawImage(t.surface,t.src_px.x,t.src_px.y,t.src_px.width,t.src_px.height,t.dest_px.x+r.x,t.dest_px.y+r.y,t.dest_px.width,t.dest_px.height)}catch(e){var n={src_px:t.src_px,dest_px:t.dest_px,width:t.surface.width,height:t.surface.height};throw e.sentry_extra={...e.sentry_extra,renderImage:n},e}})),i||0!==n.length||(e.fillStyle="#f2f2f2",e.fillRect(t.x,t.y,t.width,t.height),rm.draw(e,t.x+t.width/2,t.y+t.height/2,wf.lastTick)),i||this.requestRedraw()}updatePagePosition(e){this.position.x=e.x,this.position.y=e.y,this.position.width=e.width,this.position.height=e.height}}class am extends wf{static _transform=new bf;static scroller=new zg(0,0,1,1,1,1,1);static _lastZoom=1;static _zoomBeforeStart=1;static _positionBeforeStart={top:0,left:0};_arrivedAtTick=0;componentWillUpdate(e){(!this.props.isCurrentSpread&&e.isCurrentSpread||this.props.isCurrentSpread&&0===this._arrivedAtTick)&&(this._arrivedAtTick=this.isAllPagesLoaded()&&e.isSnapped?wf.lastTick:0),e.isCurrentSpread||(this._arrivedAtTick=0)}get zOrder(){return this.props.isCurrentSpread?1:0}get displayName(){return"Spread"}get transform(){return am._transform.mSetMatrix(this.props.transform.matrix).mScale(am.scroller.zoom).mTranslate(-am.scroller.left,-am.scroller.top),am._transform}get inAnimation(){return!!am.scroller.isMoving||!!this.parent&&this.parent.inAnimation}componentDidMount(){this.props.isCurrentSpread&&(am.scroller.resize(am.scroller.top,am.scroller.left,am.scroller.zoom,this.width,this.height,this.width,this.height),am.scroller.setSnap(!0,this.spreadSnapFunction,!1))}componentDidUpdate(e){if(this.props.width!==e.width||this.props.height!==e.height){var t=this.getCenter(),r=am.scroller.zoom,n=t.x*this.width,i=t.y*this.height,o=n-this.width/am.scroller.zoom/2,a=i-this.height/am.scroller.zoom/2;am.scroller.resize(a,o,r,this.width,this.height,this.width,this.height)}this.props.isCurrentSpread&&!e.isCurrentSpread&&am.scroller.setSnap(!0,this.spreadSnapFunction,!1)}spreadSnapFunction=(e,t,r)=>{var n;if(!this.borders)throw new Error("borders should be defined");if(r>1){var i,o=this.width/r,a=this.height/r;i=this.borders.right-this.borders.left<o?this.borders.left-(o-(this.borders.right-this.borders.left))/2:Math.max(Math.min(t,this.borders.right-o),this.borders.left),n={top:this.borders.bottom-this.borders.top<a?this.borders.top-(a-(this.borders.bottom-this.borders.top))/2:Math.max(Math.min(e,this.borders.bottom-a),this.borders.top),left:i,zoom:r}}else n={top:0,left:0,zoom:1};return n};onGestureStart(e,t,r,n){return am.scroller.touchStart(e,t,n),am._zoomBeforeStart=am.scroller.zoom,am._positionBeforeStart={left:am.scroller.left,top:am.scroller.top},am.scroller.zoom>1}onGestureChange(e,t,r,n,i,o){return 1===am.scroller.zoom&&"ZOOM_IN"===o||am.scroller.zoom>1?(am.scroller.touchMove(e,t,n,i),this.requestRedraw(),!0):("ZOOM_OUT"===o&&1===am.scroller.zoom&&i<1&&this.props.isFlatPlanEnabled&&(am.scroller.isMoving||am.scroller.isAnimating||am.scroller.isDragging||this.props.dispatch(Cu(!0))),!1)}onGestureEnd(e){return am.scroller.touchEnd(e,wf.lastTick),am.scroller.isMoving&&this.requestRedraw(),am.scroller.zoom!==am._zoomBeforeStart&&this.props.featureTracker.usage(Rl.GESTURE_PINCH_ZOOM),am.scroller.zoom>1}onPageDoubleTap=(e,t,r)=>{var{smartnavAsset:n}=this.props;if(am.scroller.zoom>1||!n)return!1;var[i,o]=r.getViewportCTM().inverse().transformPoint(e,t),a=Qp(),s=7*r.getViewportCTM().matrix[0]/a,c=function(e,t,r,n,i){uo("getPositionForPoint: ========================================================");var o=e.find((e=>e.pageNumber===n));if(o){uo("getPositionForPoint: screenConfig=",t,", pagePoint=",i,", pageWidth=",o.width,", pageHeight=",o.height);var a=o.blocks.findIndex((e=>((e,t)=>{var{boundingBox:r,type:n}=t;return"text"===n&&((e,t)=>{var{x:r,y:n}=e,{top:i,right:o,bottom:a,left:s}=t;return r>=s&&r<=o&&n>=i&&n<=a})(e,r)})(i,e)));if(-1===a)return uo("getPositionForPoint: Could not find a valid block"),null;uo("getPositionForPoint: Point is within a valid block");var s=((e,t)=>{var r=t({x:0,y:0});return{zoom:(t({x:e.width,y:e.height}).x-r.x)/e.width,offsetX:r.x,offsetY:r.y}})(o,r);uo("getPositionForPoint: oldTransform=",s);var c=((e,t,r,n,i)=>{var o=e.blocks[i];if("text"!==o.type)return null;var a=o.boundingBox,s=ao(t,a.left,a.right),c=o.fontSize*s;if(uo("computeNewTransform: bbox=",a,", zoom=",s),uo("computeNewTransform: blockIdx=",i,", fontSize=",o.fontSize,", effectiveFontSize=",c),c<t.minEffectiveFontSize){uo("computeNewTransform: effectiveFontSize < minEffectiveFontSize");var u=Math.min(t.maxZoom,t.minEffectiveFontSize/o.fontSize);return{zoom:u,offsetX:r.zoom*n.x-u*n.x+r.offsetX,offsetY:oo(t,r,u,n.y,a.top)}}if(c>t.maxEffectiveFontSize||s>t.maxZoom){uo("computeNewTransform: effectiveFontSize > screenConfig.maxEffectiveFontSize || zoom > screenConfig.maxZoom");var l=ho(t,n,r,s,i,o,e.blocks),d=o.fontSize*l.zoom;if(uo("computeNewTransform: newEffectiveFontSize=",d,", expansion=",l),d>t.maxEffectiveFontSize||l.zoom>t.maxZoom){uo("computeNewTransform: block expansion did not succeed");var h=Math.min(t.maxZoom,t.maxEffectiveFontSize/o.fontSize),p=(a.right+a.left)/2;return{zoom:h,offsetX:t.width/2-p*h,offsetY:oo(t,r,h,n.y,a.top)}}return uo("computeNewTransform: block expansion succeeded"),co(t,n,r,l.zoom,l.left,a.top)}uo("computeNewTransform: block width is in the Goldilocks zone");var f=ho(t,n,r,s,i,o,e.blocks);return co(t,n,r,f.zoom,f.left,a.top)})(o,t,s,i,a);uo("getPositionForPoint: newTransform=",c);var u=c?so(t,c):null;uo("getPositionForPoint: viewport=",u);var l=u?((e,t)=>{var{top:r,right:n,bottom:i,left:o}=t,a=n>e.width?e.width-n:o<0?-o:0,s=i>e.height?e.height-i:r<0?-r:0;return{top:r+s,right:n+a,bottom:i+s,left:o+a}})(o,u):null;if(uo("getPositionForPoint: confinedViewport=",l),l){var{top:d,left:h,right:p}=l;return{pageNumber:o.pageNumber,semiBox:{top:d,left:h,right:p}}}return null}return null}(n,{width:this.props.viewportWidth/a,height:this.props.viewportHeight/a,minEffectiveFontSize:6,maxEffectiveFontSize:100,maxZoom:s,verticalSnapThreshold:0,padding:{top:36,right:36,bottom:36,left:36}},(e=>{var{x:t,y:n}=e,i=(new bf).mScale(1/a),[o,s]=i.multiply(r.getViewportCTM()).transformPoint(t,n);return{x:o,y:s}}),r.props.model.pageNumber,{x:i,y:o});if(c){this.props.dispatch(al());var[u,l]=r.transform.transformPoint(c.semiBox.left,c.semiBox.top),[d]=r.transform.transformPoint(c.semiBox.right,c.semiBox.top),{xMargin:h,yMargin:p,viewportWidth:f}=this.props,g=f/(d-u),{lastTick:m}=wf;return am.scroller.scrollTo(l+p/g,u+h/g,g,m).then((()=>{this.props.dispatch(sl())})),this.requestRedraw(),!0}return!1};onDoubleTap(e,t){this.props.dispatch(al());var{lastTick:r}=wf;if(am.scroller.zoom>1)am.scroller.scrollTo(0,0,1,r).then((()=>{this.props.dispatch(sl())}));else{this.props.featureTracker.usage(Rl.DOUBLE_TAP_ZOOM);var n=this.getViewportCTM().inverse().transformPoint(e,t),i=n[0]-am.scroller.width/4,o=n[1]-am.scroller.height/4;am.scroller.scrollTo(o,i,2,r).then((()=>{this.props.dispatch(sl())}))}return this.requestRedraw(),!0}get unzoomedBBox(){return this.props.transform.transformRect(wf.RectPool.get(0,0,this.width,this.height))}setZoom(e,t){void 0===t&&(t=!0);var r=am.scroller.top+am.scroller.height/am.scroller.zoom/2,n=am.scroller.left+am.scroller.width/am.scroller.zoom/2,i=r-am.scroller.height/e/2,o=n-am.scroller.width/e/2;t?am.scroller.scrollTo(i,o,e,wf.lastTick):am.scroller.jumpTo(i,o,e),this.requestRedraw()}getZoom(){return am.scroller.zoom}getCenter(){var e=am.scroller.left+am.scroller.width/am.scroller.zoom/2,t=am.scroller.top+am.scroller.height/am.scroller.zoom/2;return{x:e/am.scroller.width,y:t/am.scroller.height}}setCenter(e){var t=e.y-this.height/am.scroller.zoom/2,r=e.x-this.width/am.scroller.zoom/2,n=am.scroller.zoom,i=am.scroller.snapFunction(t,r,n);am.scroller.top=i.top,am.scroller.left=i.left}isAllPagesLoaded(){for(var e of this.props.pageModels)if(!this.props.renderManager.isPageReady(e.pageNumber))return!1;return!0}getChildTree(e){void 0===e&&(e=!1);var t,r,n,i,o=this.props.pageModels,a=this.props.width,s=this.props.height,c=o.map((e=>e.width)).reduce(((e,t)=>e+t),0),u=Math.max(...o.map((e=>e.height))),l=(n=a)/(t=1===o.length&&"DOUBLE_PAGE_SPREAD"===this.props.readMode?o[0].width:c)<=(i=s)/(r=u)?n/t:i/r,d=s/l,h=(a/l-c)/2,p=(d-u)/2;this.borders={top:p*l,right:a-h*l,bottom:s-p*l,left:h*l};var f=h,g=(d-o[0].height)/2,m=(new bf).mScale(l).mTranslate(f,g),v=wf.createElement(om,{arrivedAtSpreadTick:this._arrivedAtTick,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,hideLinkToolTip:this.props.hideLinkToolTip,isLinksToggledOn:this.props.isLinksToggledOn,isPaywalled:this.props.paywalledPageStatus[0],mayRenderLinks:this.props.mayRenderLinks,model:o[0],pageType:0,showLinkToolTip:this.props.showLinkToolTip,transform:m,renderManager:this.props.renderManager,onDoubleTap:this.onPageDoubleTap});if(2===o.length){f=h+o[0].width,g=(d-o[1].height)/2;var y=(new bf).mScale(l).mTranslate(f,g);return[v,wf.createElement(om,{arrivedAtSpreadTick:this._arrivedAtTick,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,hideLinkToolTip:this.props.hideLinkToolTip,isLinksToggledOn:this.props.isLinksToggledOn,isPaywalled:this.props.paywalledPageStatus[1],mayRenderLinks:this.props.mayRenderLinks,model:o[1],pageType:1,showLinkToolTip:this.props.showLinkToolTip,transform:y,renderManager:this.props.renderManager,onDoubleTap:this.onPageDoubleTap})]}return[v]}afterDraw(e){var t,r,n=am.scroller.isAnimating||am.scroller.isDragging||am.scroller.isMoving;am.scroller.update(wf.lastTick),(am.scroller.isAnimating||am.scroller.isDragging||am.scroller.isMoving||n)&&this.requestRedraw(),this.props.isCurrentSpread&&!this._arrivedAtTick&&this.isAllPagesLoaded()&&this.forceUpdate(),am._lastZoom!==am.scroller.zoom&&(am._lastZoom=am.scroller.zoom,this.props.dispatch((t=am.scroller.zoom,r=am.scroller.isDragging,{type:Jc,isPinching:r,zoomLevel:t})))}}class sm extends wf{_lastCenterSpreadIndex=-1;_isSnapped=!0;_scrollerMovedLastFrame=!1;_lastVisiblePages="";_lastPositionInPercent=0;_spreadIndexBeforeGestureStart=0;constructor(e,t){super(e,t),this.scroller=new zg(0,0,1,this.props.viewportWidth,this.props.viewportHeight,this.width,this.height)}get width(){var e=this.children?this.children.length:0;return this.props.viewportWidth*e-this.xMargin*(e-1)}get height(){return this.props.viewportHeight}get transform(){return this._transform||(this._transform=new bf),this._transform.mReset().mTranslate(-this.scroller.left,-this.scroller.top),this._transform}get inAnimation(){return!!this.scroller.isMoving||super.inAnimation}componentDidMount(){this.scroller.resize(0,0,1,this.props.viewportWidth,this.props.viewportHeight,this.width,this.height),this.scroller.setSnap(!0,this.snapFunction,!1);var e=this.clampChildrenIndex(this.props.currentSpreadIndex),t=this.children[e].unzoomedBBox;this.scroller.jumpTo(0,t.x-this.xMargin,1),wf.RectPool.release(t),this.props.featureTracker.opportunity(Rl.DOUBLE_TAP_ZOOM),this.props.featureTracker.opportunity(Rl.GESTURE_PINCH_ZOOM),this.props.canChangePages&&this.props.featureTracker.opportunity(Rl.GESTURE_DRAG_PAGES)}componentDidUpdate(e){if(this.props.viewportWidth!==e.viewportWidth||this.props.viewportHeight!==e.viewportHeight){var t=this.children[this.props.currentSpreadIndex].unzoomedBBox,r=t.x-this.xMargin;this.scroller.resize(0,r,1,this.props.viewportWidth,this.props.viewportHeight,this.width,this.height),wf.RectPool.release(t)}}getChildrenToTraverse(){var e=this.getSpreadIndexAt(this.scroller.left),t=this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth-1);return this.children.slice(Math.max(e,0),Math.min(t,this.children.length-1)+1)}clampChildrenIndex(e){return Math.max(Math.min(e,this.children.length-1),0)}snapFunction=(e,t)=>{var r=this.clampChildrenIndex(this.getSpreadIndexAt(t+this.props.viewportWidth/2)),n=this.children[r];if(!n)return{left:t,top:0,zoom:1};var i=n.unzoomedBBox,o=i.x-this.xMargin;return wf.RectPool.release(i),{left:o,top:0,zoom:1}};onGestureStart(e,t,r,n){return this._spreadIndexBeforeGestureStart=this.props.currentSpreadIndex,this.scroller.touchStart(e,t,n),1===r.length}onGestureChange(e,t,r,n,i,o){return("SWIPE_LEFT"===o||"SWIPE_RIGHT"===o)&&1===r.length&&(this.scroller.touchMove(e,t,n,i),this.requestRedraw(),!0)}onGestureEnd(e){return this.scroller.touchEnd(e,wf.lastTick),this.props.currentSpreadIndex!==this._spreadIndexBeforeGestureStart&&this.props.featureTracker.usage(Rl.GESTURE_DRAG_PAGES),this.scroller.isMoving&&this.requestRedraw(),!0}onSingleTapConfirmed(e,t,r){var n=this.getCurrentSpread(),i=n.children[0].viewportBBox;if(n.children.length>1){var o=n.children[1].viewportBBox;i.width+=o.width,i.height=Math.max(i.height,o.height),i.y=Math.min(i.y,o.y)}if(t>i.y&&t<i.y+i.height){var a=this.children.indexOf(n);if(e<i.x)return this.goToSpread(a-1),!0;if(e>i.x+i.width)return this.goToSpread(a+1),!0}return!1}getCurrentSpreadIndex(){return this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth/2)}getCurrentSpread(){return this.children[this.getCurrentSpreadIndex()]}getVisiblePageNumbers(){for(var e=[],t=Math.max(this.getSpreadIndexAt(this.scroller.left),0),r=this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth-1),n=wf.RectPool.get(0,0,this.props.viewportWidth,this.props.viewportHeight),i=t;i<=r;i++){var o=this.children[i];for(var a of o.children){var s=a.viewportBBox;cf(n,s)&&e.push(a.model.pageNumber),wf.RectPool.release(s)}}return wf.RectPool.release(n),e}setSnapping(e){this.scroller.setSnap(e,null,!0,wf.lastTick),this.requestRedraw()}jumpToPositionByPercent(e){this.getCurrentSpread().setZoom(1),this.scroller.jumpTo(0,e*(this.width-this.props.viewportWidth)/100),this.requestRedraw()}goToSpread(e){if(this.getCurrentSpreadIndex()!==e){this.getCurrentSpread().setZoom(1);var t=this.clampChildrenIndex(e),r=this.children[t].unzoomedBBox;this.scroller.scrollTo(0,r.x-this.xMargin,1,wf.lastTick),wf.RectPool.release(r),this.requestRedraw()}}jumpToSpread(e){if(this.getCurrentSpreadIndex()!==e){this.getCurrentSpread().setZoom(1);var t=this.clampChildrenIndex(e),r=this.children[t].unzoomedBBox;this.scroller.jumpTo(0,r.x-this.xMargin,1),wf.RectPool.release(r),this.requestRedraw()}}getSpreadIndexAt(e){var t=Math.floor((e-this.xMargin)/(this.props.viewportWidth-this.xMargin));return Math.min(Math.max(t,0),this.children.length-1)}get xMargin(){return Wg(this.props.allowUIToOverlayCover,this.props.viewportWidth)}getChildTree(e){return void 0===e&&(e=!1),this.props.documentPageSpreadList.map(((e,t)=>{var{xMargin:r}=this,{viewportWidth:n,viewportHeight:i,allowUIToOverlayCover:o,isSlimDesign:a}=this.props,s=Hg(n),c=$g(o,a,n),u=(n-r)*t+r,l=new bf;return l.mTranslate(u,s),wf.createElement(am,{dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,height:i-s-c,hideLinkToolTip:this.props.hideLinkToolTip,isCurrentSpread:t===this.props.currentSpreadIndex,isLinksToggledOn:this.props.isLinksToggledOn,isFlatPlanEnabled:this.props.isFlatPlanEnabled,isSnapped:this._isSnapped,mayRenderLinks:this.props.mayRenderLinks,pageModels:e.pages,paywalledPageStatus:e.pages.map((e=>this.props.paywalledPageNumbers.includes(e.pageNumber))),readMode:this.props.readMode,showLinkToolTip:this.props.showLinkToolTip,transform:l,width:n-2*r,renderManager:this.props.renderManager,smartnavAsset:this.props.smartnavAsset,xMargin:r,yMargin:s,viewportWidth:n,viewportHeight:i})}))}afterDraw(e){var t=this.scroller.isDragging||this.scroller.isAnimating||this.scroller.isMoving;this.scroller.update(wf.lastTick);var r=this.scroller.isDragging||this.scroller.isAnimating||this.scroller.isMoving;(r||t)&&(this._isSnapped?(this._isSnapped=!1,this.forceUpdate()):this.requestRedraw()),r||!this.scroller.isSnapped()||this._isSnapped?this._isSnapped||this.requestRedraw():(this._isSnapped=!0,this.forceUpdate()),!this._scrollerMovedLastFrame&&r?this.props.onAnimationStart():this._scrollerMovedLastFrame&&!r&&this.props.onAnimationEnd(),this._scrollerMovedLastFrame=r;var n=this.getCurrentSpreadIndex();n!==this.props.currentSpreadIndex&&this.props.onSpreadChange(n);var i=this.getVisiblePageNumbers(),o=i.join()!==this._lastVisiblePages;this._lastVisiblePages=i.join();var a=-1===this._lastCenterSpreadIndex,s=this._lastCenterSpreadIndex!==n&&!a,c=this.children[n].children.map((e=>e.model.pageNumber)),u=this.props.currentPageNumber;if(s)u=c[0];else if(!i.includes(u)){var l=i.find((e=>c.includes(e)));"number"==typeof l&&(u=l)}this._lastCenterSpreadIndex=n;var d=this.scroller.getHorizontalPositionInPercent(),h=d!==this._lastPositionInPercent;this._lastPositionInPercent=d;var p=this.scroller.isDragging;if((h||s||o)&&this.props.dispatch(ha(i,n,u,c,d,h,s,o,p)),s||a){var f=Array.from(new Set([...i,...c]));this.props.renderManager.setActivePages(f,this.props.readMode)}}}function cm(e){return!!(window.WebGLRenderingContext&&e instanceof WebGLRenderingContext)||!(!e||!e.hasOwnProperty("drawingBufferWidth"))}function um(e){var t={failIfMajorPerformanceCaveat:!0,stencil:!0};try{var r=e.getContext("webgl",t);if(r)return r}catch(e){}try{var n=e.getContext("experimental-webgl",t);if(n)return n}catch(e){}return null}var lm="Inter,'Inter-Regular',sans-serif",dm="#4c4c4c";class hm extends wf{_renderedText="";_textWidth=0;_texture=null;constructor(e,t){super(e,t);var r=this.root.props.ctx;cm(r)&&(this.gl=r,this.initializeTexture())}componentWillUnmount(){this.gl&&this._texture&&this.gl.deleteTexture(this._texture)}get displayName(){return"LinkTooltip"}get width(){return this.props.link?this.props.link.width:0}get height(){return this.props.link?20:0}get isVisible(){return this.props.link&&this.props.link.isVisible}get model(){return this.props.link.model}get text(){return"gotoPage"===this.model.type?`Navigate to page ${this.model.gotoPageNumber}`:"openUrl"===this.model.type?`${this.model.url}`:""}initializeTexture(){if(this.gl){var e=this.gl;this._texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}}drawRoundRect(e,t,r,n,i,o){e.beginPath(),e.moveTo(t+o,r),e.lineTo(t+n-o,r),e.quadraticCurveTo(t+n,r,t+n,r+o),e.lineTo(t+n,r+i-o),e.quadraticCurveTo(t+n,r+i,t+n-o,r+i),e.lineTo(t+o,r+i),e.quadraticCurveTo(t,r+i,t,r+i-o),e.lineTo(t,r+o),e.quadraticCurveTo(t,r,t+o,r),e.closePath(),e.fill(),e.stroke()}updateOffscreenCanvases(){var e=this._alphaCanvas||document.createElement("canvas"),t=e.getContext("2d",{alpha:!1});t.font=`12px ${lm}`;var r=Math.ceil(t.measureText(this.text).width+12),n=Qp(),i=r*n,o=20*n,a=4*n,s=3.5*n;e.width=i,e.height=o,t.fillStyle=dm,t.strokeStyle=dm,t.clearRect(0,0,i,o),this.drawRoundRect(t,0,0,i,o,a),t.fillStyle="#ffffff",t.textBaseline="alphabetic",t.textAlign="center",t.font=`${12*n}px ${lm}`,t.fillText(this.text,i/2,o/2+s),this._textWidth=r,this._renderedText=this.text,this._alphaCanvas=e}updateTexture(){if(this.gl&&this._alphaCanvas){var{gl:e,_alphaCanvas:t}=this;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.bindTexture(e.TEXTURE_2D,this._texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t)}}getBBoxCoordinates(){var e=Qp(),t=this._textWidth*e,r=20*e,n=15*e,i=this.props.link.viewportBBox,o=this.root.viewportBBox,a=Math.min(Math.min(1,o.width/t,Math.min(1,o.height/r))),s=t*a,c=r*a,u=n*a,l=Math.max(i.x+i.width/2-s/2,0),d=Math.max(i.y+i.height+(u-c/2),0);return l+s>o.width&&(l-=l+s-o.width),d+c>o.height&&(d-=d+c-o.height),{x:l,y:d,width:s,height:c}}appendWebglOps(e,t,r){this._renderedText!==this.text&&(this.updateOffscreenCanvases(),this.updateTexture());var n=this.getBBoxCoordinates();e.push({type:"tooltip-operation",args:[this._texture,n,{x:0,y:0,width:1,height:1}]})}draw(e,t){this._renderedText!==this.text&&this.updateOffscreenCanvases();var{x:r,y:n,width:i,height:o}=this.getBBoxCoordinates();this._alphaCanvas&&e.drawImage(this._alphaCanvas,r,n,i,o)}}function pm(e){var t=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);e.x/=t,e.y/=t,e.z/=t}function fm(e,t,r,n,i,o,a){a.x+=o*t-i*r,a.y+=n*r-o*e,a.z+=i*e-n*t}function gm(e,t,r,n,i){e<r-1&&i.push(n[t+0+3*r]-n[t+0],n[t+1+3*r]-n[t+1],n[t+2+3*r]-n[t+2])}function mm(e,t,r,n,i){e>0&&i.push(n[t+0-3*r]-n[t+0],n[t+1-3*r]-n[t+1],n[t+2-3*r]-n[t+2])}function vm(e,t,r,n,i){e>0&&i.push(n[t+0-3]-n[t+0],n[t+1-3]-n[t+1],n[t+2-3]-n[t+2])}function ym(e,t,r,n,i){e<r-1&&i.push(n[t+0+3]-n[t+0],n[t+1+3]-n[t+1],n[t+2+3]-n[t+2])}function bm(e,t,r,n,i,o,a){t===n-1?(vm(e,r,0,i,o),mm(t,r,n,i,o),ym(e,r,n,i,o)):0===e?(mm(t,r,n,i,o),ym(e,r,n,i,o),gm(t,r,n,i,o)):0===t?(ym(e,r,n,i,o),gm(t,r,n,i,o),vm(e,r,0,i,o)):e===n-1?(gm(t,r,n,i,o),vm(e,r,0,i,o),mm(t,r,n,i,o)):(gm(t,r,n,i,o),vm(e,r,0,i,o),mm(t,r,n,i,o),ym(e,r,n,i,o));for(var s=o.length/3,c=0;c<s-1;c++)fm(o[3*c+0],o[3*c+1],o[3*c+2],o[3*(c+1)+0],o[3*(c+1)+1],o[3*(c+1)+2],a)}var _m={x:0,y:0,z:0},wm=[],xm={x:0,y:0,z:0},Tm={x:0,y:0,z:0};function Sm(e){return t=Zg(e),(1*Math.pow(2,10*(t-1))+0)*Math.PI;var t}function Em(e){return Xg(.5,.082,e)*Math.PI}function Im(e){var t=.98;return(e=Math.max(Math.min(e,1),0))<t?-6.8*Math.pow(e/t,20)-1.3:-391.9*Math.pow((e-t)/(1-t),6)-8.1}class km{_point={x:0,y:0,z:0};constructor(e,t){void 0===t&&(t=0),this.minDepth=t;for(var r=[],n=[],i=[],o=[],a=[],s=[],c=[],u=[],l=0;l<e;l++)for(var d=l/(e-1),h=0;h<e;h++){var p=h/(e-1),f=this._tweakDepth(0);r.push(p,d,f),n.push(0,0,1),o.push(this._getPerspectiveCorrection(f)),a.push(p,d),s.push(0,0,-1),u.push(1-p,d)}for(var g=0;g<e-1;g++)for(var m=(g+0)*e,v=(g+1)*e,y=0;y<e-1;y++){var b=m+y,_=v+y;i.push(_,b,_+1),i.push(b,b+1,_+1),c.push(_+1,b+1,_),c.push(b+1,b,_)}this.size=e,this.indices=new Uint16Array(i),this.vertices=new Float32Array(r),this.normals=new Float32Array(n),this.perspectiveCorrections=new Float32Array(o),this.textureCoords=new Float32Array(a),this.backFacingIndices=new Uint16Array(c),this.backFacingNormals=new Float32Array(s),this.backFacingTextureCoords=new Float32Array(u)}_tweakDepth(e){return.8*Math.max(e,this.minDepth)}_getPerspectiveCorrection(e){return 1+e/.8*-.2}_bendPoint(e,t,r,n,i,o){(function(e,t,r,n){xm.x=e.x,xm.y=e.y,xm.z=e.z,Tm.x=e.x,Tm.y=e.y,Tm.z=e.z;var i=xm,o=Tm;n>0&&(i.y=1-i.y),function(e,t,r){var n=Math.sin(t),i=Math.cos(t),o=e.y-r,a=Math.sqrt(e.x*e.x+o*o),s=Math.asin(e.x/a)/n,c=a*n,u=Math.sin(s),l=Math.cos(s);e.x=c*u,e.y=a+r-c*(1-l)*n,e.z=c*(1-l)*i}(i,t,r),n>0&&(i.y=1-i.y),function(e,t,r){var n=Math.sqrt(1+(1-r)*(1-r))*Math.sin(t),i=e.x/n;e.x=n*Math.sin(i),e.z=n-n*Math.cos(i)}(o,t,r);var a=Math.abs(n);e.x=a*i.x+(1-a)*o.x,e.y=a*i.y+(1-a)*o.y,e.z=a*i.z+(1-a)*o.z})(e,t,r,i),function(e,t){var r=Math.sin(t),n=Math.cos(t),i=e.x*n-e.z*r,o=e.x*r+e.z*n;e.x=i,e.z=o}(e,n),e.x*=o?-1:1,e.z=this._tweakDepth(e.z)}bend(e,t){for(var r=1/e<0,n=Math.abs(e),i=Sm(n),o=Em(n),a=Im(n),s=this._point,c=0;c<this.size;c++)for(var u=0;u<this.size;u++){s.x=u/(this.size-1),s.y=c/(this.size-1),s.z=0,this._bendPoint(s,o,a,i,t,r);var l=c*this.size*3+3*u;this.vertices[l+0]=s.x,this.vertices[l+1]=s.y,this.vertices[l+2]=s.z,this.perspectiveCorrections[c*this.size+u]=this._getPerspectiveCorrection(s.z)}!function(e,t,r,n){for(var i=_m,o=wm,a=0;a<e;a++)for(var s=0;s<e;s++){i.x=0,i.y=0,i.z=0,o.length=0;var c=a*e*3+3*s;bm(s,a,c,e,t,o,i),pm(i),r[c+0]=i.x,r[c+1]=i.y,r[c+2]=i.z,n[c+0]=-i.x,n[c+1]=-i.y,n[c+2]=-i.z}}(this.size,this.vertices,this.normals,this.backFacingNormals)}calculateProgress(e,t,r,n,i){var o=e<t;if(o){if(r<=e)return-0;if(r>=t)return-1}else{if(r>=e)return 0;if(r<=t)return 1}for(var a=this._point,s=o?-.5:.5,c=0;c<16;c++){var u=Math.abs(s),l=Sm(u),d=Em(u),h=Im(u);a.x=1,a.y=(i+1)/2,a.z=0,this._bendPoint(a,d,h,l,i,o);var p=a.x/this._getPerspectiveCorrection(a.z),f=n.x+n.width*p;if(Math.abs(f-r)<1)break;s+=Math.sign(f-r)/Math.pow(2,c+2)}return Math.max(Math.min(s,1),-1)}}var Mm=1e-4;function Am(e){return"SINGLE_PAGE_SPREAD"===e?200:400}function Nm(e){var t=Math.abs(e);return t<.1?Xg(0,1,10*t):t>.9?Xg(0,1,10*(1-t)):1}class Om extends wf{_gesture={startX:0,startY:0,endX:0,endY:0,velocity:0,timeStamp:0};_bendingMesh=new km(25,.001);_flatMesh=new km(2,0);_isSnapped=!0;_wasAnimatingLastFrame=!1;_lastSpreadIndex=-1;_lastPositionInPercent=0;_lastVisiblePages="";_pendingTargetSpreadIndex=NaN;_lightRatioEasing=Nm;_progressEasing=e=>this.animation.value(e);_justStartedAnimation=!1;constructor(e,t){super(e,t),this._targetSpreadIndex=this.props.currentSpreadIndex,this.animation=new nm(Number.MAX_VALUE,Am(this.props.readMode),{easing:nm.EASE_IN_OUT_CUBIC})}componentDidMount(){this.props.featureTracker.opportunity(Rl.DOUBLE_TAP_ZOOM),this.props.featureTracker.opportunity(Rl.GESTURE_PINCH_ZOOM),this.props.canChangePages&&this.props.featureTracker.opportunity(Rl.GESTURE_DRAG_PAGES)}get width(){return this.props.viewportWidth}get height(){return this.props.viewportHeight}onGestureStart(e,t,r,n){return!this.props.disableGestures&&(this.animation.isRunning(wf.lastTick)&&this.jumpToSpread(this._targetSpreadIndex),this._gesture={startX:e,startY:t,endX:e,endY:t,velocity:0,timeStamp:n},!0)}onGestureChange(e,t,r,n,i,o){if(this.props.disableGestures)return!1;if(("SWIPE_LEFT"===o||"SWIPE_RIGHT"===o)&&1===r.length){var a=-(e-this._gesture.endX)/Math.max(1,n-this._gesture.timeStamp)*.6+.4*this._gesture.velocity;this._gesture.endX=e,this._gesture.endY=t,this._gesture.timeStamp=n,this._gesture.velocity=a;var s=this.getCurrentSpreadIndex(),c=this._getValidSpreadIndex(s+("SWIPE_LEFT"===o?1:-1));return s!==c&&this._tweakAnimation({duration:Number.MAX_VALUE,targetSpreadIndex:c}),!0}return!1}onGestureEnd(e){if(this.props.disableGestures)return!1;if(this._isDraggingManually()){var t=this._getPageSetupForFlip(this.getCurrentSpreadIndex(),this._targetSpreadIndex),r=this._getProgressBasedOnFingerPosition(t.start.edge,t.end.edge),n=this._targetSpreadIndex>this.getCurrentSpreadIndex()?this._gesture.velocity>0:this._gesture.velocity<0,i=Math.abs(this._gesture.velocity),o=n&&(r>.6||i>.36),a=Am(this.props.readMode)*(.95-Math.atan(i)/Math.PI);return this._tweakAnimation({duration:a,startTime:wf.lastTick-a*(o?r:1-r),reverse:!o}),o&&this.props.featureTracker.usage(Rl.GESTURE_DRAG_PAGES),!0}return!1}onSingleTapConfirmed(e,t,r){var n=this.getCurrentSpread(),i=n.children[0].viewportBBox;if(n.children.length>1){var o=n.children[1].viewportBBox;i.width+=o.width,i.height=Math.max(i.height,o.height),i.y=Math.min(i.y,o.y)}if(t>i.y&&t<i.y+i.height){var a=this.children.indexOf(n);if(e<i.x)return this.props.disableGestures?this.jumpToSpread(Math.max(a-1,0)):this.goToSpread(Math.max(a-1,0)),!0;if(e>i.x+i.width)return this.props.disableGestures?this.jumpToSpread(Math.min(a+1,this.children.length-1)):this.goToSpread(Math.min(a+1,this.children.length-1)),!0}return!1}getCurrentSpreadIndex(){return this.props.currentSpreadIndex}getCurrentSpread(){return this.children[this.getCurrentSpreadIndex()]}getVisiblePageNumbers(){var e=[];if(this.getCurrentSpreadIndex()!==this._targetSpreadIndex){var t=Math.min(this.getCurrentSpreadIndex(),this._targetSpreadIndex),r=Math.max(this.getCurrentSpreadIndex(),this._targetSpreadIndex);e.push(...this.children[t].children.map((e=>e.model.pageNumber))),e.push(...this.children[r].children.map((e=>e.model.pageNumber)))}else{var n=wf.RectPool.get(0,0,this.props.viewportWidth,this.props.viewportHeight),i=this.getCurrentSpread();for(var o of i.children){var a=o.viewportBBox;cf(n,a)&&e.push(o.model.pageNumber),wf.RectPool.release(a)}wf.RectPool.release(n)}return e}setSnapping(e){}jumpToPositionByPercent(e){this.getCurrentSpread().setZoom(1),this.jumpToSpread(Math.round(e/100*(this.children.length-1)))}goToSpread(e){var{lastTick:t}=wf;this.animation.isRunning(t)?this._pendingTargetSpreadIndex=e:this._animateToSpread(e,t,Am(this.props.readMode))}jumpToSpread(e){this._animateToSpread(e,wf.lastTick,0)}_getValidSpreadIndex(e){return Math.max(0,Math.min(this.children.length-1,e))}_animateToSpread(e,t,r){this._targetSpreadIndex=this._getValidSpreadIndex(e),this.getCurrentSpreadIndex()!==this._targetSpreadIndex&&(this.getCurrentSpread().setZoom(1),this._tweakAnimation({startTime:t,duration:r}))}_tweakAnimation(e){void 0===e&&(e={}),this.animation.duration="number"==typeof e.duration?e.duration:Am(this.props.readMode),this._targetSpreadIndex=this._getValidSpreadIndex("number"==typeof e.targetSpreadIndex?e.targetSpreadIndex:this._targetSpreadIndex),this.animation.reset(e.startTime||0),this.animation.options.reverse=!!e.reverse,this._justStartedAnimation=!0,this.requestRedraw()}getChildrenToTraverse(){var e=this.getCurrentSpreadIndex();return this.children.slice(e,e+1)}getChildTree(e){void 0===e&&(e=!1);var t=this.props.viewportWidth,r=this.props.viewportHeight,n=this.props.allowUIToOverlayCover,i=this.props.isSlimDesign,o=Wg(n,t),a=Hg(t),s=$g(n,i,t),c=new bf;return c.mTranslate(o,a),this.props.documentPageSpreadList.map(((e,n)=>wf.createElement(am,{dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,height:r-a-s,hideLinkToolTip:this.props.hideLinkToolTip,isCurrentSpread:n===this.props.currentSpreadIndex,isLinksToggledOn:this.props.isLinksToggledOn,isFlatPlanEnabled:this.props.isFlatPlanEnabled,isSnapped:this._isSnapped,mayRenderLinks:this.props.mayRenderLinks&&this._isSnapped,pageModels:e.pages,paywalledPageStatus:e.pages.map((e=>this.props.paywalledPageNumbers.includes(e.pageNumber))),readMode:this.props.readMode,renderManager:this.props.renderManager,showLinkToolTip:this.props.showLinkToolTip,transform:c,width:t-2*o,smartnavAsset:this.props.smartnavAsset,xMargin:o,yMargin:a,viewportWidth:t,viewportHeight:r})))}beforeDraw(e){!this._wasAnimatingLastFrame&&this.animation.isRunning(wf.lastTick)&&this.props.onAnimationStart(),(!this.animation.isRunning(wf.lastTick)&&(this._wasAnimatingLastFrame||this._justStartedAnimation)||0===this.animation.duration)&&(this.animation.options.reverse&&(this._targetSpreadIndex=this.getCurrentSpreadIndex()),this._targetSpreadIndex!==this.getCurrentSpreadIndex()&&this.props.onSpreadChange(this._targetSpreadIndex),isNaN(this._pendingTargetSpreadIndex)||(this.goToSpread(this._pendingTargetSpreadIndex),this._pendingTargetSpreadIndex=NaN))}appendWebglOps(e,t,r){this.animation.isRunning(wf.lastTick)?this._appendWebglOpsForFlipping(e,this.getCurrentSpreadIndex(),this._targetSpreadIndex,r):this._appendWebglOpsForPages(e,r),this._justStartedAnimation=!1}afterDraw(e){this._wasAnimatingLastFrame&&!this.animation.isRunning(wf.lastTick)&&this.props.onAnimationEnd();var t=this._isDraggingManually();this._wasAnimatingLastFrame=this.animation.isRunning(wf.lastTick),this._wasAnimatingLastFrame&&!t&&this.requestRedraw();var r=this.getVisiblePageNumbers(),n=this.getCurrentSpreadIndex(),i=this.getCurrentSpread().children.map((e=>e.model.pageNumber)),o=n/Math.max(this.children.length-1,1)*100,a=this._lastPositionInPercent!==o,s=-1===this._lastSpreadIndex,c=this._lastSpreadIndex!==n&&!s,u=r.join()!==this._lastVisiblePages,l=this.props.currentPageNumber;if(c)l=i[0];else if(!r.includes(l)){var d=r.find((e=>i.includes(e)));"number"==typeof d&&(l=d)}if(this._lastPositionInPercent=o,this._lastSpreadIndex=n,this._lastVisiblePages=r.join(),(a||c||u)&&this.props.dispatch(ha(r,n,l,i,o,a,c,u,t)),this._wasAnimatingLastFrame===this._isSnapped&&(this._isSnapped=!this._wasAnimatingLastFrame,this._isSnapped||this.props.hideLinkToolTip(),this.forceUpdate()),c||s){var h=Array.from(new Set([...r,...i]));this.props.renderManager.setActivePages(h,this.props.readMode)}}_appendWebglOpsForFlipping(e,t,r,n){var i=this._getPageSetupForFlip(t,r),o=r<t,a=this._getConicContribution(),s=this._getProgressBasedOnFingerPosition(i.start.edge,i.end.edge),c=qg(this._transformBBox(i.start.bbox,i.end.bbox,s),1),u=this._bendingMesh.calculateProgress(i.start.edge,i.end.edge,this._getFingerPosition(i.start.edge,i.end.edge),c,a);this._bendingMesh.bend(u,a);var l=this._lightRatioEasing(s),d=i.start.bending?this._loadPreviewTextureInfos(i.start.bending,c,n).ops:[],h=i.end.bending?this._loadPreviewTextureInfos(i.end.bending,c,n).ops:[];if(d.some((e=>e&&(0===e.type||1===e.type)))||(d=[null]),h.some((e=>e&&(0===e.type||1===e.type)))||(h=[null]),d.forEach((t=>{t&&3===t.type?e.push({type:"fill-bending-page-operation",args:[this._bendingMesh,t,c,l,o,!!i.start.bending,wf.lastTick]}):e.push({type:"bending-page-operation",args:[this._bendingMesh,t,c,l,o,!!i.start.bending,wf.lastTick]})})),h.forEach((t=>{t&&3===t.type?e.push({type:"fill-bending-page-operation",args:[this._bendingMesh,t,c,l,!o,!!i.end.bending,wf.lastTick]}):e.push({type:"bending-page-operation",args:[this._bendingMesh,t,c,l,!o,!!i.end.bending,wf.lastTick]})})),e.push({type:"depth-map-operation",args:[this._bendingMesh,c]}),i.start.flat&&i.end.bending){var p=this._transformBBox(i.start.flat.viewportBBox,i.end.bending.viewportBBox,s);this._appendWebglOpsForPage(e,i.start.flat,p,n),e.push({type:"shadow-operation",args:[p,Mm]})}if(i.start.bending&&i.end.flat){var f=this._transformBBox(i.start.bending.viewportBBox,i.end.flat.viewportBBox,s);this._appendWebglOpsForPage(e,i.end.flat,f,n),e.push({type:"shadow-operation",args:[f,Mm]})}}_transformBBox(e,t,r){var n=Math.abs(r);return{x:Qg(e.x,t.x,n),y:Qg(e.y,t.y,n),width:Qg(e.width,t.width,n),height:Qg(e.height,t.height,n)}}_isDraggingManually(){return!(this.animation.duration!==Number.MAX_VALUE||!this._gesture)}_getConicContribution(){if(this.animation.duration!==Am(this.props.readMode)&&this._gesture){var e=(this._gesture.endY-this._gesture.startY)/(this.height-this._gesture.startY);return Math.min(1,Math.max(-1,e))}return-.5}_getFingerPosition(e,t){return this._isDraggingManually()?this._gesture.endX-this._gesture.startX+e:e+(t-e)*this._progressEasing(wf.lastTick)}_getProgressBasedOnFingerPosition(e,t){var r=this._getFingerPosition(e,t);return Math.min(1,Math.max(0,(r-e)/(t-e)))}_getPageSetupForFlip(e,t){var r=t<e;return function(e,t,r,n){return"SINGLE_PAGE_SPREAD"===r?n?function(e,t){var r=e[0].viewportBBox,n=t[0].viewportBBox;return{start:{bending:null,flat:e[0],bbox:r,edge:r.x},end:{bending:t[0],flat:null,bbox:n,edge:n.x+n.width}}}(e,t):function(e,t){var r=e[0].viewportBBox,n=t[0].viewportBBox;return{start:{bending:e[0],flat:null,bbox:r,edge:r.x+r.width},end:{bending:null,flat:t[0],bbox:n,edge:n.x}}}(e,t):n?function(e,t){var r=e[0].viewportBBox,n=t[t.length-1].viewportBBox;return{start:{bending:e[0],flat:e.length>1?e[e.length-1]:null,bbox:{...r,x:r.x+r.width},edge:r.x},end:{bending:t[t.length-1],flat:t.length>1?t[0]:null,bbox:n,edge:n.x+n.width}}}(e,t):function(e,t){var r=e[e.length-1].viewportBBox,n=t[0].viewportBBox;return{start:{bending:e[e.length-1],flat:e.length>1?e[0]:null,bbox:r,edge:r.x+r.width},end:{bending:t[0],flat:t.length>1?t[t.length-1]:null,bbox:{...n,x:n.x+n.width},edge:n.x}}}(e,t)}(this.children[e].children,this.children[t].children,this.props.readMode,r)}_appendWebglOpsForPages(e,t){this.getCurrentSpread().children.forEach((r=>{this._appendWebglOpsForPage(e,r,r.viewportBBox,t)}))}_appendWebglOpsForPage(e,t,r,n){if(this.overlaps(r)){var i=qg(r,t.pageType),o=this._lightRatioEasing(0),{done:a,ops:s}=this._loadTextureInfos(t,r,n);s.forEach((t=>{3===t.type?e.push({type:"fill-bending-page-operation",args:[this._flatMesh,t,i,o,!1,!0,wf.lastTick]}):e.push({type:"bending-page-operation",args:[this._flatMesh,t,i,o,!1,!0,wf.lastTick]})})),a||0!==s.length||e.push({type:"bending-page-operation",args:[this._flatMesh,null,i,o,!1,!0,wf.lastTick]}),a||this.requestRedraw()}}_loadPreviewTextureInfos(e,t,r){var n=this._loadTextureInfos(e,t,r);return n.ops=n.ops.filter((e=>0!==e.type)),n}_loadTextureInfos(e,t,r){return e.getOperations(t,r.width,r.height)}}class jm extends wf{_lastCenterSpreadIndex=-1;_isSnapped=!0;_scrollerMovedLastFrame=!1;_lastVisiblePages="";_lastPositionInPercent=0;_spreadIndexBeforeGestureStart=0;constructor(e,t){super(e,t),this.scroller=new zg(0,0,1,this.props.viewportWidth,this.props.viewportHeight,this.width,this.height)}get width(){return this.props.viewportWidth}get height(){var e=this.children?this.children.length:0;return this.props.viewportHeight*e-this.topMargin*(e-1)}get transform(){return this._transform||(this._transform=new bf),this._transform.mReset().mTranslate(-this.scroller.left,-this.scroller.top),this._transform}get inAnimation(){return!!this.scroller.isMoving||super.inAnimation}componentDidMount(){this.scroller.resize(0,0,1,this.props.viewportWidth,this.props.viewportHeight,this.width,this.height),this.scroller.setSnap(!0,this.snapFunction,!1);var e=this.clampChildrenIndex(this.props.currentSpreadIndex),t=this.children[e].unzoomedBBox;this.scroller.jumpTo(t.y-this.topMargin,0,1),wf.RectPool.release(t),this.props.featureTracker.opportunity(Rl.DOUBLE_TAP_ZOOM),this.props.featureTracker.opportunity(Rl.GESTURE_PINCH_ZOOM),this.props.canChangePages&&this.props.featureTracker.opportunity(Rl.GESTURE_DRAG_PAGES)}componentDidUpdate(e){if(this.props.viewportWidth!==e.viewportWidth||this.props.viewportHeight!==e.viewportHeight){var t=this.children[this.props.currentSpreadIndex].unzoomedBBox,r=t.y-this.topMargin;this.scroller.resize(r,0,1,this.props.viewportWidth,this.props.viewportHeight,this.width,this.height),wf.RectPool.release(t)}}getChildrenToTraverse(){var e=this.getSpreadIndexAt(this.scroller.top),t=this.getSpreadIndexAt(this.scroller.top+this.props.viewportHeight-1);return this.children.slice(Math.max(e,0),Math.min(t,this.children.length-1)+1)}clampChildrenIndex(e){return Math.max(Math.min(e,this.children.length-1),0)}snapFunction=e=>{var t=this.clampChildrenIndex(this.getSpreadIndexAt(e+this.props.viewportHeight/2)),r=this.children[t];if(!r)return{left:0,top:e,zoom:1};var n=r.unzoomedBBox,i=n.y-this.topMargin;return wf.RectPool.release(n),{left:0,top:i,zoom:1}};onGestureStart(e,t,r,n){return this._spreadIndexBeforeGestureStart=this.props.currentSpreadIndex,this.scroller.touchStart(e,t,n),1===r.length}onGestureChange(e,t,r,n,i,o){return("SWIPE_UP"===o||"SWIPE_DOWN"===o)&&1===r.length&&(this.scroller.touchMove(e,t,n,i),this.requestRedraw(),!0)}onGestureEnd(e){return this.scroller.touchEnd(e,wf.lastTick),this.props.currentSpreadIndex!==this._spreadIndexBeforeGestureStart&&this.props.featureTracker.usage(Rl.GESTURE_DRAG_PAGES),this.scroller.isMoving&&this.requestRedraw(),!0}onSingleTapConfirmed(e,t,r){var n=this.getCurrentSpread(),i=n.children[0].viewportBBox;if(n.children.length>1){var o=n.children[1].viewportBBox;i.width+=o.width,i.height=Math.max(i.height,o.height),i.y=Math.min(i.y,o.y)}if(t>i.y&&t<i.y+i.height){var a=this.children.indexOf(n);if(e<i.x)return this.goToSpread(a-1),!0;if(e>i.x+i.width)return this.goToSpread(a+1),!0}return!1}getCurrentSpreadIndex(){return this.getSpreadIndexAt(this.scroller.top+this.props.viewportHeight/2)}getCurrentSpread(){return this.children[this.getCurrentSpreadIndex()]}getVisiblePageNumbers(){for(var e=[],t=Math.max(this.getSpreadIndexAt(this.scroller.top),0),r=this.getSpreadIndexAt(this.scroller.top+this.props.viewportHeight-1),n=wf.RectPool.get(0,0,this.props.viewportWidth,this.props.viewportHeight),i=t;i<=r;i++){var o=this.children[i];for(var a of o.children){var s=a.viewportBBox;cf(n,s)&&e.push(a.model.pageNumber),wf.RectPool.release(s)}}return wf.RectPool.release(n),e}setSnapping(e){this.scroller.setSnap(e,null,!0,wf.lastTick),this.requestRedraw()}jumpToPositionByPercent(e){this.getCurrentSpread().setZoom(1),this.scroller.jumpTo(e*(this.height-this.props.viewportHeight)/100,0),this.requestRedraw()}goToSpread(e){if(this.getCurrentSpreadIndex()!==e){this.getCurrentSpread().setZoom(1);var t=this.clampChildrenIndex(e),r=this.children[t].unzoomedBBox;this.scroller.scrollTo(r.y-this.topMargin,0,1,wf.lastTick),wf.RectPool.release(r),this.requestRedraw()}}jumpToSpread(e){if(this.getCurrentSpreadIndex()!==e){this.getCurrentSpread().setZoom(1);var t=this.clampChildrenIndex(e),r=this.children[t].unzoomedBBox;this.scroller.jumpTo(r.y-this.topMargin,0,1),wf.RectPool.release(r),this.requestRedraw()}}getSpreadIndexAt(e){var t=Math.floor((e-this.topMargin)/(this.props.viewportHeight-this.topMargin));return Math.min(Math.max(t,0),this.children.length-1)}get xMargin(){return Wg(this.props.allowUIToOverlayCover,this.props.viewportWidth)}get topMargin(){return Hg(this.props.viewportWidth)}getChildTree(e){return void 0===e&&(e=!1),this.props.documentPageSpreadList.map(((e,t)=>{var{xMargin:r}=this,{viewportWidth:n,viewportHeight:i,allowUIToOverlayCover:o,isSlimDesign:a}=this.props,s=Hg(n),c=$g(o,a,n),u=r,l=(i-s)*t+s,d=new bf;return d.mTranslate(u,l),wf.createElement(am,{dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,height:i-s-c,hideLinkToolTip:this.props.hideLinkToolTip,isCurrentSpread:t===this.props.currentSpreadIndex,isLinksToggledOn:this.props.isLinksToggledOn,isFlatPlanEnabled:this.props.isFlatPlanEnabled,isSnapped:this._isSnapped,mayRenderLinks:this.props.mayRenderLinks,pageModels:e.pages,paywalledPageStatus:e.pages.map((e=>this.props.paywalledPageNumbers.includes(e.pageNumber))),readMode:this.props.readMode,showLinkToolTip:this.props.showLinkToolTip,transform:d,width:n-2*r,renderManager:this.props.renderManager,smartnavAsset:this.props.smartnavAsset,xMargin:r,yMargin:s,viewportWidth:n,viewportHeight:i})}))}afterDraw(e){var t=this.scroller.isDragging||this.scroller.isAnimating||this.scroller.isMoving;this.scroller.update(wf.lastTick);var r=this.scroller.isDragging||this.scroller.isAnimating||this.scroller.isMoving;(r||t)&&(this._isSnapped?(this._isSnapped=!1,this.forceUpdate()):this.requestRedraw()),r||!this.scroller.isSnapped()||this._isSnapped?this._isSnapped||this.requestRedraw():(this._isSnapped=!0,this.forceUpdate()),!this._scrollerMovedLastFrame&&r?this.props.onAnimationStart():this._scrollerMovedLastFrame&&!r&&this.props.onAnimationEnd(),this._scrollerMovedLastFrame=r;var n=this.getCurrentSpreadIndex();n!==this.props.currentSpreadIndex&&this.props.onSpreadChange(n);var i=this.getVisiblePageNumbers(),o=i.join()!==this._lastVisiblePages;this._lastVisiblePages=i.join();var a=-1===this._lastCenterSpreadIndex,s=this._lastCenterSpreadIndex!==n&&!a,c=this.children[n].children.map((e=>e.model.pageNumber)),u=this.props.currentPageNumber;if(s)u=c[0];else if(!i.includes(u)){var l=i.find((e=>c.includes(e)));"number"==typeof l&&(u=l)}this._lastCenterSpreadIndex=n;var d=this.scroller.getVerticalPositionInPercent(),h=d!==this._lastPositionInPercent;this._lastPositionInPercent=d;var p=this.scroller.isDragging;if((h||s||o)&&this.props.dispatch(ha(i,n,u,c,d,h,s,o,p)),s||a){var f=Array.from(new Set([...i,...c]));this.props.renderManager.setActivePages(f,this.props.readMode)}}}var Pm=wf.connect(class extends wf{_isLinkToggledOn=!1;_showTooltip=null;_frameCountAtAnimationStart=-1;_interactionStartTime=-1;_inAnimation=!1;constructor(e,t){super(e,t),this.__store__=e.store,this._currentSpreadIndex=rs(e.readMode,e.currentPageNumber)}componentDidMount(){this.spreadAnimator=this.children[0];var e={getPageComponent:e=>{var t=rs(this.props.readMode,e),r=this.spreadAnimator?.children[t];return r.children[0].pageNumber===e?r.children[0]:r.children[1]},goToPage:t=>{e.goToSpread(rs(this.props.readMode,t))},goToSpread:e=>{if(this.props.findIsVisible&&this.spreadAnimator)this.spreadAnimator.jumpToSpread(e);else{var t=this.owner;this.props.usePageFlip||this.props.dispatch(Ag()),setTimeout((()=>{t.canvasObjectTree&&t.canvasObjectTree.spreadAnimator.goToSpread(e)}),0)}},jumpToPage:t=>{e.jumpToSpread(rs(this.props.readMode,t))},jumpToSpread:e=>this.spreadAnimator?.jumpToSpread(e),setSnapping:e=>this.spreadAnimator?.setSnapping(e),jumpToPositionByPercent:e=>this.spreadAnimator?.jumpToPositionByPercent(e),zoomCurrentView:(e,t)=>this.spreadAnimator?.getCurrentSpread()?.setZoom((e=>Math.max(Math.min(e,7),1))(e),t),timestamp:Date.now()};this.props.dispatch(_g(e))}componentDidUpdate(e){!e.browserTabIsVisible&&this.props.browserTabIsVisible&&(this._interactionStartTime=-1,this._frameCountAtAnimationStart=-1)}componentWillUnmount(){this.props.dispatch(xg())}getChildTree(e){void 0===e&&(e=!1);var t={allowUIToOverlayCover:this.props.allowUIToOverlayCover,canChangePages:this.props.documentPageSpreadList.length>1,currentPageNumber:this.props.currentPageNumber,currentSpreadIndex:this._currentSpreadIndex,disableGestures:this.props.findIsVisible,dispatch:this.props.dispatch,documentPageSpreadList:this.props.documentPageSpreadList,featureTracker:this.props.featureTracker,hideLinkToolTip:this.hideLinkToolTip,isFlatPlanEnabled:this.props.isFlatPlanEnabled,isLinksToggledOn:this._isLinkToggledOn,isSlimDesign:this.props.isSlimDesign,mayRenderLinks:this.props.mayRenderLinks,onAnimationEnd:this.onAnimationEnd,onAnimationStart:this.onAnimationStart,onSpreadChange:this.onSpreadChange,paywalledPageNumbers:this.props.paywalledPageNumbers,readMode:this.props.readMode,renderManager:this.props.renderManager,showLinkToolTip:this.showLinkToolTip,smartnavAsset:this.props.smartnavAsset,viewportHeight:this.props.height,viewportWidth:this.props.width},r=this.props.usePageFlip?Om:this.props.useVerticalFlip?jm:sm;return[wf.createElement(r,t),wf.createElement(hm,{link:this._showTooltip})]}get frameCount(){return this.owner.frameCount}get inAnimation(){return this._inAnimation}onSingleTapConfirmed(e,t,r){return this._isLinkToggledOn=!this._isLinkToggledOn,this.forceUpdate(),!1}onSpreadChange=e=>{this._currentSpreadIndex=e,this._isLinkToggledOn=!1,this.forceUpdate()};onAnimationStart=()=>{this._frameCountAtAnimationStart=this.frameCount,this._interactionStartTime=wf.lastTick,this._inAnimation=!0};onAnimationEnd=()=>{if(this._inAnimation=!1,this._frameCountAtAnimationStart>=0&&this._interactionStartTime>=0){var e=wf.lastTick-this._interactionStartTime,t=e/(1e3/60)-(this.frameCount-this._frameCountAtAnimationStart);t>0&&this.props.metrics.onFrameDrop({droppedFrames:t,duration:e,webgl:this.props.usePageFlip})}};showLinkToolTip=e=>{this._showTooltip!==e&&(this._showTooltip=e,this.forceUpdate())};hideLinkToolTip=()=>{this._showTooltip&&(this._showTooltip=null,this.forceUpdate())};getPosition(){var e,t=this.spreadAnimator?.getCurrentSpread(),r=t.children,{activeVideoLink:n}=this.props;if(r.length<2?e=r[0]:n&&(e=r.find((e=>e.model.pageNumber===n.page.pageNumber))),!e){var i=wf.RectPool.get(0,0,this.width,this.height),o=r[0].viewportBBox,a=r[1].viewportBBox,s=cf(i,o)-cf(i,a);e=s>0?r[0]:s<0?r[1]:r.find((e=>e.model.pageNumber===this.props.currentPageNumber)),wf.RectPool.release(i)}if(!e)return null;var c=t.getCenter(),u=e.transform.inverse().transformPoint(c.x*t.width,c.y*t.height);return{x:u[0]/e.width,y:u[1]/e.height,zoom:t.getZoom(),pageNumber:e.pageNumber}}setPosition(e){var t=rs(this.props.readMode,e.pageNumber),r=this.spreadAnimator?.children[t],n=r.children.find((t=>t.pageNumber===e.pageNumber));if(am.scroller.zoom=e.zoom,n){var i=n.transform.transformPoint(e.x*n.width,e.y*n.height);r.setCenter({x:i[0],y:i[1]}),this.spreadAnimator?.jumpToSpread(t),this.requestRedraw()}}},(e=>({activeVideoLink:e.inlineVideo.activeVideoLink,allowUIToOverlayCover:ec(e),browserTabIsVisible:!e.visibility.isHidden,currentPageNumber:e.reader.currentPageNumber,currentSpreadIndex:e.reader.currentSpreadIndex,isFlatPlanEnabled:Ru(e),documentPageSpreadList:$c(e),featureTracker:e.featureTracker,findIsVisible:Ic(e),isSlimDesign:Ws(e),mayRenderLinks:fg(e),paywalledPageNumbers:Ds(e),smartnavAsset:e.smartnav.pages}))),Cm=__webpack_require__(7842),Dm=__webpack_require__.n(Cm),Lm=__webpack_require__(8550),Rm=__webpack_require__.n(Lm),Bm="youtube_api_ready",Um="set_active_video_link";function Fm(e){return{type:Um,videoLink:e}}var zm=__webpack_require__(3498),Gm=__webpack_require__.n(zm),Hm=void 0;class Wm{_isPlaying=!1;_isFullscreen=!1;constructor(e,t){this._player=t,this.id=e,this._player.on("play",this._onPlay),this._player.on("pause",this._onPause),this._player.on("ended",this._onEnded),fl(this._onFullscreenChange)}play(){return this._player.play()}pause(){this._player.pause()}destroy(){gl(this._onFullscreenChange),this.fullscreenCallback=void 0,this.playStatusCallback=void 0,this._player.unload()}isPlaying(){return this._isPlaying}isFullscreen(){return this._isFullscreen}isReady(){return!0}_invokePlayStatusCallback(){this.playStatusCallback&&this.playStatusCallback()}_onPlay=()=>{this._isPlaying=!0,this._invokePlayStatusCallback()};_onPause=()=>{this._isPlaying=!1,this._invokePlayStatusCallback()};_onEnded=()=>{this._isPlaying=!1,this._invokePlayStatusCallback()};_onFullscreenChange=()=>{var e=document.getElementById(this.id);this._isFullscreen=!!e&&e.contains(vl()),this.fullscreenCallback&&this.fullscreenCallback()}}class $m{_isFullscreen=!1;_maxReloadRetries=3;constructor(e,t){this._player=t,this.id=e,fl(this._onFullscreenChange)}play(){return this._player.playVideo(),Promise.resolve()}pause(){this._player.pauseVideo()}destroy(){gl(this._onFullscreenChange),this.fullscreenCallback=void 0,this.playStatusCallback=void 0,this._player.destroy()}isPlaying(){return this._player.getPlayerState()===window.YT.PlayerState.PLAYING}isFullscreen(){return this._isFullscreen}isReady(){return this._player.getDuration()>0}_onFullscreenChange=()=>{var e=document.getElementById(this.id);this._isFullscreen=!!e&&e.contains(vl()),this.fullscreenCallback&&this.fullscreenCallback()};_onStateChange=()=>{this.playStatusCallback&&this.playStatusCallback()}}var Vm=[{width:210,height:120},{width:120,height:210}],Ym={x:0,y:0,width:1,height:1};class qm extends Ae.Component{_played=!1;_playerInitialized=!1;_trackingFlag={videoImpressed:!1,videoWatched:!1,videoWentWrong:!1};state={inlinePlayer:null,errorOccurred:!1};componentDidMount(){this.props.shouldBeLoaded&&!this.props.isExplicit&&this._createPlayer()}shouldComponentUpdate(e,t){return!Gm()(this.props,e)||!Gm()(this.state,t)}componentDidUpdate(e){this.props.shouldBeLoaded&&!this.props.isExplicit?this._createPlayer():this._destroyPlayer();var{inlinePlayer:t}=this.state;if(t){t.fullscreenCallback=this._fullscreenCallback,t.playStatusCallback=this._playStatusCallback;var{hidden:r,shouldBePaused:n,shouldAutoplay:i}=this.props;this._isPlaying()&&(r||n)&&t.pause(),this._shouldVideoBeRendered()&&!r&&i&&!this._played&&t.play()}}componentWillUnmount(){this._destroyPlayer()}_createPlayer(){if(!this._playerInitialized){var{inlineVideo:{link:e}}=this.props,t=e.inlineData?.autoplay||!1,r=this._getVideoContainerId();if("youtube"===e.videoService){var n=function(e){var t=0,r=new URL(e).searchParams.get("t");if(r){var n=parseInt(r);isNaN(n)||(t=n)}return t}(e.url);(function(e,t,r,n,i){return new Promise((o=>{var a=new $m(t,new window.YT.Player(t,{videoId:e,playerVars:{showinfo:0,autoplay:0,rel:0,start:n},events:{onReady:()=>{r&&a._player.mute(),o(a)},onError:t=>{5===t.data&&a._maxReloadRetries>0?(a._maxReloadRetries--,a._player.loadVideoById(e)):i()},onStateChange:()=>a._onStateChange()}}))}))})(e.videoId,r,t,n,(()=>this._trackError())).then((e=>this.setState({inlinePlayer:e})))}else if("vimeo"===e.videoService){var i=function(e){var t=0,r=new URL(e).hash;if(r){var n=/(?:(\d+)m)*(\d+)s/.exec(r);n&&(t=60*(parseInt(n[1])||0)+parseInt(n[2]))}return isNaN(t)?0:t}(e.url);(function(e,t,r,n){return(Hm||(Hm=new Promise((e=>{var t=document.createElement("script");t.src="https://player.vimeo.com/api/player.js",t.addEventListener("load",(()=>e())),document.head.appendChild(t)}))),Hm).then((()=>{if(!window.Vimeo)throw new Error("Attempting to use Vimeo player without SDK");var i=new window.Vimeo.Player(t,{id:e,muted:r,autoplay:!1,autopause:!1,title:!1,portrait:!1,byline:!1,transparent:!1});return i.on("error",(()=>{i.loadVideo(e).catch(Tn)})),i.ready().then((()=>{n&&i.setCurrentTime(n)})).then((()=>Promise.resolve(new Wm(t,i))))}))})(e.videoId,r,t,i).then((e=>this.setState({inlinePlayer:e}))).catch((()=>this._trackError()))}this._playerInitialized=!0}}_getVideoContainerId(){var{inlineVideo:{link:{videoService:e,id:t}}}=this.props;return`videoplayer_${e}_${t}`}_destroyPlayer(){zi().rIC((()=>{var{inlinePlayer:e}=this.state;!e||this.props.shouldBeLoaded&&!this.state.errorOccurred||(e.fullscreenCallback=void 0,e.playStatusCallback=void 0,e.destroy(),this.setState({inlinePlayer:null}),this._playerInitialized=!1,this._played=!1)}))}_isPlaying(){return!!this.state.inlinePlayer&&this.state.inlinePlayer.isPlaying()}_isFullscreen(){return!!this.state.inlinePlayer&&this.state.inlinePlayer.isFullscreen()}_isReady(){return!!this.state.inlinePlayer&&this.state.inlinePlayer.isReady()}_playStatusCallback=()=>{this._played=this._played||this._isPlaying(),this.props.interactionCallback(this.props.inlineVideo,this._isPlaying(),this._isFullscreen()),this._shouldVideoBeRendered()&&this._trackOpportunity(),this._played&&this._trackUsage()};_fullscreenCallback=()=>{this.props.interactionCallback(this.props.inlineVideo,this._isPlaying(),this._isFullscreen())};_playerSizeOk(e){var{inlineVideo:{link:t,pageWidth:r,pageHeight:n}}=this.props,i=Qp();return Vm.some((o=>e.width/i*(t.width/r)>o.width&&e.height/i*(t.height/n)>o.height))}_shouldVideoBeRendered(){var{pageViewportBBox:e}=this.props;return!!e&&(!(!this._isPlaying()&&!this._isFullscreen())||this._playerSizeOk(e)&&!!this.state.inlinePlayer&&!this.state.errorOccurred)}_shouldIconBeRendered(){var{pageViewportBBox:e}=this.props;return!(!e||this._isPlaying()||this._isFullscreen()||this._playerSizeOk(e))}_trackOpportunity(){this._isReady()&&(this._trackingFlag.videoImpressed||(this._trackingFlag.videoImpressed=!0,this.props.featureTracker.opportunity(Rl.PUBLICATION_INLINE_VIDEO_LINK),this.props.metrics.monitor("reader3-inpub-video-opportunity",{view:1,service:this.props.inlineVideo.link.videoService})))}_trackUsage(){this._trackingFlag.videoWatched||(this._trackingFlag.videoWatched=!0,this.props.featureTracker.usage(Rl.PUBLICATION_INLINE_VIDEO_LINK),this.props.metrics.monitor("reader3-inpub-video-view",{view:1,service:this.props.inlineVideo.link.videoService}))}_trackError(){this._trackingFlag.videoWentWrong||(this._trackingFlag.videoWentWrong=!0,this.props.metrics.monitor("reader3-inpub-video-error",{failure:1,service:this.props.inlineVideo.link.videoService}),this._destroyPlayer(),this.setState({errorOccurred:!0}))}_adjustAlignment(e,t){var{top:r,left:n}=e,i=r+e.height,o=n+e.width;Math.abs(r-t.top)<=4&&(r=t.top),Math.abs(n-t.left)<=4&&(n=t.left),Math.abs(i-(t.top+t.height))<=4&&(i=t.top+t.height),Math.abs(o-(t.left+t.width))<=4&&(o=t.left+t.width),e.top=Math.floor(r),e.left=Math.floor(n),e.height=Math.ceil(i)-e.top,e.width=Math.ceil(o)-e.left}renderPlayer(){var e=this._shouldVideoBeRendered();e&&this._trackOpportunity();var t={display:e?"block":"none"};return(0,X.jsx)("div",{className:"inline-video__player",style:t,children:(0,X.jsx)("div",{id:this._getVideoContainerId()})})}renderArrow(){var e={display:this._shouldIconBeRendered()?"block":"none",backgroundColor:"black"},t=this.props.thumbnailUrl;return t&&(e.backgroundSize="cover",e.backgroundImage=`url("${t}")`,e.backgroundRepeat="no-repeat",e.backgroundPosition="center"),(0,X.jsx)("div",{className:"inline-video__cta",dangerouslySetInnerHTML:{__html:'<svg width="36" height="36"><path d="M12.34 10.01c.1-.02.2-.01.3.04l13.08 7.56c.02 0 .04.02.06.04a.4.4 0 0 1 .03.7l-13.16 7.6a.39.39 0 0 1-.22.05h-.03a.4.4 0 0 1-.4-.4V10.4c0-.2.15-.36.34-.39Z" stroke-width="2" stroke="#F2F2F2" fill="#F2F2F2" fill-rule="evenodd"/></svg>'},style:e})}renderMessage(){var{pageViewportBBox:e,inlineVideo:{link:{videoService:t,url:r}}}=this.props,n={display:e&&this._playerSizeOk(e)?"block":"none"};return this.props.isExplicit?(0,X.jsx)("div",{className:"inline-video__message",style:n,children:(0,X.jsx)(Lp,{onSubmit:()=>window.open(r,"_blank"),service:t})}):this.state.errorOccurred?(0,X.jsx)("div",{className:"inline-video__message",style:n,children:(0,X.jsx)(Dp,{onSubmit:()=>window.open(r,"_blank"),service:t})}):null}render(){var{inlineVideo:{link:e,pageWidth:t,pageHeight:r}}=this.props,n=this.props.pageViewportBBox||Ym,i=Qp(),o={top:n.y/i,left:n.x/i,width:n.width/i,height:n.height/i},a=o.width/t,s=o.height/r,c={top:e.y*s+o.top,left:e.x*a+o.left,width:e.width*a,height:e.height*s};return this._adjustAlignment(c,o),(0,X.jsxs)("div",{className:"inline-video__container",style:c,children:[this.renderPlayer(),this.renderArrow(),this.renderMessage()]})}}var Zm=ui((e=>({activeVideoLink:e.inlineVideo.activeVideoLink,inlineYoutubeVideos:vg(e),inlineVimeoVideos:yg(e),youtubeApiReady:e.inlineVideo.youtubeApiReady,vimeoApiReady:e.inlineVideo.vimeoApiReady,featureTracker:e.featureTracker})))((function(e){var{activeVideoLink:t,dispatch:r,pageViewportBBoxes:n,hidden:i,inlineYoutubeVideos:o,inlineVimeoVideos:a,youtubeApiReady:s,vimeoApiReady:c,featureTracker:u,metrics:l}=e,d=(0,Ae.useRef)(!1);(0,Ae.useEffect)((()=>{d.current||0===o.length||s||(d.current=!0,new Promise((e=>{var t=document.createElement("script");t.id="yt-api",t.src="https://www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode&&(r.parentNode.insertBefore(t,r),window.onYouTubeIframeAPIReady=e)})).then((()=>r({type:Bm}))).catch(Tn))}),[r,o,s]),(0,Ae.useEffect)((()=>{if(t){var{page:{pageNumber:e}}=t;n.hasOwnProperty(e)||r(Fm(null))}}),[t,r,n]);var h=(e,n,i)=>{if(i||n)r(Fm(e.link));else{var{link:{id:o}}=e;t&&t.id===o&&!n&&r(Fm(null))}},p=Object.keys(n).map((e=>parseInt(e,10))),f=[];return s&&f.push(...o),c&&f.push(...a),(0,X.jsx)(X.Fragment,{children:((e,r)=>{var o=Math.min(...r)-2,a=Math.max(...r)+2,s=!1;return e.flatMap((e=>{var{id:c,inlineData:d,page:{pageNumber:p}}=e.link,f=o<=p&&p<=a;if(f){var g=n[p],m=!!d&&d.isExplicit,v=!!t&&t.id!==c,y=!s&&r.includes(p)&&!v&&!!d&&d.autoplay;return y&&(s=!0),[(0,X.jsx)(qm,{featureTracker:u,hidden:i,inlineVideo:e,interactionCallback:h,isExplicit:m,metrics:l,pageViewportBBox:g,shouldAutoplay:y,shouldBeLoaded:f,shouldBePaused:v,thumbnailUrl:d?.thumbnail},`${c}`)]}return[]}))})(f,p)})})),Qm=Ae.forwardRef((function(e,t){var{metrics:r}=e,[n,i]=Ae.useState({}),[o,a]=Ae.useState(!0),s=vi(xs),c=vi(Os),u=vi(Tg);return Ae.useImperativeHandle(t,(()=>({updatePagePositions:Rm()((e=>{var t={};c.forEach((e=>{var r=u.getPageComponent(e);r&&(s.includes(e)?t[e]={...r.position}:t[e]={...r.viewportBBox})})),i((e=>Dm()(t,e)?e:t)),a(e)}),50)}))),(0,X.jsx)("div",{className:"dynamic-content__container",style:{display:o?"none":"block"},children:(0,X.jsx)(Zm,{hidden:o,metrics:r,pageViewportBBoxes:n})})})),Xm=Vc((function(e,t){var{getState:r,setState:n}=t,i=r();Es(i).includes("hide_controls")&&n({...i,controls:{...i.controls,areControlsAllowed:!i.controls.areControlsAllowed}})}));function Jm(e){for(var t={x:0,y:0},r=0;r<e.length;r++)t.x+=e[r].x,t.y+=e[r].y;return{x:t.x/e.length,y:t.y/e.length}}function Km(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(t(n))return n}}class ev extends Ae.Component{lastLeadGenVisibilityState=!1;_singleTapWasHandled=!1;_lastMoveHitlist=[];_handlersOfCurrentGesture=[];_glExtOesStandardDerivatives=null;frameCount=0;previousPosition=null;canvasObjectTree=null;ctx=null;glManager=null;renderManager=null;constructor(e){super(e),this.inPubContentRef=Ae.createRef(),this.canvasContainer=Ae.createRef()}componentDidMount(){this._singleTapWasHandled=!1,this._lastMoveHitlist=[],this._handlersOfCurrentGesture=[],this.frameCount=0,this.createContextAndInitializeCanvas(),this.fallbackTo2DIfViewportExceedGPULimit(),this.buildCanvasObjectTree(),this.canvasObjectTree?this.canvasObjectTree.requestRedraw():this.props.dispatch(xg());var e=this.canvasContainer.current;if(e){this.inputHandler=new ih(e,{getScalingFactor:()=>Qp(),catchWheelEvent:()=>this.props.fullscreenEnabled,onSingleTap:(e,t)=>{this._singleTapWasHandled=this.bubbleEvent((e=>e.onSingleTap),e,t).handled,this.inputHandler?.requestToIntercept()},onSingleTapConfirmed:(e,t)=>{var r=this.bubbleEvent((e=>e.onSingleTapConfirmed),e,t,this._singleTapWasHandled);this._singleTapWasHandled=!1,this.props.dispatch((e=>{e(el())})),r.handled||this.props.dispatch(Xm())},onDoubleTap:(e,t)=>{this.bubbleEvent((e=>e.onDoubleTap),e,t),this.props.dispatch((e=>{e(el())}))},onGestureStart:(e,t)=>{this.props.usePageFlip||this.props.dispatch(Ag());var{x:r,y:n}=Jm(e);this.bubbleEvent((e=>e.onGestureStart),r,n,e,t).possibleHandlers.forEach((e=>{this._handlersOfCurrentGesture.push(e)})),this.props.dispatch(al())},onGestureChange:(e,t,r,n)=>{this.releaseMouseHitlist(t);var{x:i,y:o}=Jm(e);Km(this._handlersOfCurrentGesture,(a=>!(!a.onGestureChange||!a.onGestureChange(i,o,e,t,r,n)||(this.inputHandler?.requestToIntercept(),0)))),this.props.dispatch(((e,t)=>{var r=t().reader.zoomLevel;e(1!==ol&&1!==r?tl():el(!1))}))},onGestureEnd:e=>{Km(this._handlersOfCurrentGesture,(t=>(t.onGestureEnd&&t.onGestureEnd(e),!1))),this._handlersOfCurrentGesture.length=0,this.props.dispatch(sl())},onMouseEnter:()=>{this.props.usePageFlip||this.props.dispatch(Ag())},onMouseMove:(e,t,r)=>{this.updateMouseHitlist(e,t,r)},onMouseLeave:e=>{this.releaseMouseHitlist(e)}});var t=e=>{this.canvas&&(wf.lastTick=e,this.canvasObjectTree&&this.canvasObjectTree.hasPendingRedraw&&this.drawCanvasObjectTree(),this.updateInPubContent(),requestAnimationFrame(t))};requestAnimationFrame(t)}}UNSAFE_componentWillReceiveProps(e){var t=this.props;this.props=e;var r=t.readMode!==this.props.readMode||t.usePageFlip!==this.props.usePageFlip||t.visible!==this.props.visible||t.linksLoaded!==this.props.linksLoaded;if(this.canvasObjectTree&&r){var n=this.canvasObjectTree;this.previousPosition=n.getPosition(),wf.unmountTree(n),this.canvasObjectTree=null}t.usePageFlip!==this.props.usePageFlip&&this.createContextAndInitializeCanvas();var i=t.width!==this.props.width||t.height!==this.props.height;i&&this.canvas&&(this.canvas.width=this.props.width,this.canvas.height=this.props.height,this.fallbackTo2DIfViewportExceedGPULimit()),this.props.usePageFlip&&i&&this.ctx&&cm(this.ctx)&&this.ctx.viewport(0,0,this.ctx.drawingBufferWidth,this.ctx.drawingBufferHeight),this.buildCanvasObjectTree(i),this.canvasObjectTree&&this.canvasObjectTree.requestRedraw(),1===this.props.zoomLevel?this.inputHandler?.enableBrowserHandlingOfVerticalPanningGestures():this.inputHandler?.disableBrowserHandlingOfAllPanningGestures()}shouldComponentUpdate(){return!1}componentWillUnmount(){this.inputHandler&&this.inputHandler.destroy(),this.renderManager&&this.renderManager.release(),this.glManager&&(this.glManager.destroy(),this.glManager=null),this.ctx=null,this._glExtOesStandardDerivatives=null,this.canvas?.removeEventListener("webglcontextlost",this.handleContextLost,!1),this.props.dispatch(Ng(0)),this.props.dispatch(Og(0))}onFallbackTo2D=()=>{this.inputHandler&&this.inputHandler.reset(),this.props.metrics.monitor("reader3-fallback-to-2d",{fallback:1})};getCustomCursor=()=>{for(var e=this._lastMoveHitlist.length-1;e>=0;e--)if(this._lastMoveHitlist[e].getCustomCursor&&this._lastMoveHitlist[e].getCustomCursor())return this._lastMoveHitlist[e].getCustomCursor();return"default"};createRenderManager=()=>{var e=this.renderManager;this.renderManager=new Wf({useWebGL:this.props.usePageFlip,ctx:cm(this.ctx)?this.ctx:null,hintMaxWidth:this.props.width,hintMaxHeight:this.props.height,pageModels:this.props.documentPages,loadStatsTracker:this.props.loadStatsTracker,renderManager:e})};createContextAndInitializeCanvas=()=>{var e=document.createElement("canvas");if(e.className="document-canvas",e.style.width=e.style.height="100%",e.width=this.props.width,e.height=this.props.height,this.glManager&&(this.glManager.destroy(),this.glManager=null),this.canvas?(this._glExtOesStandardDerivatives=null,this.canvas.removeEventListener("webglcontextlost",this.handleContextLost,!1),this.canvasContainer.current?.replaceChild(e,this.canvas)):this.canvasContainer.current?.appendChild(e),this.canvas=e,this.props.usePageFlip){var t=um(this.canvas);this.ctx=t,t?(this._glExtOesStandardDerivatives=t.getExtension("OES_standard_derivatives"),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),this.glManager=new pg(t),this.canvas.addEventListener("webglcontextlost",this.handleContextLost,!1)):this.handleWebGLError()}else this.ctx=this.canvas.getContext("2d")};findComponentsAtPoint=(()=>{var e=this;return function(t,r,n){void 0===n&&(n=!0);var i=[];return e.canvasObjectTree&&wf.traverse(e.canvasObjectTree,((e,o)=>!(n&&!e.isVisible||!function(e,t,r){return e>=r.x&&e<r.x+r.width&&t>=r.y&&t<r.y+r.height}(t,r,o)||(i.push(e),0)))),i}})();bubbleEvent=(()=>{var e=this;return function(t,r,n){for(var i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];var s={handled:!1,possibleHandlers:[]};for(var c of e.findComponentsAtPoint(r,n))t(c)&&s.possibleHandlers.push(c);return Km(s.possibleHandlers,(e=>{var i=t(e);return!(!i||!i.call(e,r,n,...o)||(s.handled=!0,0))})),s}})();updateMouseHitlist=(e,t,r)=>{var n=this.findComponentsAtPoint(e,t,!1),i=n[n.length-1],o=this._lastMoveHitlist[this._lastMoveHitlist.length-1];i!==o&&(o&&o.onMouseLeave&&o.onMouseLeave(r),i&&i.onMouseEnter&&i.onMouseEnter(r)),this._lastMoveHitlist=n,Km(n,(n=>!!n.onMouseMove&&(n.onMouseMove(e,t,r),!0)))};releaseMouseHitlist=e=>{var t=this._lastMoveHitlist[this._lastMoveHitlist.length-1];t&&t.onMouseLeave&&t.onMouseLeave(e),this._lastMoveHitlist=[]};fallbackTo2DIfViewportExceedGPULimit=()=>{var e=0,t=0;if(this.ctx&&cm(this.ctx)){var r=this.props.width-this.ctx.drawingBufferWidth>1,n=this.props.height-this.ctx.drawingBufferHeight>1;(r||n)&&(r&&(e=this.ctx.drawingBufferWidth),n&&(t=this.ctx.drawingBufferHeight),this.onFallbackTo2D())}this.props.dispatch(Ng(e)),this.props.dispatch(Og(t))};updateInPubContent(){var e=this.inPubContentRef.current,t=!!this.canvasObjectTree&&this.canvasObjectTree.inAnimation;e?.updatePagePositions(t)}handleWebGLError=e=>{e&&Tn(e,{extra:{"fallback-to-2d":!0}}),this.onFallbackTo2D(),this.props.dispatch({type:Sg})};buildCanvasObjectTree=e=>{if(this.props.visible&&this.props.height&&this.props.width&&!(!this.ctx||cm(this.ctx)&&this.ctx.isContextLost())){try{this.canvasObjectTree&&!e||this.createRenderManager(),this.canvasObjectTree=wf.buildTree(wf.createElement(Pm,{ctx:this.ctx,height:this.props.height,loadStatsTracker:this.props.loadStatsTracker,readMode:this.props.readMode,renderManager:this.renderManager,store:this.props.store,usePageFlip:this.props.usePageFlip,useVerticalFlip:this.props.useVerticalFlip,width:this.props.width,metrics:this.props.metrics}),this.canvasObjectTree,this)}catch(e){if(!(cm(this.ctx)&&e instanceof Error))throw e;this.handleWebGLError(e)}this.canvasObjectTree&&this.previousPosition&&(this.canvasObjectTree.setPosition(this.previousPosition),this.previousPosition=null)}};drawCanvasObjectTree=()=>{var e=this.canvasObjectTree,t=this.glManager;if(this.ctx&&this.props.visible&&e&&(!cm(this.ctx)||!this.ctx.isContextLost())){try{var r={x:0,y:0,width:this.props.width,height:this.props.height};cm(this.ctx)?t&&wf.drawWebgl(e,t,r):wf.draw2d(e,this.ctx,r)}catch(e){if(!(cm(this.ctx)&&e instanceof Error))throw e;this.handleWebGLError(e)}var n=this.getCustomCursor(),i=this.canvasContainer.current;"string"==typeof n&&i&&i.style.cursor!==n&&(i.style.cursor=n),this.props.isLeadGenVisible!==this.lastLeadGenVisibilityState&&i&&(this.lastLeadGenVisibilityState=this.props.isLeadGenVisible,i.style.filter=this.props.isLeadGenVisible?"blur(5px)":"none",i.style.opacity=this.props.isLeadGenVisible?"0.8":"1"),this.frameCount+=1}};handleContextLost=e=>{e.preventDefault(),this.props.metrics.monitor("reader3-webgl-context-lost"),this.props.dispatch({type:Ig})};render(){return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)("div",{ref:this.canvasContainer,style:{width:"100%",height:"100%",position:"absolute"}}),(0,X.jsx)(Qm,{metrics:this.props.metrics,ref:this.inPubContentRef})]})}}var tv=ui((e=>{var t=function(e){return e.size.dpr}(e);return{height:ms(e)*t,width:gs(e)*t,isLeadGenVisible:Vu(e),readMode:Ps(e),visible:!e.visibility.supported||!e.visibility.isHidden,usePageFlip:Pg(e),useVerticalFlip:Is(e),fullscreenEnabled:ps(e),documentPages:Hc(e),linksLoaded:mg(e),zoomLevel:e.reader.zoomLevel,isIdle:e.reader.isIdle}}))((e=>(0,X.jsx)(Sn.Consumer,{children:t=>(0,X.jsx)(ev,{...e,store:t.store})})));function rv(){var e=fi();return(0,X.jsx)("button",{"aria-label":"Close menu",className:"backdrop",onClick:()=>{e(ul(null))}})}var nv=od()(lh)(["align-items:center;border-radius:4px;display:flex;flex:1;flex-direction:column;font-family:inherit;font-weight:500;gap:8px;padding:8px;width:100%;"]);function iv(e){var{tooltip:t,icon:r,text:n,...i}=e;return(0,X.jsxs)(nv,{"aria-label":t,...i,children:[(0,X.jsx)("div",{..."string"==typeof r?{dangerouslySetInnerHTML:{__html:r}}:{children:r}}),n||t]})}var ov=od()(lh)(["border-radius:4px;height:32px;padding:0 4px;@media (min-width:","px){height:40px;padding:0 8px;}@media (max-width:","px){height:40px;width:100%;}"],pa.desktopMin,pa.mobileMax),av=od().div(["align-items:center;display:flex;font-family:inherit;font-size:12px;font-style:normal;font-weight:500;gap:4px;justify-content:center;"]),sv=()=>{};function cv(e){var t={};return"string"==typeof e?t.dangerouslySetInnerHTML={__html:e}:t.children=e,(0,X.jsx)("span",{...t})}function uv(e){var{tooltip:t,disabled:r,text:n,icon:i,...o}=e;r&&(o.onClick=sv),n&&(i=(0,X.jsxs)(av,{children:[cv(i),n]}));var a=(0,Ae.useRef)(null),s=uh(t,a);return(0,X.jsx)(ov,{adjustment:s,"aria-label":t,"data-tooltip":t,icon:i,...o,"aria-disabled":!!r,ref:a})}function lv(e){var{isMenu:t,...r}=e;return t?(0,X.jsx)(iv,{...r}):(0,X.jsx)(uv,{...r})}var dv=(0,Ae.memo)((function(e){var t,{isMenu:r}=e,n=vi(Hh),i=vi($h),o=vi(Vh),s=fi(),c=Gr();switch(n){case"DOWNLOAD_LOADING":t=(0,X.jsx)("div",{className:"download-button__spinner",children:(0,X.jsx)(Wd,{size:24})});break;case"DOWNLOAD_FAILURE":t=zd;break;default:t='<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.85 15.39a.2.2 0 0 0 .07.05.2.2 0 0 0 .16 0 .2.2 0 0 0 .07-.05l2.7-3.22c.1-.12 0-.3-.15-.3H12.9V4.18c0-.1-.08-.18-.2-.18h-1.43c-.11 0-.2.08-.2.18v7.69H9.3c-.16 0-.25.18-.15.3l2.7 3.22Zm7.96-.8h-1.45c-.1 0-.19.08-.19.18v3.5H5.83v-3.5c0-.1-.09-.18-.2-.18H4.2c-.1 0-.19.08-.19.18v4.5c0 .4.34.73.77.73h14.46c.43 0 .77-.32.77-.73v-4.5c0-.1-.09-.18-.2-.18Z"/></svg>'}return(0,Ae.useEffect)((()=>{i||s(Fl(Rl.BUTTON_DOWNLOAD))}),[i,s]),(0,X.jsx)(lv,{"data-testid":"download-button",disabled:i,icon:t,isMenu:r,onClick:()=>{c?.trackUserAction(a.readerDownloadButtonClicked()),s(zl(Rl.BUTTON_DOWNLOAD)),s(((e,t)=>{var r=t();!Gu(r)||Hu(r)?e(qh()):e(Rh())})),s(nl())},tooltip:o})})),hv=Vc((function(e,t){var{dispatch:r,getState:n,featureTracker:i,getCanvasApi:o}=t,a=n();Ic(a)?r(cl({isBlur:!1})):(Du(a)&&r(Cu(!1)),Au(a)&&r(ul(null)),r(Ec()),r(Lc(kc(a))),o().zoomCurrentView(1,!0)),r(nl()),i.usage("BUTTON_OPEN_FIND")})),pv=(0,Ae.memo)((function(e){var{isMenu:t}=e,r=fi(),n=vi(Dc);return(0,Ae.useEffect)((()=>{r(Fl("BUTTON_OPEN_FIND"))}),[r]),(0,X.jsx)(lv,{"data-testid":"find-button",disabled:!n,icon:hh,isMenu:t,onClick:()=>{r(hv())},tooltip:n?"Search":"Search is not available"})}));function fv(){var e=document.cookie.split(";").reduce((function(e,t){var r=t.split("=");return e[r[0].trim()]=r[1].trim(),e}),{});return Boolean(e["CSRF-TOKEN"]&&e["site.model.username"]&&e["site.model.token"])}var gv=()=>{var e=window.top;e&&e.location&&(e.location.href=`/signin?onLogin=${encodeURIComponent(e.location.href)}`)},mv={isLiked:!1,count:0},vv=function(e,t){return void 0===e&&(e=mv),t.type===Ha?{isLiked:t.doc.isDocumentLiked,count:t.doc.likesCount}:e};function yv(e){return e.like.isLiked}function bv(e){return e.like.count}var _v=Vc((function(e,t){var{getState:r,setState:n}=t;if(fv()){var i=r(),o=yv(i),{documentPath:a}=Ya(i),s=Bi(),c=i.like.count,u={likeDocument:!o},l=`${s}/call/reader`,d="user"===a.type?`${l}/document-action/${a.username}/${a.documentName}/like`:`${l}/document-action-pubid/${a.publicationId}/like`;n({...i,like:{isLiked:!o,count:o?c-1:c+1}}),function(e,t){var r;"undefined"!=typeof document&&(r=document.cookie.replace(/(?:(?:^|.*;\s*)CSRF-TOKEN\s*=\s*([^;]*).*$)|^.*$/,"$1"));var n={body:JSON.stringify(t),method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json","X-Csrf-Token":r||""}};return fetch(e,n).then((e=>{if(e.ok)return e.json();throw Error("Request failed: action")}))}(d,u).then((e=>{var t=r();n({...t,like:{count:t.like.count,isLiked:e.isDocumentLiked}})})).catch((e=>{console.error(e)}))}else gv()})),wv=(0,Ae.memo)((function(e){var t,{isMenu:r}=e,n=fi(),i=vi(yv),o=vi(bv),{isDisabled:a,reason:s}=vi(Gs),c=a?"teams-visitor"===s?"Like is not available for teams currently":"Like is not available for this publication":"Like",u=o?(t=o,Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1}).format(t)):"";return(0,Ae.useEffect)((()=>{a||n(Fl(Rl.BUTTON_LIKE))}),[n,a]),(0,X.jsx)(lv,{"data-testid":"like-button",disabled:a,icon:i?'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M20.56 7.28a5.38 5.38 0 0 0-2.93-2.86 5.57 5.57 0 0 0-5.63.8A5.43 5.43 0 0 0 8.5 4a5.57 5.57 0 0 0-5.06 3.28A5.27 5.27 0 0 0 3 9.38c0 .7.14 1.41.42 2.14.24.61.58 1.24 1 1.88a18.18 18.18 0 0 0 2.8 3.14c1.93 1.77 3.85 3 3.93 3.04l.5.32c.2.13.5.13.7 0l.5-.32c.08-.05 2-1.27 3.93-3.04a18.18 18.18 0 0 0 2.8-3.14c.42-.64.76-1.27 1-1.88.28-.73.42-1.45.42-2.13 0-.73-.15-1.44-.44-2.11Z"/></svg>':'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M20.56 7.28a5.38 5.38 0 0 0-2.93-2.86 5.57 5.57 0 0 0-5.63.8A5.43 5.43 0 0 0 8.5 4a5.57 5.57 0 0 0-5.06 3.28A5.27 5.27 0 0 0 3 9.38c0 .7.14 1.41.42 2.14.24.61.58 1.24 1 1.88a18.18 18.18 0 0 0 2.8 3.14c1.93 1.77 3.85 3 3.93 3.04l.5.32c.2.13.5.13.7 0l.5-.32c.08-.05 2-1.27 3.93-3.04a18.18 18.18 0 0 0 2.8-3.14c.42-.64.76-1.27 1-1.88.28-.73.42-1.45.42-2.13 0-.73-.15-1.44-.44-2.11ZM12 18.26S4.58 13.55 4.58 9.4c0-2.11 1.76-3.82 3.93-3.82 1.52 0 2.84.84 3.5 2.08a3.94 3.94 0 0 1 3.49-2.08c2.16 0 3.92 1.7 3.92 3.82 0 4.16-7.42 8.87-7.42 8.87Z"/></svg>',isMenu:r,onClick:()=>{n(zl(Rl.BUTTON_LIKE)),n(_v()),n(nl())},text:r?`Like ${u}`:u,tooltip:c})})),xv=(0,Ae.memo)((function(e){var{isMenu:t}=e,r=fi();return(0,Ae.useEffect)((()=>{r(Fl(Rl.BUTTON_MORE))}),[r]),(0,X.jsx)(lv,{"data-testid":"read-more-button",icon:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M5.96 8.99h3.73c.08 0 .14.06.14.14v.9c0 .08-.07.15-.14.15H5.96a.15.15 0 0 1-.15-.15v-.9c0-.08.07-.14.15-.14ZM5.96 11.77h3.73c.08 0 .14.07.14.15v.9c0 .08-.07.15-.14.15H5.96a.15.15 0 0 1-.15-.15v-.9c0-.08.07-.15.15-.15Z"/><path fill="currentColor" fill-rule="evenodd" d="M15.76 5h4.6c.35 0 .64.28.64.64v5.17a.2.2 0 0 1-.2.2h-1.05a.2.2 0 0 1-.2-.2V6.43h-3.79c-.71 0-1.4.2-2 .59l-.98.62-.14.09v9.2l.1-.05a.2.2 0 0 1 .28.18v1.2a.2.2 0 0 1-.1.17l-.84.54A.15.15 0 0 1 12 19a.17.17 0 0 1-.09-.03l-.89-.57a5.16 5.16 0 0 0-2.78-.8h-4.6a.64.64 0 0 1-.64-.64V5.64c0-.36.29-.64.64-.64h4.6c.99 0 1.95.28 2.78.81l.98.62.98-.62c.83-.53 1.8-.81 2.78-.81ZM4.45 16.16h3.79c1.1 0 2.16.27 3.12.78V7.73l-.14-.09-.98-.62a3.71 3.71 0 0 0-2-.59h-3.8v9.73Z" clip-rule="evenodd"/><path fill="currentColor" d="M14.17 10.03v-.9c0-.08.06-.14.14-.14h3.73c.08 0 .15.06.15.14v.9c0 .08-.07.15-.15.15h-3.73a.15.15 0 0 1-.14-.15Z"/><circle cx="15.21" cy="15.4" r="1" fill="currentColor"/><circle cx="18.31" cy="15.4" r="1" fill="currentColor"/><circle cx="21.41" cy="15.4" r="1" fill="currentColor"/></svg>',isMenu:t,onClick:()=>{r(ul("READ-MORE")),r(zl(Rl.BUTTON_MORE)),r(nl())},tooltip:"Read more"})})),Tv=la(us,(e=>!(!e||!e.showPublisherPreviewMessage))),Sv=la(Ya,Aa,Tv,us,((e,t,r,n)=>{var{documentPath:i}=e;return!(!n||n.customizedToNotShow&&t||!r&&!i)}));function Ev(e){return"SHARE"===e.controls.visiblePopup}var Iv=(0,Ae.memo)((function(e){var{isMenu:t}=e,r=fi(),n=vi(Tv);return(0,Ae.useEffect)((()=>{r(Fl(Rl.BUTTON_SHARE))}),[r]),(0,X.jsx)(lv,{"data-testid":"share-button",disabled:n,icon:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M16.67 15.1c-.56 0-1.07.2-1.47.55l-4.03-3.06c.07-.4.07-.79 0-1.18l4.03-3.06c.4.34.91.55 1.47.55A2.4 2.4 0 0 0 19 6.45 2.4 2.4 0 0 0 16.67 4a2.4 2.4 0 0 0-2.34 2.45c0 .24.03.46.1.68l-3.83 2.9a3.06 3.06 0 0 0-2.49-1.3A3.19 3.19 0 0 0 5 12c0 1.8 1.4 3.27 3.11 3.27 1.02 0 1.92-.52 2.49-1.3l3.82 2.9c-.06.22-.09.45-.09.68A2.4 2.4 0 0 0 16.67 20 2.4 2.4 0 0 0 19 17.55a2.4 2.4 0 0 0-2.33-2.45Zm0-9.71c.55 0 1 .47 1 1.06 0 .58-.45 1.06-1 1.06-.56 0-1.01-.48-1.01-1.06 0-.59.45-1.06 1-1.06Zm-8.56 8.4C7.17 13.8 6.4 13 6.4 12s.77-1.8 1.71-1.8 1.71.81 1.71 1.8-.77 1.8-1.7 1.8Zm8.56 4.82c-.56 0-1.01-.47-1.01-1.06 0-.58.45-1.06 1-1.06.56 0 1.02.48 1.02 1.06 0 .59-.46 1.06-1.01 1.06Z"/></svg>',isMenu:t,onClick:()=>{r(zl(Rl.BUTTON_SHARE)),r(ul("SHARE")),r(nl())},tooltip:n?"Share is not available":"Share"})})),kv=Vc((function(e,t){var{dispatch:r}=t;fv()?r(ul("STACKS")):gv()})),Mv=(0,Ae.memo)((function(e){var{isMenu:t}=e,r=fi(),n=Gr();return(0,Ae.useEffect)((()=>{r(Fl(Rl.BUTTON_STACKS))}),[r]),(0,X.jsx)(lv,{"data-testid":"stack-button",icon:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M5.3 10H4.2c-.11 0-.2.1-.2.22v8.55c0 .13.09.23.2.23h1.1c.1 0 .2-.1.2-.23v-8.54c0-.13-.1-.23-.2-.23ZM8.3 7H7.2c-.11 0-.2.1-.2.22v11.56c0 .12.09.22.2.22h1.1c.1 0 .2-.1.2-.22V7.22c0-.12-.1-.22-.2-.22ZM20.83 17.55H15.7c-.09 0-.17.07-.17.16v1.13c0 .08.08.16.17.16h5.12c.1 0 .17-.08.17-.16V17.7c0-.09-.08-.16-.17-.16Z"/><path fill="currentColor" d="M19 15.72v5.11c0 .1-.08.17-.17.17h-1.12c-.09 0-.16-.08-.16-.17v-5.11c0-.1.07-.17.16-.17h1.12c.1 0 .16.07.16.17ZM11.5 17.5v-11h7v6.84c0 .1.09.2.2.2h1.1a.2.2 0 0 0 .2-.2V5.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v13c0 .28.22.5.5.5h2.85a.2.2 0 0 0 .2-.2v-1.1a.2.2 0 0 0-.2-.2H11.5Z"/></svg>',isMenu:t,onClick:()=>{n?.trackUserAction(a.readerAddToStackButtonClicked()),r(zl(Rl.BUTTON_STACKS)),r(kv()),r(nl())},tooltip:"Add to a stack"})})),Av=5,Nv=3,Ov=["fullscreen","download","find","share","readMore","stack","like","flatPlan"];function jv(e){var{isFooter:t}=e,r=vi(Ws),n=vi(Bu),i=vi(Sv),o=vi(bs),a=vi(Gh),s=vi(Tp),c=vi(Ru),u=vi(sc),l={fullscreen:n,find:!0,download:a,share:i,readMore:s,stack:vi(cc),like:u,flatPlan:c},d=Ov.filter((e=>l[e])).length;if(!o)return{areFooterButtonsVisible:d>0,areMenuButtonsVisible:!1,isDownloadButtonVisible:l.download,isFindButtonVisible:l.find,isFlatPlanButtonVisible:!1,isFullscreenButtonVisible:l.fullscreen,isLikeButtonVisible:l.like,isReadMoreButtonVisible:l.readMore,isShareButtonVisible:l.share,isStacksButtonVisible:l.stack};var h=r?Nv:Av,p=d>h,f=[],g=[],m=Ov.filter((e=>l[e]));p&&g.push("menu"),m.forEach((e=>{g.length<h?g.push(e):f.push(e)}));var v=t?g:f;return{areFooterButtonsVisible:d>0,areMenuButtonsVisible:p,isDownloadButtonVisible:v.includes("download"),isFindButtonVisible:v.includes("find"),isFlatPlanButtonVisible:v.includes("flatPlan"),isFullscreenButtonVisible:v.includes("fullscreen"),isLikeButtonVisible:v.includes("like"),isReadMoreButtonVisible:v.includes("readMore"),isShareButtonVisible:v.includes("share"),isStacksButtonVisible:v.includes("stack")}}var Pv='<svg viewBox="0 0 24 24"><path fill="currentColor" d="M10.96 4H4.35c-.2 0-.35.16-.35.35v6.6c0 .2.16.35.35.35h6.6c.2 0 .35-.15.35-.34V4.35c0-.2-.15-.35-.34-.35ZM9.83 9.83H5.48V5.48h4.35v4.35ZM19.65 4h-6.6c-.2 0-.35.16-.35.35v6.6c0 .2.15.35.34.35h6.61c.2 0 .35-.15.35-.34V4.35c0-.2-.16-.35-.35-.35Zm-1.13 5.83h-4.35V5.48h4.35v4.35Zm-7.56 2.87H4.35c-.2 0-.35.15-.35.34v6.61c0 .2.16.35.35.35h6.6c.2 0 .35-.16.35-.35v-6.6c0-.2-.15-.35-.34-.35Zm-1.13 5.82H5.48v-4.35h4.35v4.35Zm9.82-5.82h-6.6c-.2 0-.35.15-.35.34v6.61c0 .2.15.35.34.35h6.61c.2 0 .35-.16.35-.35v-6.6c0-.2-.16-.35-.35-.35Zm-1.13 5.82h-4.35v-4.35h4.35v4.35Z"/></svg>',Cv=(0,Ae.memo)((function(e){var{isMenu:t}=e,r=fi();return(0,Ae.useEffect)((()=>{r(Fl(Rl.BUTTON_FLAT_PLAN))}),[r]),(0,X.jsx)(lv,{"data-testid":"read-more-button",icon:Pv,isMenu:t,onClick:()=>{r({type:Nu}),r(zl(Rl.BUTTON_FLAT_PLAN)),r(nl())},tooltip:"Grid view"})})),Dv=od().div(["color:var(--theme-main-color);flex:0 0 auto;font-size:",";font-weight:500;letter-spacing:0.3px;margin-left:4px;margin-right:4px;white-space:nowrap;@media (max-width:","px){font-size:",";min-width:","ch;text-align:right;}"],td,pa.mobileMax,ed,(e=>{var{maxSymbols:t}=e;return t}));function Lv(){var e=vi(Os).join("-"),t=vi(qa),r=t||1,n="DOUBLE_PAGE_SPREAD"===vi(Ps)&&r>2,i=r.toString().length*(n?3:2)+1.55+(n?1:0);return(0,X.jsxs)(Dv,{"data-testid":"page-numbers",maxSymbols:i,children:[e," / ",t]})}var Rv='<svg viewBox="0 0 24 24"><path fill="currentColor" d="M9.37 6.1a.17.17 0 0 0-.3-.1l-.95.95-2.9-2.9a.17.17 0 0 0-.25 0l-.92.92a.17.17 0 0 0 0 .25l2.9 2.9-.95.96a.17.17 0 0 0 .1.3l3.49.4c.1.02.2-.08.2-.2l-.42-3.47Zm.22 8.12-3.49.41c-.14.02-.2.2-.1.3l.96.95-2.9 2.9a.17.17 0 0 0 0 .25l.91.92c.07.06.18.06.25 0l2.9-2.9.95.94a.17.17 0 0 0 .3-.1l.41-3.48a.17.17 0 0 0-.2-.2Zm4.82-4.44 3.49-.41c.14-.02.2-.2.1-.3l-.96-.95 2.91-2.9a.17.17 0 0 0 0-.25l-.92-.92a.17.17 0 0 0-.25 0l-2.9 2.9-.95-.95a.17.17 0 0 0-.3.1l-.41 3.49c-.01.11.08.2.2.2Zm2.63 6.1.96-.96a.17.17 0 0 0-.1-.3l-3.49-.4a.17.17 0 0 0-.2.2l.42 3.47c.02.15.2.2.3.1l.95-.94 2.9 2.9c.07.07.18.07.25 0l.92-.92a.17.17 0 0 0 0-.25l-2.9-2.9Z"/></svg>',Bv='<svg viewBox="0 0 24 24"><path fill="currentColor" d="m6.95 5.74 1-1a.18.18 0 0 0-.1-.3L4.2 4a.18.18 0 0 0-.2.2l.43 3.64c.02.15.2.22.31.11l1-1L8.76 10c.07.07.19.07.26 0l.96-.96a.18.18 0 0 0 0-.25L6.95 5.74Zm8.02 4.25c.07.07.19.07.26 0l3.04-3.03.99 1a.18.18 0 0 0 .3-.12L20 4.21a.18.18 0 0 0-.2-.2l-3.64.42a.18.18 0 0 0-.11.31l1 1L14 8.77a.18.18 0 0 0 0 .26l.96.96Zm4.6 6.17a.18.18 0 0 0-.31-.11l-1 1L15.24 14a.18.18 0 0 0-.26 0l-.96.96a.18.18 0 0 0 0 .25l3.04 3.04-1 1a.18.18 0 0 0 .1.3l3.65.44c.11.01.21-.09.2-.2l-.43-3.64ZM9.03 14a.18.18 0 0 0-.26 0l-3.04 3.03-.99-1a.18.18 0 0 0-.3.12L4 19.79c-.01.12.09.22.2.2l3.64-.42c.15-.02.22-.2.11-.31l-1-1L10 15.23a.18.18 0 0 0 0-.26l-.96-.96Z"/></svg>',Uv=(0,Ae.memo)((function(){var e=fi(),t=vi(ps),r=t?Rv:Bv,n=t?"Exit":"Fullscreen";return(0,Ae.useEffect)((()=>{e(Fl(Rl.BUTTON_FULLSCREEN))}),[e]),(0,X.jsx)(uv,{"data-testid":"fullscreen-button",icon:r,onClick:()=>{e(Tl()),e(zl(Rl.BUTTON_FULLSCREEN)),e(nl())},tooltip:n})})),Fv=od()(lh)(["align-items:center;border-radius:4px;box-sizing:border-box;color:var(--theme-main-disabled-color);display:flex;height:32px;padding:0 5px;&:hover,&:not([disabled]):focus-visible{color:var(--theme-main-color);}@media (min-width:","px){height:40px;padding:0 8px;}@media (max-width:","px){height:24px;.issuu-branding-button--slim&{height:40px;}}& svg{height:16px;width:70px;@media (max-width:","px){height:12px;width:54px;}}"],pa.desktopMin,pa.mobileMax,pa.mobileMax),zv=(0,Ae.memo)((function(){var e=fi(),t=vi(ss),r=vi(Qs),n=vi(Ws),i=`https:${vi(_a)}${vi(Za)||"/explore"}${Xi(r||"")}`,o=t&&t.openInNewTab?"_blank":"_top",a=Yd()("issuu-branding-button",{"issuu-branding-button--slim":n});(0,Ae.useEffect)((()=>{e(Fl(Rl.BUTTON_LOGO))}),[e]);var s="Read more on Issuu",c=(0,Ae.useRef)(null),u=uh(s,c);return(0,X.jsx)(Fv,{adjustment:u,"aria-label":"Read more Publications on Issuu",className:a,"data-testid":"read-on-issuu","data-tooltip":s,href:i,icon:Sd,onClick:t=>{t.preventDefault(),e(nl()),e(zl(Rl.BUTTON_LOGO)),window.open(i,o)},ref:c,target:o})})),Gv=(0,Ae.memo)((function(){var e=fi();return(0,X.jsx)(uv,{"data-testid":"menu-button",icon:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M4 11.78a1.78 1.78 0 1 0 3.56 0 1.78 1.78 0 0 0-3.56 0Zm6.22 0a1.78 1.78 0 1 0 3.56 0 1.78 1.78 0 0 0-3.56 0Zm6.22 0a1.78 1.78 0 1 0 3.56 0 1.78 1.78 0 0 0-3.56 0Z"/></svg>',onClick:()=>{e(ul("MENU")),e(nl())},tooltip:"More"})}));function Hv(e,t){return{proportion:e,available:t}}var Wv=la(Ls,Rs,((e,t)=>e/t*100)),$v=la(Rs,Ya,Ds,ts,Ps,((e,t,r,n,i)=>{for(var o=e+1,a=[Hv(2,!0)],s=n?r.map((e=>rs(i,e))):[],c=1;c<o;c++){var u=a[a.length-1],l=!s.includes(c),d=2;"DOUBLE_PAGE_SPREAD"===i&&c<e&&(d=4),l===u.available?u.proportion+=d:a.push(Hv(d,l))}return a})),Vv=e=>{var t=(0,Ae.useRef)(null),r=(0,Ae.useRef)(!0),n=(0,Ae.useCallback)((()=>{var r=t.current;if(r){var n=r.getContext("2d"),i=getComputedStyle(r).getPropertyValue("--theme-main-color");if(n){var o=2*(r.parentNode.clientWidth+8);r.width=o,r.height=24,n.clearRect(0,0,o,1),n.fillStyle=i,e.markers.forEach((e=>{var t=Math.round(e*(o-8));n.beginPath(),n.moveTo(t+4,0),n.quadraticCurveTo(t+8,0,t+8,4),n.lineTo(t+8,20),n.quadraticCurveTo(t+8,24,t+8-4,24),n.quadraticCurveTo(t,24,t,20),n.lineTo(t,4),n.quadraticCurveTo(t,0,t+4,0),n.closePath(),n.fill()}))}}}),[e.markers]),i=(0,Ae.useCallback)((()=>{requestAnimationFrame(n)}),[n]);return(0,Ae.useEffect)(i),(0,Ae.useEffect)((()=>(window.addEventListener("resize",i),requestAnimationFrame(n),r.current=!0,document.fonts.ready.then((()=>{r.current&&n()})),()=>{r.current=!1,window.removeEventListener("resize",i)})),[n,i]),(0,X.jsx)("canvas",{className:"slider-markers",ref:t})},Yv=e=>{var{segment:t}=e,r=["slider__track"];t.available||r.push("slider__track--unavailable");var n={flex:t.proportion};return(0,X.jsx)("div",{className:r.join(" "),style:n})};function qv(e,t){return Math.min(Math.max(e/t*100,0),100)}var Zv=e=>{var{onChange:t,onChangeEnd:r,onChangeStart:n,onMouseMove:i,locked:o,markers:a,progress:s,segments:c,value:u,tooltip:l}=e,[d,h]=(0,Ae.useState)(!1),[p,f]=(0,Ae.useState)(!1),g=(0,Ae.useRef)(0),m=(0,Ae.useRef)(null),v=vi(Tg),y=vi(Uu),[b,_]=(0,Ae.useState)(0),w=(0,Ae.useRef)(b),x=(0,Ae.useRef)();(0,Ae.useEffect)((()=>{g.current===m.current?.clientWidth||y||(g.current=m.current?.clientWidth||0)}));var T=(0,Ae.useCallback)((e=>{f(!0),n();var r=qv(e[0].x,g.current);_(r),w.current=r,t(r)}),[t,n]),S=(0,Ae.useCallback)((e=>{x.current?.requestToIntercept();var r=qv(e[0].x,g.current);w.current=r,t(r,e[0].x)}),[t]),E=(0,Ae.useCallback)((()=>{f(!1),r(w.current)}),[r,f]),I=(0,Ae.useCallback)((()=>h(!0)),[]),k=(0,Ae.useCallback)((()=>h(!1)),[]),M=(0,Ae.useCallback)((e=>{var t=qv(e,g.current);i?.(t,e)}),[i]);(0,Ae.useEffect)((()=>{var e=m.current;return e&&v.timestamp&&(g.current=e.clientWidth,x.current=new ih(e,{onGestureStart:o?void 0:T,onGestureChange:o?void 0:S,onGestureEnd:o?void 0:E,onMouseEnter:I,onMouseMove:M,onMouseLeave:k})),()=>{x.current?.destroy()}}),[v.timestamp,o]);var A=Yd()("slider",{"slider--hover":d,"slider--locked":o}),N=p?w.current:s;return(0,X.jsxs)("div",{className:A,ref:m,children:[(0,X.jsxs)("div",{className:"slider__track-container-container",children:[(0,X.jsxs)("div",{className:"slider__track-container",children:[c.map(((e,t)=>(0,X.jsx)(Yv,{segment:e},t))),a&&!!a.length&&(0,X.jsx)(Vv,{markers:a,value:u})]}),(0,X.jsx)("div",{className:"slider__thumb",style:{left:`${N}%`}}),l&&(d||p)&&l]}),(0,X.jsx)("span",{style:{position:"absolute",visibility:"hidden"},children:u})]})},Qv=Vc((function(e,t){var{dispatch:r}=t;r({type:Qc,val:e}),r(il())})),Xv='<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19.83 11H4.17c-.1 0-.17.1-.17.21v1.58c0 .12.08.21.17.21h15.66c.1 0 .17-.1.17-.21v-1.58c0-.12-.08-.21-.17-.21Z"/></svg>',Jv=(0,id.keyframes)(["from{transform:scaleY(0.2);}to{transform:scaleY(1);}"]),Kv=(0,id.keyframes)(["from{transform:scaleY(1);}to{transform:scaleY(0.2);}"]),ey=od()(uv)(["svg{animation:"," 0.2s ease-in-out;}"],(e=>e.animation?"expand"===e.animation?Jv:Kv:"")),ty=[Hv(1,!0)],ry=(0,Ae.memo)((function(){var e=vi(Ms),t=(0,Ae.useRef)(!1),r=vi(Du);t.current=r;var n=vi(Ru),i=vi(As),o=vi(Tg),a=fi(),s=(0,Ae.useRef)(e),c=(0,Ae.useRef)(null),u=e=>{a(il()),o?.zoomCurrentView(e,!0),s.current=e},l=100/6*(e-1);(0,Ae.useEffect)((()=>{(()=>{if(!c.current)return!1;var e=window.getComputedStyle(c.current.parentNode);return e&&"none"!==e.display})()&&(a(Fl(Rl.BUTTON_ZOOMIN)),a(Fl(Rl.BUTTON_ZOOMOUT)),a(Fl(Rl.SLIDER_ZOOM)))}),[a]);var d=1===e,[h,p]=(0,Ae.useState)(d&&n?Pv:Xv),[f,g]=(0,Ae.useState)(""),m=d&&n?"Grid view":"Zoom out";return(0,Ae.useEffect)((()=>{var e;if(n)return d&&h!==Pv?(p(Pv),g("expand")):d||h!==Pv||(g("flatten"),e=setTimeout((()=>{g(""),p(Xv)}),190)),()=>clearTimeout(e)}),[d,n,h]),(0,X.jsxs)("div",{className:"zoom-controls",ref:c,children:[(0,X.jsx)("div",{className:"zoom-controls__button",children:(0,X.jsx)(ey,{animation:f,icon:h,id:"ird3-button-zoomout",onClick:()=>{1===e&&!r&&n?a(Cu(!0)):r?a(Cu(!1)):1!==e&&u(e-1),a(zl(Rl.BUTTON_ZOOMOUT)),a(nl())},tooltip:m})}),(0,X.jsx)("div",{className:"zoom-controls__slider",children:(0,X.jsx)(Zv,{onChange:e=>{t.current&&a(Cu(!1));var r=s.current,n=e/100*6+1;u(n),r!==n&&a(zl(Rl.SLIDER_ZOOM))},onChangeEnd:()=>{a(Qv(!0))},onChangeStart:()=>{a(Qv(!0))},progress:i,segments:ty,value:l})}),(0,X.jsx)("div",{className:"zoom-controls__button",children:(0,X.jsx)(ey,{icon:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.1 4h1.8c.16 0 .24.06.24.18v15.64c0 .12-.08.18-.24.18h-1.8c-.16 0-.24-.06-.24-.18V4.18c0-.12.08-.18.24-.18Z"/><path fill="currentColor" d="M4.19 10.86H19.8c.13 0 .19.08.19.24v1.8c0 .16-.06.24-.19.24H4.2c-.13 0-.19-.08-.19-.24v-1.8c0-.16.06-.24.19-.24Z"/></svg>',id:"ird3-button-zoomin",onClick:()=>{e>=7||(r?a(Cu(!1)):u(e+1),a(zl(Rl.BUTTON_ZOOMIN)),a(nl()))},tooltip:"Zoom in"})})]})})),ny=(0,Ae.memo)((function(){var e=vi(Fs),t=vi(bs),r=vi(Ws),{areFooterButtonsVisible:n,areMenuButtonsVisible:i,isDownloadButtonVisible:o,isFindButtonVisible:a,isFullscreenButtonVisible:s,isLikeButtonVisible:c,isReadMoreButtonVisible:u,isShareButtonVisible:l,isStacksButtonVisible:d,isFlatPlanButtonVisible:h}=jv({isFooter:!0});return n||!t?(0,X.jsxs)("div",{className:Yd()("controls-footer",{"controls-footer--slim":r}),children:[!t&&(0,X.jsxs)("div",{className:"controls-footer__section",children:[(0,X.jsx)("div",{className:"controls-footer__item",children:(0,X.jsx)(Lv,{})}),e&&(0,X.jsx)("div",{className:"controls-footer__item",children:(0,X.jsx)(zv,{})})]}),!t&&(0,X.jsx)("div",{className:"controls-footer__central-section",children:(0,X.jsx)(ry,{})}),(0,X.jsxs)("div",{className:Yd()("controls-footer__section",{"controls-footer__section--slim":r}),children:[h&&(0,X.jsx)("div",{className:"controls-footer__item",children:(0,X.jsx)(Cv,{})}),u&&(0,X.jsx)("div",{className:"controls-footer__item",children:(0,X.jsx)(xv,{})}),o&&(0,X.jsx)("div",{className:"controls-footer__item",children:(0,X.jsx)(dv,{})}),a&&(0,X.jsx)("div",{className:"controls-footer__item",children:(0,X.jsx)(pv,{})}),l&&(0,X.jsx)("div",{className:"controls-footer__item",children:(0,X.jsx)(Iv,{})}),d&&(0,X.jsx)("div",{className:"controls-footer__item",children:(0,X.jsx)(Mv,{})}),c&&(0,X.jsx)("div",{className:"controls-footer__item",children:(0,X.jsx)(wv,{})}),i&&(0,X.jsx)("div",{className:"controls-footer__item",children:(0,X.jsx)(Gv,{})}),s&&(0,X.jsx)("div",{className:"controls-footer__item",children:(0,X.jsx)(Uv,{})})]})]}):null})),iy=e=>Object.entries(e).reduce(((e,t)=>{var[r,n]=t;return"string"==typeof n&&e.push(`${r}=${encodeURIComponent(n)}`),e}),[]).join("&"),oy=e=>{var{url:t,params:r}=e,n=window.screen.width,i=window.screen.height,o=Math.round(n/2-275),a=i>420?Math.round(i/2-210):0;window.open(`${t}?${iy(r)}`,"",`scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,left=${o},top=${a}`)},ay=function(e){var{className:t,type:r,...n}=e,i=Yd()(t,"controls-input"),o=r||"text";return(0,X.jsx)("input",{type:o,...n,className:i})};function sy(e,t){var r=(0,Ae.useRef)(null),n=(0,Ae.useRef)(!1);return(0,Ae.useEffect)((()=>{var i=window.IntersectionObserver,o=r.current;if(i&&o&&!n.current&&e){var a=new i((r=>{r.forEach((r=>{r.isIntersecting&&r.intersectionRatio>0&&!n.current?(n.current=!0,t||a.unobserve(o),e()):n.current&&t&&(n.current=!1,t())}))}));return a.observe(o),()=>{n.current||a.unobserve(o)}}}),[e,t]),r}var cy=Vc((function(e,t){var{metrics:r,getState:n}=t,i=n(),o=Ya(i),a=o.documentPath;r.website({type:"document_share",doc_id:o.documentId,doc_creator:"user"===a.type?a.username:"",doc_name:"user"===a.type&&a.documentName?a.documentName:"",service:e})})),uy=od()(lh)(["border-radius:4px;font-size:12px;font-weight:500;height:inherit;padding:0 8px;width:auto;@media (max-width:","px){border:2px solid #fff;border-radius:8px;font-size:14px;height:40px;padding:0 16px;}"],pa.mobileMax),ly=(0,Ae.memo)((function(e){var{copyText:t}=e,r=fi(),[n,i]=(0,Ae.useState)(!1),o=(0,Ae.useRef)(null);return(0,Ae.useEffect)((()=>()=>{null!==o.current&&clearTimeout(o.current)}),[]),(0,X.jsx)(uy,{onClick:()=>{r(cy("link")),navigator.clipboard.writeText(t).then((()=>{i(!0),o.current=setTimeout((()=>{i(!1),o.current=null}),2e3)})).catch((e=>{console.error(e)}))},children:n?"Copied!":"Copy link"})})),dy=od().button(["",";"],ch);function hy(e){var t,r,{icon:n,description:i,tooltip:o,onClick:a}=e;return(0,X.jsx)(dy,{className:"share-options__social-button",dangerouslySetInnerHTML:{__html:(t=n,r=i,`${t}<span class="share-options__hidden-accessible-text">${r}</span>`)},"data-tooltip":o,onClick:a})}var py=e=>{var{isLarp:t}=e,r=fi(),n=vi(bs),i=vi(ya),o=vi(fh),a=vi(qa),s=vi(Xs),c=vi(Xa),u=vi(Ja),l=vi(js),d=(0,Ae.useRef)(null),[h,p]=(0,Ae.useState)(!1),[f,g]=(0,Ae.useState)(l),m=((e,t,r)=>{var n=`https:${e}${fa(t)}`;return r&&r>1?`${n}/${r}`:n})(i.main,s,h?f:void 0),v={url:m,title:u,description:u,imageUrl:c},y={hosts:i},b=()=>{t&&r(zl(Rl.LARP_ACTION)),r(nl())},_=sy((0,Ae.useCallback)((()=>{r(Fl(Rl.SHARE_EMAIL)),r(Fl(Rl.SHARE_FACEBOOK)),r(Fl(Rl.SHARE_TWITTER)),r(Fl(Rl.SHARE_PINTEREST)),r(Fl(Rl.SHARE_LINKEDIN)),t&&r(Fl(Rl.LARP_ACTION))}),[r,t])),w=(0,Ae.useCallback)((e=>{var t=e.target.value.replace(/\D+/g,"");if(""===t)g(void 0);else{var r=Math.max(1,Math.min(a,Number(t)));g(r)}p(!0)}),[a]);return(0,Ae.useEffect)((()=>{var e=d.current;e&&e.setSelectionRange(0,e.value.length)}),[]),(0,X.jsxs)("div",{className:n||t?"share-options-compact":"share-options",ref:_,children:[(0,X.jsxs)("div",{className:"share-options__page-selection-container",children:[(0,X.jsxs)("label",{className:"share-options__page-selection-checkbox-label",children:[(0,X.jsx)(Ch,{checked:h,className:"share-options__page-selection-checkbox-box",onChange:()=>{p(!h)}}),"Start at"]}),(0,X.jsx)(ay,{className:"share-options__page-number-input",max:a,min:1,onChange:w,type:"number",value:f})]}),(0,X.jsxs)("div",{className:"share-options__direct-link",children:[(0,X.jsx)("span",{className:"share-options__chain-icon-container",dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13.2924 15.1974C13.2611 15.1664 13.2188 15.149 13.1747 15.149C13.1306 15.149 13.0883 15.1664 13.057 15.1974L10.6362 17.6184C9.51545 18.7393 7.62384 18.858 6.38638 17.6184C5.14684 16.3787 5.26558 14.4891 6.38638 13.3682L8.80714 10.9472C8.87172 10.8826 8.87172 10.7764 8.80714 10.7118L7.978 9.88258C7.94667 9.85156 7.90437 9.83416 7.86029 9.83416C7.81621 9.83416 7.77391 9.85156 7.74259 9.88258L5.32183 12.3035C3.55939 14.0661 3.55939 16.9183 5.32183 18.6788C7.08427 20.4393 9.93627 20.4414 11.6966 18.6788L14.1174 16.2579C14.182 16.1933 14.182 16.087 14.1174 16.0225L13.2924 15.1974ZM18.6797 5.32194C16.9173 3.55935 14.0653 3.55935 12.3049 5.32194L9.8821 7.74289C9.85108 7.77422 9.83369 7.81652 9.83369 7.86061C9.83369 7.90469 9.85108 7.94699 9.8821 7.97832L10.7092 8.80544C10.7737 8.87003 10.88 8.87003 10.9446 8.80544L13.3653 6.38449C14.4861 5.2636 16.3777 5.14485 17.6152 6.38449C18.8547 7.62414 18.736 9.51381 17.6152 10.6347L15.1944 13.0556C15.1634 13.087 15.146 13.1293 15.146 13.1734C15.146 13.2174 15.1634 13.2598 15.1944 13.2911L16.0236 14.1203C16.0881 14.1849 16.1944 14.1849 16.259 14.1203L18.6797 11.6993C20.4401 9.93675 20.4401 7.08453 18.6797 5.32194ZM14.0445 9.09087C14.0131 9.05985 13.9708 9.04245 13.9268 9.04245C13.8827 9.04245 13.8404 9.05985 13.8091 9.09087L9.09046 13.8078C9.05944 13.8391 9.04204 13.8814 9.04204 13.9255C9.04204 13.9696 9.05944 14.0119 9.09046 14.0432L9.91543 14.8682C9.98001 14.9328 10.0863 14.9328 10.1508 14.8682L14.8674 10.1513C14.9319 10.0868 14.9319 9.9805 14.8674 9.91591L14.0445 9.09087Z"/></svg>'}}),(0,X.jsx)("input",{"aria-label":"document url",className:"share-options__input",readOnly:!0,ref:d,type:"text",value:m}),o&&(0,X.jsx)(ly,{copyText:m})]}),(0,X.jsxs)("div",{className:n||t?"share-options__socials-compact":"share-options__socials-regular",children:[(0,X.jsx)(hy,{description:"Share publication on Facebook",icon:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M22 12.07c0 5.02-3.66 9.19-8.44 9.93v-7.03h2.33l.44-2.9h-2.77v-1.9c0-.8.39-1.57 1.63-1.57h1.26V6.13s-1.14-.2-2.24-.2c-2.28 0-3.77 1.4-3.77 3.92v2.22H7.9v2.9h2.54V22A10.03 10.03 0 0 1 2 12.07C2 6.5 6.48 2 12 2s10 4.5 10 10.07Z"/></svg>',onClick:()=>{r(zl(Rl.SHARE_FACEBOOK)),r(cy("facebook")),b(),function(e){oy({url:"https://www.facebook.com/sharer.php",params:{u:e.url}})}(v)},tooltip:"Facebook"}),(0,X.jsx)(hy,{description:"Share publication on Pinterest",icon:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 2a10 10 0 0 0-3.64 19.32c-.1-.8-.17-2.01.03-2.88l1.17-4.97s-.3-.6-.3-1.48c0-1.4.81-2.43 1.81-2.43.86 0 1.27.64 1.27 1.4 0 .87-.55 2.15-.83 3.34-.24 1 .5 1.8 1.48 1.8 1.78 0 3.14-1.87 3.14-4.57 0-2.4-1.72-4.07-4.17-4.07a4.33 4.33 0 0 0-4.52 4.34c0 .86.33 1.78.75 2.28.08.1.09.19.07.29l-.28 1.13c-.05.18-.15.22-.34.13-1.25-.58-2.03-2.4-2.03-3.87 0-3.16 2.3-6.05 6.61-6.05 3.47 0 6.17 2.47 6.17 5.77 0 3.3-2.18 6.22-5.2 6.22-1 0-1.96-.52-2.29-1.14l-.62 2.37c-.22.87-.83 1.96-1.24 2.62A10 10 0 1 0 12 2Z"/></svg>',onClick:()=>{r(zl(Rl.SHARE_PINTEREST)),r(cy("pinterest")),b(),function(e){oy({url:"https://www.pinterest.com/pin/create/button",params:{description:e.title&&e.description&&e.title!==e.description?`${e.title}\n\n${e.description}`:e.title,url:e.url,media:e.imageUrl}})}(v)},tooltip:"Pinterest"}),(0,X.jsx)(hy,{description:"Share publication on X",icon:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13.675 10.622 20.233 3H18.68l-5.694 6.618L8.438 3H3.193l6.877 10.007L3.193 21h1.554l6.012-6.989L15.563 21h5.244l-7.13-10.378Zm-2.128 2.474-.697-.997-5.543-7.93h2.387l4.473 6.4.697.996 5.815 8.319h-2.386l-4.746-6.788Z"/></svg>',onClick:()=>{r(zl(Rl.SHARE_TWITTER)),r(cy("twitter")),b(),function(e,t){oy({url:"https://twitter.com/intent/tweet",params:{text:t.title,url:t.url,via:"issuu",related:"issuu",original_referer:`https://${e.hosts.main}`}})}(y,v)},tooltip:"X"}),(0,X.jsx)(hy,{description:"Share publication on LinkedIn",icon:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19.87 2.63H4.13c-.83 0-1.5.67-1.5 1.5v15.74c0 .83.67 1.5 1.5 1.5h15.74c.83 0 1.5-.67 1.5-1.5V4.13c0-.83-.67-1.5-1.5-1.5Zm0 17.25-15.75-.01.01-15.75 15.75.01-.01 15.75ZM5.4 9.64H8.2v8.95H5.4V9.65Zm1.4-1.22a1.61 1.61 0 1 0 0-3.23 1.61 1.61 0 0 0 0 3.23Zm5.91 5.75c0-1.17.22-2.3 1.67-2.3 1.42 0 1.44 1.33 1.44 2.37v4.35h2.78v-4.9c0-2.41-.52-4.27-3.33-4.27-1.35 0-2.26.74-2.63 1.45h-.04V9.65H9.93v8.95h2.78v-4.43Z"/></svg>',onClick:()=>{r(zl(Rl.SHARE_LINKEDIN)),r(cy("linkedin")),b(),function(e){oy({url:"https://www.linkedin.com/sharing/share-offsite",params:{url:e.url}})}(v)},tooltip:"LinkedIn"}),(0,X.jsx)(hy,{description:"Share publication on E-mail",icon:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M20.36 5H3.64a.64.64 0 0 0-.64.64v12.72c0 .36.29.64.64.64h16.72c.35 0 .64-.28.64-.64V5.64a.64.64 0 0 0-.64-.64Zm-.8 2.2v10.37H4.44V7.2l-.56-.42.8-1 .85.65h12.92l.86-.66.79 1-.56.43Zm-1.1-.77L12 11.4 5.54 6.43l-.86-.66-.79 1 .55.43 6.87 5.28a1.13 1.13 0 0 0 1.38 0l6.86-5.28.56-.42-.8-1-.85.65Z"/></svg>',onClick:()=>{r(zl(Rl.SHARE_EMAIL)),r(cy("email")),b(),function(e){var t={subject:e.title,body:`Check this out:\n\n${e.url}\n`};window.location.assign(`mailto:?${iy(t)}`)}(v)},tooltip:"E-mail"})]})]})};function fy(){return(0,X.jsx)("div",{className:"share-in-controls",children:(0,X.jsx)(py,{})})}var gy=Vc((function(e,t){var{isLarp:r,documentId:n,streamName:i,documentPath:o}=e,{metrics:a}=t,s=["reader",r?"larp":"read-more-widget",i];a.website({type:"document_click",doc_id:n,doc_creator:"user"===o.type?o.username:"",doc_name:"user"===o.type&&o.documentName?o.documentName:"",stream_ranking:0,stream_origin:s}),r&&a.monitor("reader3-larp-document-click",{},!0)})),my=Vc((function(e,t){var{isLarp:r,documentId:n,streamName:i,documentPath:o}=e,{metrics:a,visibilityTracking:s}=t;if(!s.has(n)){s.add(n);var c=["reader",r?"larp":"read-more-widget",i];a.website({type:"document_impression",doc_id:n,doc_creator:"user"===o.type?o.username:"",doc_name:"user"===o.type&&o.documentName?o.documentName:"",stream_ranking:0,stream_origin:c,page:1}),r&&a.monitor("reader3-larp-document-show")}})),vy=.7;function yy(e){var{item:t}=e,r=fi(),n=vi(ba)||"",i=vi(_p),o=function(e,t){return e.baseUrl+Xi(t)}(t,n),{documentId:a,documentPath:s,streamName:c,price:u}=t,l=sy((0,Ae.useCallback)((()=>{r(my({documentId:a,documentPath:s,isLarp:!1,streamName:c}))}),[r,s,c,a])),d=Math.max(t.coverRatio,vy);return(0,X.jsxs)("a",{className:"read-more-card",href:o,onClick:()=>{r(gy({documentId:a,documentPath:s,isLarp:!1,streamName:c}))},ref:l,rel:"noreferrer",style:{aspectRatio:d.toString()},target:i?"_blank":"_top",title:t.title,children:[(0,X.jsx)("div",{className:"read-more-card__loader",children:(0,X.jsx)(Wd,{size:Hd})}),u&&(0,X.jsx)("div",{className:"read-more-card__price",children:rp(u)}),(0,X.jsx)("div",{className:"read-more-card__content",style:{backgroundImage:`url(${t.imageUrl})`}})]})}function by(){var e=vi(wp).slice(0,6);return(0,X.jsx)("div",{className:"read-more","data-testid":"more-content",children:e.map((e=>(0,X.jsx)("div",{className:"read-more__item",children:(0,X.jsx)(yy,{item:e})},e.documentId)))})}function _y(){var{isLikeButtonVisible:e,isStacksButtonVisible:t,isReadMoreButtonVisible:r,isShareButtonVisible:n,isDownloadButtonVisible:i,isFindButtonVisible:o,isFlatPlanButtonVisible:a}=jv({isFooter:!1});return(0,X.jsxs)("div",{className:"controls-menu",children:[a&&(0,X.jsx)(Cv,{isMenu:!0}),e&&(0,X.jsx)(wv,{isMenu:!0}),t&&(0,X.jsx)(Mv,{isMenu:!0}),r&&(0,X.jsx)(xv,{isMenu:!0}),n&&(0,X.jsx)(Iv,{isMenu:!0}),i&&(0,X.jsx)(dv,{isMenu:!0}),o&&(0,X.jsx)(pv,{isMenu:!0})]})}var wy=(0,Ae.memo)((function(){var e=vi(Ev),t=vi(Au),r=vi(yp);return e||r||t?(0,X.jsxs)("div",{className:"controls-header",children:[e&&(0,X.jsx)(fy,{}),r&&(0,X.jsx)(by,{}),t&&(0,X.jsx)(_y,{})]}):null})),xy=od().div.attrs((e=>{var{styles:t}=e;return{style:t}}))(["background-color:",";border-radius:0px 0px 8px 8px;bottom:","px;box-shadow:",";display:flex;flex-direction:column;overflow:auto;pointer-events:none;position:absolute;z-index:",";"],Ql,35,"0 0.0625rem 0.25rem 0 #00000021, 0 0.25rem 0.75rem 0 #0000001a",4),Ty=od().div(["align-items:center;background:rgba(26,26,26,0.7);color:",";display:flex;flex-direction:column;font-family:inherit;font-size:16px;font-style:normal;font-weight:500;justify-content:flex-end;line-height:150%;min-height:","px;padding:4px 0;@media (max-width:","px){font-size:14px;line-height:160%;}"],Ql,20,pa.mobileMax),Sy=(0,Ae.forwardRef)((function(e,t){var{tooltip:r,children:n,styles:i}=e;return(0,X.jsxs)(xy,{"data-testid":"navbar-thumbnail",styles:i,children:[n,(0,X.jsx)(Ty,{ref:t,children:r})]})})),Ey=120,Iy=od().div(["align-items:center;color:",";display:flex;font-size:0.6em;height:","px;justify-content:center;text-align:center;width:100%;"],Ql,Ey),ky=od().div(["display:flex;filter:",";flex:1 1 50%;justify-content:",";"],(e=>{var{$isBlurry:t}=e;return t?"blur(3px)":"none"}),(e=>{var{$align:t}=e;return t})),My=e=>({large:e.map((()=>!1)),small:e.map((()=>!1))}),Ay=e=>{var{mousePosition:t,pageSpread:r}=e,n=vi(Fc),i=vi(ms),o=vi(gs),a=vi(Gu),s=vi(Hu),c=o<i||o<=pa.mobileMax?1.8:2.4,[u,l]=(0,Ae.useState)(1),[d,h]=(0,Ae.useState)(),[p,f]=(0,Ae.useState)(.7),[g,m]=(0,Ae.useState)(!1),[v,y]=(0,Ae.useState)(My(r)),b=(0,Ae.useRef)(),_=(0,Ae.useRef)(null),w=_.current?.clientHeight??20,x=u>1?"large":"small",T=v.small.every((e=>e)),S=v.large.every((e=>e)),E=(0,Ae.useCallback)((()=>{b.current&&clearTimeout(b.current),Ey*c+w+70<i&&(b.current=setTimeout((()=>{l(c)}),900))}),[w,i,c]),I=(0,Ae.useCallback)((e=>n[e-1]?Nf(n[e-1],x):null),[n,x]);(0,Ae.useEffect)((()=>(T&&E(),()=>{clearTimeout(b.current)})),[T,E]),(0,Ae.useEffect)((()=>{l(1),f(.7),m(!1),y(My(r)),h(r);var e=setTimeout((()=>f(1)),100);return()=>{clearTimeout(e)}}),[r]),(0,Ae.useEffect)((()=>{d&&(1===d.length?[0,1]:d).map((e=>I(e+2))).forEach((e=>{e&&(e=>{(new Image).src=e})(e)}))}),[d,I]);var k,M,A,N,O=(0,Ae.useMemo)((()=>{if(d){var e=!1,t=d.map(((t,r)=>{var n=I(t);return n?(e=!0,(0,X.jsx)(ky,{$align:1===d.length?"center":1===r?"left":"right",$isBlurry:a&&!s&&1!==t,children:(0,X.jsx)("img",{alt:`Page ${t} thumbnail`,onError:()=>m(!0),onLoad:()=>{((e,t)=>{y((r=>{var n=[...r[t]];return n[e]=!0,{...r,[t]:n}}))})(r,x)},src:n,style:{width:"100%",objectFit:"cover",opacity:p,height:"100%",transition:"all 200ms ease-in"}})},t)):null}));return e?(0,X.jsx)(X.Fragment,{children:t}):void 0}}),[I,p,d,x,a,s]),j=S?u:1,P=O?84*r.length*j:0,C=w+(O?Ey:0),[D,L]=(M=(k=t.controlsX)>=0?k:0,A=84*r.length/2,[M-(N=84*r.length*c/2)<0?M-N-12:M+N>o?M+N-o+12:0,M-A<0?M-A-12:M+A>o?M+A-o+12:0]),R={width:P,marginLeft:-(P/2+(j>1?D:0)),left:t.slider+"%",minHeight:C,transform:1===j?`translateX(${-L}px)`:"initial",transition:j>1?"all 200ms ease-in, left 0ms":"initial"};return(0,X.jsx)(Sy,{ref:_,styles:R,tooltip:r.join(" - "),children:(0,X.jsx)(Dy,{isSpread:r.length>1,loadError:g,loaded:T,children:O})})},Ny=od().div(["display:flex;height:","px;width:100%;"],Ey),Oy=od().div(["background-color:",";flex-grow:1;height:100%;min-width:50%;"],Ql),jy=od().div(["background:linear-gradient( 270deg,#fff 71.56%,rgba(255,255,255,0.95) 96.74%,#f3f3f3 100%,#fff 100%,#fff 100% );height:100%;width:50%;"]),Py=od().div(["align-items:center;display:flex;flex:1;overflow:hidden;"]),Cy=od().div(["display:none;"]),Dy=e=>{var{loaded:t,children:r,loadError:n,isSpread:i}=e;return(0,X.jsx)(Py,{children:n?(0,X.jsx)(Iy,{children:"Preview unavailable"}):t&&r?r:!t&&r?(0,X.jsxs)(Ny,{children:[(0,X.jsx)(Oy,{}),i&&(0,X.jsx)(jy,{}),(0,X.jsx)(Cy,{children:r})]}):null})},Ly=(0,Ae.memo)((function(){var e=vi(qa),t=vi(Tg),r=vi(Ns),n=vi(Ps),i=vi(Wv),o=vi($v),a=vi(Uc),s=fi(),c=Ae.useRef(r);c.current=r;var u=Ae.useRef(0);(0,Ae.useEffect)((()=>{var e=document.querySelector(".controls-box"),t=e=>{u.current=e.clientX};return e instanceof HTMLDivElement&&e.addEventListener("pointermove",t),()=>{e instanceof HTMLDivElement&&e.removeEventListener("pointermove",t)}}),[]);var l=(0,Ae.useCallback)((()=>"DOUBLE_PAGE_SPREAD"===n?1+Math.ceil((e-1)/2):e),[n,e]),[d,h]=(0,Ae.useState)([0]),[p,f]=(0,Ae.useState)({slider:0,x:0,controlsX:0}),g=(0,Ae.useCallback)((t=>{if("DOUBLE_PAGE_SPREAD"===n){var r=Math.round(t/100*(l()-1)),i=0===r?1:2*r;return 1===i||i===e&&e%2==0?[i]:[i,i+1]}return[1+Math.round(t/100*(l()-1))]}),[l,e,n]),m=(0,Ae.useCallback)(((e,t)=>{var r=g(e);f((r=>({slider:e,x:t||r.x,controlsX:u.current}))),h((e=>e[0]!==r[0]?r:e))}),[g]),v=(0,Ae.useMemo)((()=>(0,X.jsx)(Ay,{mousePosition:p,pageSpread:d})),[d,p]);return(0,Ae.useEffect)((()=>{s(Fl(Rl.SLIDER_PAGES))}),[s]),(0,X.jsx)("div",{"data-testid":"page-controls-slider",children:(0,X.jsx)(Zv,{locked:1===e,markers:a,onChange:(e,t)=>{m(e,t),s(il())},onChangeEnd:e=>{t?.setSnapping(!0),t?.jumpToPositionByPercent(e),e!==c.current&&s(zl(Rl.SLIDER_PAGES)),s(Qv(!1))},onChangeStart:()=>{t?.setSnapping(!1),s(Qv(!0))},onMouseMove:m,progress:i,segments:o,tooltip:v,value:r})})}));function Ry(){var e=vi(bs),t=vi(Fs),r=vi(Ws),n=Yd()("controls-main",{"controls-main--slim-design":r});return(0,X.jsxs)("div",{className:n,children:[e&&(0,X.jsx)("div",{className:"controls-main__item",children:(0,X.jsx)(Lv,{})}),(0,X.jsx)("div",{className:"controls-main__item controls-main__item--slider",children:(0,X.jsx)(Ly,{})}),e&&t&&(0,X.jsx)("div",{className:"controls-main__item",children:(0,X.jsx)(zv,{})})]})}var By=(0,Ae.memo)((function(){var e=vi(zu),t=Ae.useRef(e),r=vi(Ws);t.current=e;var n=Yd()("controls-box",{"controls-box--hidden":!e}),i=Yd()("controls-box__container",{"controls-box__container--slim":r});return(0,X.jsxs)("div",{className:n,"data-testid":"controls-box",children:[(0,X.jsx)(wy,{}),(0,X.jsxs)("div",{className:i,children:[(0,X.jsx)(Ry,{}),(0,X.jsx)(ny,{})]})]})})),Uy='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 72"><path fill="currentColor" d="M41.36 46.12c.3.32.45.48.45.68 0 .2-.15.36-.45.68l-2.57 2.74c-.34.37-.51.55-.73.55-.21 0-.39-.18-.73-.55L24.64 36.68c-.3-.32-.45-.48-.45-.68 0-.2.15-.36.45-.68l12.7-13.54c.33-.37.5-.55.72-.55.22 0 .39.18.73.55l2.57 2.74c.3.32.45.48.45.68 0 .2-.15.36-.45.68L31.88 36l9.48 10.12Z"/></svg>';function Fy(e){var{children:t,...r}=e,n=vi(ec),i=vi(Ws),o=vi(Is),a=vi(zu),s=Yd()("navigation-arrows__button navigation-arrows__button--left",{"navigation-arrows__button--cta":n,"navigation-arrows__button--slim":!n&&i,"navigation-arrows__button--vertical":o,"navigation-arrows__button--invisible":!a});return(0,X.jsx)("button",{className:s,"data-testid":"button-previous-page",...r,children:(0,X.jsxs)(Ae.Fragment,{children:[(0,X.jsx)("div",{dangerouslySetInnerHTML:{__html:Uy}}),t]})})}function zy(e){var{children:t,...r}=e,n=vi(ec),i=vi(Ws),o=vi(Is),a=vi(zu),s=Yd()("navigation-arrows__button navigation-arrows__button--right",{"navigation-arrows__button--cta":n,"navigation-arrows__button--slim":!n&&i,"navigation-arrows__button--vertical":o,"navigation-arrows__button--invisible":!a});return(0,X.jsx)("button",{className:s,"data-testid":"button-next-page",...r,children:(0,X.jsxs)(Ae.Fragment,{children:[(0,X.jsx)("div",{dangerouslySetInnerHTML:{__html:Uy}}),t]})})}var Gy=(0,Ae.memo)((function(){var e=fi(),t=vi(Zu),r=vi(qu);return(0,Ae.useEffect)((()=>{r&&e(Fl(Rl.BUTTON_ARROW_BACKWARD)),t&&e(Fl(Rl.BUTTON_ARROW_FORWARD))}),[e,r,t]),(0,X.jsxs)(X.Fragment,{children:[r&&(0,X.jsx)(Fy,{"aria-label":"Previous page","data-testid":"button-previous-page",onClick:t=>{t.preventDefault(),e(zl(Rl.BUTTON_ARROW_BACKWARD)),e(nl()),e(ou())}}),t&&(0,X.jsx)(zy,{"aria-label":"Next page","data-testid":"button-next-page",onClick:t=>{t.preventDefault(),e(zl(Rl.BUTTON_ARROW_FORWARD)),e(nl()),e(au())}})]})})),Hy=od().div(["left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);z-index:",";"],3),Wy=od()(lh)(["backdrop-filter:blur(5px);background:var(--theme-controls-background-color);border:0;border-radius:8px;color:var(--theme-main-color);cursor:pointer;height:48px;padding:7px;transition:background 0.2s ease-out 0s,opacity 0.2s ease-out 0s;width:56px;",";&:hover,&:focus-visible{background:var(--theme-secondary-hover-color);}"],ch),$y=()=>{var e=fi(),t=vi(ps),r=t?Rv:Bv,n=t?"Exit":"Fullscreen";return(0,Ae.useEffect)((()=>{e(Fl(Rl.BUTTON_CTA_OVERLAY))}),[e]),(0,X.jsx)(Hy,{"data-tooltip":n,children:(0,X.jsx)(Wy,{icon:r,id:"ird3-button-fullscreen",onClick:()=>{e(zl(Rl.BUTTON_CTA_OVERLAY)),e(nl()),e(Tl())}})})},Vy=od().div(["height:100%;opacity:0.35;width:100%;"]),Yy=od().button(["background:transparent;border:1px solid #000;box-shadow:",";cursor:pointer;display:block;font-family:inherit;outline:none;overflow:hidden;padding:0;position:relative;transition:transform 0.2s ease-in-out;width:100%;&:hover{box-shadow:0 0.0625rem 0.25rem 0 #00000021,0 0.5rem 1.5rem 0 #0000001a;transform:scale(1.05);}&:focus-visible{box-shadow:0 0 0 4px #5f5de4 !important;}&::after{opacity:0 !important;}"],(e=>{var{isSelected:t}=e;return t?"0 0 0 4px #fff !important":"0 0.0625rem 0.25rem 0 #00000000, 0 0.5rem 1.5rem 0 #00000000"})),qy=od().img(["left:0;position:absolute;top:0;width:100%;"]),Zy=od().div(["align-items:center;background-color:#fff;border-radius:2px;bottom:4px;box-shadow:",";color:#000;display:flex;font-size:16px;font-style:normal;font-weight:500;height:24px;justify-content:center;line-height:150%;min-width:32px;padding:4px;position:absolute;right:4px;"],"0 0.0625rem 0.25rem 0 #00000021, 0 0.0625rem 0.5rem 0 #0000001a"),Qy=e=>{var{page:t,isSelected:r,onClick:n}=e,[i,o]=(0,Ae.useState)(!1),[a,s]=(0,Ae.useState)(!1),c=(0,Ae.useRef)(!0),u=(0,Ae.useRef)(!1),l=sy((0,Ae.useCallback)((()=>c.current&&!u.current&&s(!0)),[]),(0,Ae.useCallback)((()=>c.current&&!u.current&&h.current&&""===h.current.src),[])),d=t.testImageUri||Nf(t,"large")||"",h=(0,Ae.useRef)(),p=Math.max(.7,t.width/t.height/.99);return i&&(u.current=!0),(0,Ae.useEffect)((()=>{if(!i&&a&&(Af(d)||t.testImageUri)){var e=new Image;e.src=d,e.onload=()=>c.current&&o(!0),h.current=e}return()=>{i||!h.current||a||(h.current.src="")}}),[d,a,i,t]),(0,Ae.useEffect)((()=>(c.current=!0,()=>{c.current=!1}))),(0,X.jsxs)(Yy,{isSelected:r,onClick:n,ref:l,style:{aspectRatio:`${p}`},children:[i&&a?(0,X.jsx)(qy,{alt:"",className:"flat-plan__page-image",src:d}):(0,X.jsx)(Vy,{children:a&&(0,X.jsx)($d,{})}),(0,X.jsx)(Zy,{children:t.pageNumber})]})},Xy=function(e){return e.PageClick="PageClick",e.CloseButton="CloseButton",e.EscPress="EscPress",e}(Xy||{}),Jy=od().div(["align-self:end;"]),Ky=(0,id.keyframes)(["from{scale:0.5}to{scale:1}"]),eb=(0,id.css)(["animation-duration:","s;animation-name:",";"],(e=>{var{duration:t}=e;return t>2?2:t}),Ky),tb=od()(Jy)(["transition:transform 0.2s ease-in;",";"],(e=>{var{duration:t}=e;return t&&eb})),rb=od().div(["position:absolute;right:24px;top:12px;z-index:999;"]),nb=od()(lh)(["--theme-main-color:#fff;--theme-secondary-hover-color:#333;--theme-secondary-active-color:#4d4d4d;--theme-controls-background-color:rgba(26,26,26,0.7);align-items:center;backdrop-filter:blur(5px);background:var(--theme-controls-background-color);border:none;border-radius:8px;display:flex;height:36px;justify-content:center;position:sticky;width:36px;z-index:1;@media screen and (max-width:768px){height:48px;width:48px;}&:focus-visible{outline:none;}"]),ib=e=>{var{visible:t,metrics:r}=e,n=vi(Fc),i=vi(js),o=(0,Ae.useRef)(null),a=fi(),s=(0,Ae.useRef)();s.current=t;var c=(0,Ae.useCallback)((e=>{r.monitor("reader3-flat-plan",{exit:1,[`exitBy${e}`]:1})}),[r]),u=(0,Ae.useCallback)((()=>{c(Xy.CloseButton),a(Cu(!1))}),[a,c]);(0,Ae.useEffect)((()=>{if(t){var e=document.querySelector(`#flat-plan-page-${i}`);e&&o.current&&(o.current.scrollTop=e.getBoundingClientRect().top-o.current.clientHeight/2+70,e.querySelector("button")?.focus())}}),[i,t,c]);var l=(0,Ae.useMemo)((()=>{var e=i>15?i-15:0;return t?n.map(((r,n)=>{var o={id:`flat-plan-page-${r.pageNumber}`,key:`${n}${t}`,children:(0,X.jsx)(Qy,{isSelected:i===r.pageNumber,onClick:()=>{var e;e=r.pageNumber,c(Xy.PageClick),a(function(e){return(t,r)=>{t(function(e){return{type:Zc,pageNumber:e}}(e));var n=r().canvasApi;n&&n.goToPage(e)}}(e)),a(Cu(!1))},page:r},n)};return n-35>i||n+35<i?(0,X.jsx)(Jy,{...o}):(0,X.jsx)(tb,{...o,duration:.075*(n-e)+.3})})):null}),[n,t,i,a,c]);(0,Ae.useEffect)((()=>{var e=e=>{"Escape"===e.key&&s.current&&(c(Xy.EscPress),a(Cu(!1)))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[a,c]),(0,Ae.useEffect)((()=>{a(Fl(Rl.FLAT_PLAN))}),[a]),(0,Ae.useEffect)((()=>{t&&a(zl(Rl.FLAT_PLAN))}),[a,t]);var d=Yd()("flat-plan__container",{"flat-plan--disabled":!t});return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)("div",{className:d,children:(0,X.jsx)("div",{className:"flat-plan",ref:o,children:l})}),t&&(0,X.jsx)(rb,{children:(0,X.jsx)(nb,{dangerouslySetInnerHTML:{__html:dh},onClick:u})})]})},ob="SMARTZOOM_TUTORIAL_SEEN",ab=(0,id.keyframes)(["from{opacity:0;transform:translateY(-115px);}to{opacity:1;transform:translateY(-100px);}"]),sb=(0,id.keyframes)(["from{opacity:1;transform:translateY(-100px);}to{opacity:0;transform:translateY(-85px);}"]),cb=(0,id.css)(["animation:"," 0.25s ease-out forwards;display:block;"],ab),ub=(0,id.css)(["animation:"," 0.2s ease-in forwards;display:block;"],sb),lb=od().div(["background-color:",";border-radius:",";color:",";display:none;font-size:",";left:calc(50% - 50px - ",");line-height:1.4;padding:"," ",";pointer-events:none;position:absolute;text-align:center;top:50%;width:100px;",""],Zl,Jl,Ql,Kl,nd,rd,nd,(e=>{var{uiState:t}=e;return"FADE_IN"===t?cb:"FADE_OUT"===t?ub:void 0})),db=(0,Ae.memo)((function(){var e=vi(Gp),t=fi(),r=(0,Ae.useRef)(!1),n=(0,Ae.useCallback)((e=>{t({type:"SET_SMARTZOOM_TUTORIAL_VISIBILITY",visibility:e})}),[t]);if((0,Ae.useEffect)((()=>{"VISIBLE"!==e||r.current||(function(){try{window.localStorage.setItem(ob,"true")}catch(e){}}(),r.current=!0)}),[e]),(0,Ae.useEffect)((()=>{if("HIDDEN_INITIAL"!==e){if("HIDDEN_FINAL"!==e){if("HIDDEN_RESET"!==e){var t=function(e,t){if("VISIBLE"===e||"HIDDEN_READY"===e){var r="VISIBLE"===e;return setTimeout((()=>{t(r?"HIDDEN_FINAL":"VISIBLE")}),r?2e3:1e3)}}(e,n);return()=>{"number"==typeof t&&clearTimeout(t)}}n("HIDDEN_READY")}}else(function(){try{return"true"===window.localStorage.getItem(ob)}catch(e){return!1}})()||n("HIDDEN_READY")}),[n,e]),"HIDDEN_INITIAL"===e)return null;var i=function(e){return"VISIBLE"===e?"FADE_IN":"HIDDEN_FINAL"===e?"FADE_OUT":"HIDDEN"}(e);return(0,X.jsxs)(lb,{uiState:i,children:[(0,X.jsx)("div",{dangerouslySetInnerHTML:{__html:'<svg width="24" height="24" viewBox="0 0 512 512"><path fill="currentColor" d="M396.3 274.7c0-.6-.1-1.2-.3-1.8-4.5-19.5-17.5-31.7-33.9-31.7-4.8 0-9.4 1-13.6 2.8a34.22 34.22 0 0 0-32.4-23.5c-5.6 0-10.9 1.4-15.5 3.8a34.06 34.06 0 0 0-30.5-18.8c-4.2 0-8.2.8-11.9 2.1V166c0-18.8-15.3-34.2-34.2-34.2-18.8 0-34.2 15.3-34.2 34.2v142.6l-12.4-21.5c-4.6-8.3-11.9-14-20.7-16.2-8.5-2.1-17.6-.6-25.1 4.1-12.6 8-16.6 25.9-10.3 45.4 0 .1.1.2.1.3 1.3 3.9 33.4 94.8 71.6 132.9 2.2 2.2 5 3.3 7.9 3.3a11.2 11.2 0 0 0 7.9-19.1c-34-33.9-64.9-120.6-66.3-124.4-2.8-8.8-2.3-17.4 1.1-19.6 2.3-1.4 5-1.9 7.6-1.3 2.8.7 5 2.6 6.7 5.6l33.3 57.7c2.5 4.4 7.7 6.5 12.5 5.2 4.9-1.3 8.3-5.7 8.3-10.8V166.1c0-6.5 5.3-11.9 11.9-11.9 6.5 0 11.9 5.3 11.9 11.9v127.7c0 6.2 5 11.1 11.1 11.1 6.2 0 11.1-5 11.1-11.1v-55.1c0-.1.1-.2.1-.3.6-6 5.7-10.6 11.8-10.6 6.5 0 11.9 5.3 11.9 11.9v58.2c0 6.2 5 11.1 11.1 11.1 6.2 0 11.1-5 11.1-11.1v-43.1c0-6.5 5.3-11.9 11.9-11.9 6.5 0 11.9 5.3 11.9 11.9v14.9c0 .7.1 1.4.2 2.1-.1 1.2-.2 2.4-.2 3.7V298c0 6.2 5 11.1 11.1 11.1s11.1-5 11.1-11.1v-22.5c0-6.5 5.3-11.9 11.9-11.9 7.5 0 10.8 8.9 11.9 13.5.6 10.9 5.7 112.3-13.3 158.9a11.12 11.12 0 1 0 20.6 8.4c22.2-53.8 15.5-165 15.2-169.7z"/><path fill="currentColor" d="M278.4 192.2c5.9 1.7 12.1-1.6 13.9-7.5a72 72 0 0 0 2.9-20.2c0-39.2-31.9-71.2-71.2-71.2-39.2 0-71.2 31.9-71.2 71.2 0 8.7 1.5 17.2 4.6 25.2a11.07 11.07 0 0 0 14.3 6.5c5.8-2.2 8.7-8.6 6.5-14.4-2.1-5.5-3.2-11.3-3.2-17.3 0-26.9 21.9-48.9 48.9-48.9a48.97 48.97 0 0 1 46.9 62.8c-1.7 5.9 1.7 12.1 7.6 13.8z"/><path fill="currentColor" d="M136.5 220.5c1.7 0 3.5-.4 5.1-1.2 5.5-2.8 7.6-9.5 4.8-15a85.64 85.64 0 0 1-9.6-39.8c0-48.1 39.1-87.2 87.2-87.2s87.2 39.1 87.2 87.2c0 7.6-1 15.1-2.9 22.4-1.6 6 2 12.1 7.9 13.6 6 1.6 12.1-2 13.6-7.9 2.4-9.1 3.6-18.5 3.6-28.1 0-60.4-49.1-109.5-109.5-109.5s-109.5 49.1-109.5 109.5c0 17.3 4.2 34.6 12 49.9 2.1 3.9 6 6.1 10.1 6.1z"/></svg>'}}),(0,X.jsx)("div",{children:"Double tap on text to zoom"})]})})),hb=["more-from-publisher","more-from-others"],pb=Vc((function(e,t){var{getState:r,dispatch:n}=t,i=r(),o=i.config.origins,a=i.metadata.documentPath;Promise.allSettled([gp(hb[0],o,a),gp(hb[1],o,a)]).then((e=>{var t=e.map(((e,t)=>"fulfilled"===e.status?e.value.map((e=>({...e,streamName:hb[t]}))):[])).flat();n((e=>({type:"RECOMMENDATIONS_LOADED",data:e}))(t))})).catch((()=>!0))})),fb=od().a(["align-self:center;aspect-ratio:",";background-image:url(",");background-size:cover;box-shadow:0 5px 100px 0 inset black;color:lightgray;cursor:pointer;display:flex;flex-direction:column;font-size:11px;margin-right:8px;max-height:100%;max-width:100%;padding:4px;transition:transform 0.1s ease-in;width:auto;&:hover{transform:scale(0.95);}"],(e=>{var{aspectRatio:t}=e;return t}),(e=>{var{background:t}=e;return t})),gb=od().div(["-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:3;overflow:hidden;word-break:break-word;"]),mb=od()(gb)(["color:white;font-size:14px;"]),vb=e=>{var{document:t}=e,r=vi((e=>e.config.origins)),n=t.testImage||((e,t)=>`https://${e}/${t}/jpg/page_1_thumb_large.jpg`)(r.image,t.documentId),i=fi(),{coverRatio:o,docUrl:a,documentId:s,ownerUsername:c,publicationId:u,publicationName:l,streamName:d,title:h,type:p}=t,f=`${r.main}/${a}`,g=(0,Ae.useMemo)((()=>"user"===p?{type:p,username:c,documentName:l}:{type:"pub_id",publicationId:u}),[p,c,l,u]),m=(0,Ae.useCallback)((e=>{e.preventDefault(),i(gy({documentId:s,documentPath:g,isLarp:!0,streamName:d})),window.top?window.top.location.href=f:window.location.href=f}),[i,g,d,s,f]),v=sy((0,Ae.useCallback)((()=>{i(my({documentId:s,documentPath:g,isLarp:!0,streamName:d}))}),[i,g,d,s]));return(0,X.jsx)(fb,{aspectRatio:o,background:n,href:f,onClick:m,ref:v,target:"_top",children:(0,X.jsx)(mb,{children:h})})},yb=od().div(["align-items:start;align-self:center;display:grid;grid-auto-columns:0;grid-auto-rows:0;grid-gap:8px;grid-template-columns:",";grid-template-rows:",";height:calc(100% - 48px);justify-content:center;"],(e=>{var{narrow:t}=e;return t?"1fr 1fr":"repeat(auto-fit, minmax(140px, 17vw))"}),(e=>{var{narrow:t}=e;return t?"0.5fr 0.5fr":"repeat(auto-fit, minmax(200px, 35vh))"})),bb=(0,id.keyframes)(["from{opacity:0.5;scale:0.5;}to{opacity:1;scale:1;}"]),_b=od().div(["animation-duration:","s;animation-name:",";max-height:100%;max-width:100%;overflow:hidden;"],(e=>{var{duration:t}=e;return t}),bb),wb=e=>{var{documents:t,narrowView:r}=e;return(0,X.jsx)(yb,{narrow:r,children:t.map(((e,t)=>(0,X.jsx)(_b,{duration:.1*t+.3,children:(0,X.jsx)(vb,{document:e})},t)))})},xb=od().div(["align-items:center;display:flex;flex-direction:column;height:calc(100% - 48px);justify-content:start;margin-right:24px;width:100%;"]),Tb=od().h3(["height:24px;margin:0 0 24px;"]),Sb=od().img(["height:auto;margin:24px 0;max-height:calc(100% - 120px - 24px - 24px - 60px);max-width:100%;width:auto;"]),Eb=od()(gb)(["font-style:italic;user-select:auto;"]),Ib=od().div(["flex:0 0 260px;height:100%;margin-right:24px;"]),kb=()=>{var e=vi(Xa),t=vi(Xs);return(0,X.jsxs)(Ib,{children:[(0,X.jsx)(Tb,{children:"Share your thoughts"}),(0,X.jsxs)(xb,{children:[(0,X.jsx)(py,{isLarp:!0}),(0,X.jsx)(Sb,{alt:"Current publication cover",src:e}),"user"===t.type&&(0,X.jsxs)(Eb,{children:[t.documentName," by ",t.username]})]})]})},Mb=od().div(["background:rgba(0,0,0,0.95);box-shadow:0 0 30px 0 black;color:white;display:flex;height:calc(100% - 88px - 0.75rem - 0.75rem);opacity:",";overflow:hidden;position:absolute;right:0;top:0;transform:translateX(","px);transition:opacity 150ms ease-in,transform 150ms ease-in;width:calc(100% - 80px);z-index:3;@media (max-width:","px){width:calc(100% - 48px);}"],(e=>{var{isVisible:t}=e;return t?1:0}),(e=>{var{isVisible:t}=e;return t?0:100}),pa.mobileMax),Ab=od().div(["display:flex;flex-grow:1;justify-content:center;"]),Nb=od().div(["align-items:center;display:flex;flex-direction:",";flex-grow:1;justify-content:start;overflow:hidden;padding:12px;@media (min-width:","px){padding:24px;}"],(e=>{var{narrow:t}=e;return t?"column":"row"}),pa.tabletMin),Ob=od().p(["left:0;margin:0;position:absolute;right:15px;text-align:center;top:calc(50% + ",");width:100%;z-index:3;"],36),jb=od().div(["flex-grow:1;height:100%;width:100%;"]),Pb=(0,Ae.memo)((function(){var e=fi(),t=vi(Ls),r=vi(Rs),n=vi(Vl),i=vi($l),o=vi(gs),a=vi(ms),[s,c]=(0,Ae.useState)(!1),u=(0,Ae.useRef)(null),l=t===r,d=n.length>0,h=(0,Ae.useCallback)((t=>e({type:"SET_LAST_PAGE_ACTIONS_VISIBLE",visible:t})),[e]);(0,Ae.useEffect)((()=>{e(pb()),e(Fl(Rl.LARP_PAGE))}),[e]),(0,Ae.useEffect)((()=>vd(window,"touchmove",(e=>{i||(e.preventDefault(),e.touches[0].clientX>(u.current?.offsetWidth??9999)&&h(!0))}))),[h,i]),(0,Ae.useEffect)((()=>{if(!i){var t=setTimeout((()=>{c(i)}),200);return()=>{clearTimeout(t)}}c(i),e(zl(Rl.LARP_PAGE))}),[e,i]),(0,Ae.useEffect)((()=>{!l&&i&&h(!1)}),[l,i,h]);var p=d?n.slice(1,n.length):[],f=o<500,g=i||!i&&s;return d&&l?(0,X.jsxs)("div",{children:[i?(0,X.jsx)(Fy,{"aria-label":"Return to document",onClick:()=>h(!1),style:{height:"100%"}}):(0,X.jsx)(zy,{"aria-label":"End of document",onClick:()=>h(!0),children:(0,X.jsx)(Ob,{children:"Next"})}),g&&(0,X.jsx)(Mb,{isVisible:s&&i,ref:u,children:(0,X.jsx)(Ab,{children:(0,X.jsxs)(Nb,{narrow:f,children:[a>550&&!f&&(0,X.jsx)(kb,{}),(0,X.jsxs)(jb,{children:[(0,X.jsx)(Tb,{children:"What's next"}),(0,X.jsx)(wb,{documents:p,narrowView:f})]})]})})})]}):null}));function Cb(e){return"STACKS"===e.controls.visiblePopup}var Db="/call/reader",Lb=(0,X.jsx)("img",{alt:"eye-invisible-icon",className:"stacks-modal__icon",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJjdXJyZW50Q29sb3IiPgogICAgPHBhdGggZD0iTTE3LjU5MTEgOC4zNTA0MkMxOC40ODEzIDkuMTk5MzUgMTkuMjQ5IDEwLjI5NjQgMTkuODk0IDExLjY0MTVDMTkuOTYzOCAxMS43ODc4IDIwIDExLjk0NzUgMjAgMTIuMTA5MkMyMCAxMi4yNzA5IDE5Ljk2MzggMTIuNDMwNyAxOS44OTQgMTIuNTc2OUMxOC4xNTgxIDE2LjIxMzEgMTUuNTI2OCAxOC4wMzEyIDEyIDE4LjAzMTJDMTAuNzI3NyAxOC4wMzEyIDkuNTcxNzIgMTcuNzkzNSA4LjUzMTkgMTcuMzE4M0w5LjU0MzUyIDE2LjMxN0MxMC4yOTIyIDE2LjU4OCAxMS4xMTEgMTYuNzIzNSAxMiAxNi43MjM1QzE0Ljk2MTYgMTYuNzIzNSAxNy4xMjg3IDE1LjIzNzcgMTguNjU1NCAxMi4xMTAxQzE4LjA4MiAxMC45MzY4IDE3LjQxODggOS45OTQ2OSAxNi42NTc1IDkuMjc0NTRMMTcuNTkxMSA4LjM1MDQyWiIgZmlsbD0iIzFBMUExQSIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNy45NDUzIDUuMDQyNjJMMTguNzI3NSA1LjgxNzhDMTguNzQxMiA1LjgzMTMgMTguNzUyIDUuODQ3MzIgMTguNzU5NCA1Ljg2NDk2QzE4Ljc2NjggNS44ODI2IDE4Ljc3MDYgNS45MDE1MSAxOC43NzA2IDUuOTIwNkMxOC43NzA2IDUuOTM5NyAxOC43NjY4IDUuOTU4NjEgMTguNzU5NCA1Ljk3NjI1QzE4Ljc1MiA1Ljk5Mzg4IDE4Ljc0MTIgNi4wMDk5MSAxOC43Mjc1IDYuMDIzNEw1LjY1OTgxIDE4Ljk1NzVDNS42MzIyOCAxOC45ODQ3IDUuNTk0OTYgMTkgNS41NTYwNCAxOUM1LjUxNzEzIDE5IDUuNDc5OCAxOC45ODQ3IDUuNDUyMjggMTguOTU3NUw0LjY2ODkzIDE4LjE4MjFDNC42NDE0MiAxOC4xNTQ5IDQuNjI1OTcgMTguMTE3OSA0LjYyNTk3IDE4LjA3OTRDNC42MjU5NyAxOC4wNDA5IDQuNjQxNDIgMTguMDAzOSA0LjY2ODkzIDE3Ljk3NjdMNi42MTA2OSAxNi4wNTUyQzUuNjM0MzcgMTUuMTgzMyA0Ljc5OTQ2IDE0LjAyNDUgNC4xMDU5NiAxMi41Nzg3QzQuMDM2MTkgMTIuNDMyNSA0IDEyLjI3MjcgNCAxMi4xMTFDNCAxMS45NDkzIDQuMDM2MTkgMTEuNzg5NiA0LjEwNTk2IDExLjY0MzNDNS44NDE4NCA4LjAwNzE0IDguNDczMTggNi4xODkwNSAxMiA2LjE4OTA1QzEzLjM4MDYgNi4xODkwNSAxNC42MjQyIDYuNDY4NzYgMTUuNzMwNyA3LjAyODE3TDE3LjczNzYgNS4wNDI2MkMxNy43NTEyIDUuMDI5MTEgMTcuNzY3NCA1LjAxODM5IDE3Ljc4NTIgNS4wMTEwOEMxNy44MDMgNS4wMDM3NiAxNy44MjIxIDUgMTcuODQxNCA1QzE3Ljg2MDcgNSAxNy44Nzk4IDUuMDAzNzYgMTcuODk3NiA1LjAxMTA4QzE3LjkxNTUgNS4wMTgzOSAxNy45MzE3IDUuMDI5MTEgMTcuOTQ1MyA1LjA0MjYyWk0xMiA3LjQ5Njc3QzkuMDQwMTkgNy40OTY3NyA2Ljg3MzA5IDguOTgyNDggNS4zNDQ1NiAxMi4xMTAxQzUuOTY4NDUgMTMuMzg2NiA2LjY5ODc3IDE0LjM4OTQgNy41NDU5NyAxNS4xMjk1TDkuMDc2NyAxMy42MTQ0QzguNzUwNzUgMTMuMDA5NyA4LjYyOTc3IDEyLjMxNzMgOC43MzE2MyAxMS42MzkzQzguODMzNDkgMTAuOTYxNCA5LjE1Mjc4IDEwLjMzMzggOS42NDI0MSA5Ljg0OTJDMTAuMTMyIDkuMzY0NTUgMTAuNzY2MSA5LjA0ODUxIDExLjQ1MSA4Ljk0NzY5QzEyLjEzNTkgOC44NDY4NyAxMi44MzU0IDguOTY2NjEgMTMuNDQ2MyA5LjI4OTI1TDE0LjczNjMgOC4wMTI0MUMxMy45MTA3IDcuNjY2NzcgMTMuMDAwOCA3LjQ5Njc3IDEyIDcuNDk2NzdaTTEwLjA5NTEgMTEuMTg4N0M5Ljk0ODM5IDExLjQ3NDIgOS44NzE3NSAxMS43ODk4IDkuODcxNDMgMTIuMTEwMUM5Ljg3MTE5IDEyLjMyMDkgOS45MDQwNyAxMi41MzA1IDkuOTY4ODYgMTIuNzMxM0wxMi41NTQyIDEwLjE3MjNDMTIuMjQ1OSAxMC4wNzQ5IDExLjkxODggMTAuMDUwOSAxMS41OTk0IDEwLjEwMjFDMTEuMjggMTAuMTUzNCAxMC45NzczIDEwLjI3ODUgMTAuNzE1OSAxMC40NjczQzEwLjQ1NDYgMTAuNjU2MSAxMC4yNDE5IDEwLjkwMzMgMTAuMDk1MSAxMS4xODg3WiIgZmlsbD0iIzFBMUExQSIvPgogICAgPHBhdGggZD0iTTEyLjA5MzEgMTQuMzIwMkMxMi4xNTU5IDE0LjMyNTkgMTIuMjE5MyAxNC4zMjg4IDEyLjI4MzYgMTQuMzI4OEMxMi41NTcxIDE0LjMyOSAxMi44Mjc5IDE0LjI3NjEgMTMuMDgwNiAxNC4xNzMxQzEzLjMzMzMgMTQuMDcwMiAxMy41NjI5IDEzLjkxOTIgMTMuNzU2MyAxMy43Mjg4QzEzLjk0OTcgMTMuNTM4NSAxNC4xMDMgMTMuMzEyNSAxNC4yMDc2IDEzLjA2MzdDMTQuMzEyMiAxMi44MTUgMTQuMzY2IDEyLjU0ODQgMTQuMzY1OCAxMi4yNzkyQzE0LjM2NTggMTIuMjE1OSAxNC4zNjI4IDEyLjE1MzUgMTQuMzU3MSAxMi4wOTE2TDE1LjMzOSAxMS4xMjVDMTUuNTY1MiAxMS43MDY0IDE1LjYxNTUgMTIuMzM5OCAxNS40ODM4IDEyLjk0ODdDMTUuMzUyIDEzLjU1NzYgMTUuMDQzOSAxNC4xMTU5IDE0LjU5NjcgMTQuNTU2MkMxNC4xNDk1IDE0Ljk5NjQgMTMuNTgyNCAxNS4yOTk2IDEyLjk2MzggMTUuNDI5M0MxMi4zNDUyIDE1LjU1OSAxMS43MDE3IDE1LjUwOTUgMTEuMTExMSAxNS4yODY5TDEyLjA5MzEgMTQuMzIwMloiIGZpbGw9IiMxQTFBMUEiLz4KPC9zdmc+Cg=="}),Rb=(0,X.jsx)("img",{alt:"stacks-icon",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KPHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNNS4zIDEwSDQuMmMtLjExIDAtLjIuMS0uMi4yMnY4LjU1YzAgLjEzLjA5LjIzLjIuMjNoMS4xYy4xMSAwIC4yLS4xLjItLjIzdi04LjU0YzAtLjEzLS4wOS0uMjMtLjItLjIzWk04LjMgN0g3LjJjLS4xMSAwLS4yLjEtLjIuMjJ2MTEuNTZjMCAuMTIuMDkuMjIuMi4yMmgxLjFjLjExIDAgLjItLjEuMi0uMjJWNy4yMmMwLS4xMi0uMDktLjIyLS4yLS4yMloiLz4KPHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMS41IDYuNXYxMWg3di0xMWgtN1ptLTEtMS41YS41LjUgMCAwIDAtLjUuNXYxM2MwIC4yOC4yMi41LjUuNWg5YS41LjUgMCAwIDAgLjUtLjV2LTEzYS41LjUgMCAwIDAtLjUtLjVoLTlaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz4KPC9zdmc+"}),Bb=od().div(["align-items:center;display:flex;height:",";justify-content:center;opacity:",";overflow:hidden;transition:height 0.2s ease-in-out,opacity 0.2s ease-in-out;width:100%;svg{color:lightgrey;}"],(e=>{var{loaded:t}=e;return t?"0":"48px"}),(e=>{var{loaded:t}=e;return t?"0":"1"})),Ub=(e,t)=>{switch(t.type){case"setNewStackName":return t.payload.length>100?e:{...e,newStackName:t.payload};case"setNewAccess":return{...e,newAccess:t.payload};case"addToStack":case"getStacks":return{...e,stacks:t.payload.stacks};case"clear":return{...e,newStackName:""}}},Fb="success",zb="error",Gb=e=>{var{isOpen:t,onClose:r,initialStacks:n}=e,i=vi(Xs),o=vi(Ya),s=Gr(),[{stacks:c,newStackName:u,newAccess:l},d]=(0,Ae.useReducer)(Ub,{stacks:n||[],newStackName:"",newAccess:"public"}),h=(0,Ae.useRef)(void 0),[p,f]=(0,Ae.useState)(c.length>0),[g,m]=(0,Ae.useState)(null);(0,Ae.useEffect)((()=>{var e,r,n;t&&!p&&("user"===i.type?(r=i.username,n=i.documentName,k(`${Db}/document-action/${r}/${n}/get-stacks`)):(e=i.publicationId,k(`${Db}/document-action-pubid/${e}/get-stacks`))).then((e=>{var{stacks:t}=e;d({type:"getStacks",payload:{stacks:t}})})).catch(Tn).finally((()=>{f(!0)}))}),[t,i,p]);var v=(0,Ae.useCallback)(((e,t)=>{function r(e){"id"in t||s?.trackUserAction(a.stackCreateButtonClicked({stackId:e,isUnlisted:"private"===t.access})),s?.trackUserAction(a.stackFlipbookAddButtonClicked({stackId:e,documentId:o.documentId}))}var n,c,u;"user"===i.type?(n=i.username,c=i.documentName,u=t,k(`${Db}/document-action/${n}/${c}/add-to-stack`,{body:u})).then((t=>{var{stacks:n,stackId:i}=t;r(i),d({type:"addToStack",payload:{stacks:n,title:e}}),m(Fb)})).catch((e=>{Tn(e),m(zb)})):function(e,t){return k(`${Db}/document-action-pubid/${e}/add-to-stack`,{body:t})}(i.publicationId,t).then((t=>{var{stacks:n,stackId:i}=t;r(i),d({type:"addToStack",payload:{stacks:n,title:e}}),m(Fb)})).catch((e=>{Tn(e),m(zb)}))}),[o.documentId,i,s]),[y,b]=(0,Ae.useState)(null),_=!y&&""===u;return t?g?(0,X.jsx)(Ih,{children:(0,X.jsx)("div",{children:(0,X.jsx)(Cp,{boxType:g,header:g===zb?"Error":"Success!",onClose:()=>{m(null),d({type:"clear"}),clearTimeout(h.current),r()},text:g===zb?"There was an error, please try again.":"Publication added to stack"})})}):(0,X.jsxs)(Mh,{className:"stacks",onCloseClick:()=>{d({type:"clear"}),clearTimeout(h.current),r()},ref:e=>{h.current=setTimeout((()=>{e&&(!y&&e.querySelector("input")?e.querySelector("input")?.focus():e.querySelector("button")?.focus())}),100)},title:c.length>0?"Create or save to stack":"Create a stack",children:[0===c.length&&(0,X.jsx)(Bb,{loaded:p,children:(0,X.jsx)(Wd,{size:24})}),p&&c.length>0&&(0,X.jsx)("div",{className:"stacks__list",style:{minHeight:c.length>3?120:40*c.length},children:c.map((e=>(0,X.jsxs)("button",{className:"stacks__list-item "+(y?.id===e.id?"stacks__list-item--selected":""),onClick:()=>{d({type:"setNewStackName",payload:""}),b(e)},title:e.title,children:[Rb,(0,X.jsx)("div",{className:"stacks__list-item-title",children:e.title}),"private"===e.access?(0,X.jsx)("div",{className:"stacks__list-item-icon--eye",children:Lb}):null]},`stack_${e.id}`)))}),(0,X.jsxs)("div",{children:[(0,X.jsx)(Lh,{message:"Organize publications into stacks to save your favorites.",onChange:e=>{y&&b(null),d({type:"setNewStackName",payload:e.currentTarget.value})},placeholder:"Name your stack",title:"New stack",value:u}),(0,X.jsx)("div",{className:"stacks__unlisted-container",children:u&&(0,X.jsx)(Dh,{checked:"private"===l,label:(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)("span",{className:"stacks-modal__label-text",children:"Unlisted"}),Lb]}),onChange:e=>{var t=e.currentTarget.checked;d({type:"setNewAccess",payload:t?"private":"public"})}})})]}),(0,X.jsx)(Oh,{disabled:_,onClick:()=>{_||(u?v(u,{title:u,access:l}):y&&v(y.title,{id:y.id}))},children:u?"Create stack":"Save to stack"})]}):null},Hb=(0,Ae.memo)((function(){var e=fi(),t=vi(Cb);return vi(cc)?(0,X.jsx)(Gb,{isOpen:t,onClose:()=>{e(ul(null))}}):null}));function Wb(e,t){return{canvasHeight:e.clientHeight,canvasWidth:e.clientWidth,containerWidth:t.clientWidth,containerHeight:t.clientHeight,dpr:Qp()}}var $b=ui((e=>({canShowAds:Bp(e),fullscreenEnabled:ps(e),interactedWithReader:e.reader.interactedWithReader,isBackdropVisible:oh(e),logo:Zs(e),renderPaywallOverlay:ts(e),renderLeadGenOverlay:Vu(e),renderVideoOverlay:Ip(e),showCTAOverlay:ec(e),showSmartZoomTutorial:zp(e)})))((e=>{var{canShowAds:t,dispatch:r,fullscreenEnabled:n,interactedWithReader:i,isBackdropVisible:o,loadStatsTracker:a,logo:s,metrics:c,renderLeadGenOverlay:u,renderPaywallOverlay:l,renderVideoOverlay:d,showCTAOverlay:h,showSmartZoomTutorial:p}=e,f=(0,Ae.useRef)(null),g=(0,Ae.useRef)(!1),m=(0,Ae.useRef)(null),[v,y]=(0,Ae.useState)(!1),b=vi(Ru),_=vi(Du),w=vi(Up),x=(0,Ae.useRef)(null),T=vi(Is),S=(0,Ae.useCallback)((()=>{null!==x.current&&clearTimeout(x.current),x.current=setTimeout((()=>{r(Zp(!1))}),2e3)}),[r]);(0,Ae.useEffect)((()=>{var e=f.current;if(e){var t=new Jp(e,(()=>{i||setTimeout((()=>{r({type:Xc})}),500)})),n=new ih(e,{onMouseMove:()=>{r((e=>{e(el())}))},onMouseEnter:()=>{r((e=>{e(el())}))},onMouseLeave:()=>{r((e=>{e(tl())}))}},{isVertical:T});return r(Zp(!0)),window.addEventListener("orientationchange",S,!1),()=>{t.destroy(),n.destroy(),window.removeEventListener("orientationchange",S,!1)}}}),[r,i,S,T]);var E=t&&n;g.current=g.current||E;var I=g.current,k=h?(0,X.jsx)($y,{}):(0,X.jsx)(By,{}),M={backgroundImage:s?`url('${s.url}')`:"none"},A=I&&!v,N=Yd()("reader__layout",{"reader__layout--with-ad":A&&n});return(0,Ae.useEffect)((()=>{var e,t=m.current,n=f.current;if(t&&n){r((e=Wb(t,n),{type:Hp,data:e})),r(Yp({isInitialSize:!0}));var i=new ResizeObserver((()=>{var e=m.current,t=f.current;e&&t&&(r(qp(Wb(e,t))),r(((e,t)=>{t().reader.isActivated&&e(el())})))}));return i.observe(t),()=>i.disconnect()}}),[r]),(0,X.jsxs)("div",{className:"reader",ref:f,style:M,tabIndex:1,children:[(0,X.jsx)(Ep,{}),(0,X.jsxs)("div",{className:N,ref:m,children:[(0,X.jsx)(Eh,{showFullScreenAd:A}),!h&&(0,X.jsx)(wh,{}),(0,X.jsx)(tv,{loadStatsTracker:a,metrics:c}),(0,X.jsx)(Gy,{}),w&&(0,X.jsx)(Pb,{}),p&&(0,X.jsx)(db,{}),b&&(0,X.jsx)(ib,{metrics:c,visible:_}),k,(0,X.jsx)(Hb,{}),l&&(0,X.jsx)(fp,{}),u&&(0,X.jsx)(Jh,{metrics:c}),d&&(0,X.jsx)(Rp,{metrics:c}),o&&(0,X.jsx)(rv,{})]}),A&&(0,X.jsx)(sf,{hidden:!n,onAdUnfulfilled:()=>y(!0)})]})})),Vb=ui((e=>({backgroundImage:qs(e),isBrandingLineVisible:zs(e),loading:e.loading,sessionId:e.config.sessionId,showBlockedEmbedScreen:fd(e),showGatedOverlay:gd(e),themeBackgroundColor:$s(e),themeMainColor:Vs(e),themeSecondaryColor:Ys(e)})))((e=>{var{backgroundImage:t,documentConnector:r,isBrandingLineVisible:n,loadStatsTracker:i,loading:o,metrics:a,sessionId:s,showBlockedEmbedScreen:c,showGatedOverlay:u,themeBackgroundColor:l,themeMainColor:d,themeSecondaryColor:h,experiments:p}=e,f=(0,Ae.useRef)(null),g=fi(),m=Gr(),{settings:v}=function(){var{identity:e,isLoadingResponse:t}=(0,Ae.useContext)(Qr);return{settings:e.settings,isLoadingResponse:t}}();(0,Ae.useEffect)((()=>{m&&a.setPico(m)}),[m,a]),(0,Ae.useEffect)((()=>{g(md(v))}),[g,v]),(0,Ae.useEffect)((()=>{g(ku(r))}),[g,r]),(0,Ae.useEffect)((()=>function(){var e=yd();if(e){var t=e.replace(/[H|h]idden/,"")+"visibilitychange";return vd(document,t,(()=>{g({type:_d})}))}}()),[g]);var y,b=["reader-container"];switch(o.status){case"loading-status@FAILED":y=(0,X.jsx)(Gd,{error:o.error,reloadDocument:()=>{r.reset(),g(ku(r))},sessionId:s});break;case"loading-status@SUCCESS":u?(a.monitor("reader3.basic_user_monitization.gate_shown"),y=(0,X.jsx)(pd,{overlayType:"gated"})):y=c?(0,X.jsx)(pd,{overlayType:"embed"}):(0,X.jsx)(Yl,{children:(0,X.jsx)($b,{experiments:p,loadStatsTracker:i,metrics:a})});break;default:y=(0,X.jsx)($d,{})}t&&("TOP_LEFT"===t.style?b.push("reader-container--background-image-top-left"):"STRETCH"===t.style&&b.push("reader-container--background-image-stretch"));var _=function(e,t,r){var n=$i(t)||{r:255,g:255,b:255},i=$i(r)||{r:26,g:26,b:26},o=Vi(n)<Vi(i)?-1:1;return{"--theme-background-color":e,"--theme-main-color":t,"--theme-main-hover-color":Yi(n,-.1*o),"--theme-main-suppressed-color":Yi(n,-.2*o),"--theme-main-disabled-color":`rgba(${n.r}, ${n.g}, ${n.b}, 0.4)`,"--theme-secondary-color":r,"--theme-secondary-hover-color":Yi(i,.1*o),"--theme-secondary-active-color":Yi(i,.2*o),"--theme-controls-background-color":`rgba(${i.r}, ${i.g}, ${i.b}, 0.8)`,"--theme-focus-color":"#5f5de4"}}(l,d,h),w=["reader-container__wrapper"];n&&w.push("reader-container__wrapper--with-branding-line");var x={width:"100%",height:"100%",backgroundImage:t?`url('${t.url}')`:"none"};return(0,X.jsxs)("div",{className:w.join(" "),style:_,children:[(0,X.jsx)("div",{className:b.join(" "),id:"ird3-main",ref:f,style:x,children:y}),n&&(0,X.jsx)(jd,{mainOrigin:Bi()})]})})),Yb=()=>{},qb=void 0,Zb=!0;function Qb(e){qb=window.setInterval((()=>{Us(e.getState())?Zb=!0:Bs(e.getState())&&(Zb=!1),e.dispatch(Zb?au():ou())}),4e3)}function Xb(){qb&&(window.clearInterval(qb),qb=void 0)}var Jb=e=>t=>r=>{var n=t(r);switch(r.type){case Eu:e.getState().reader.autoFlipInitially&&Qb(e);break;case ru:e.getState().reader.interactedWithReader&&Xb();break;case"EMBED_PREVIEW":Xb(),e.getState().features.autoFlip&&Qb(e)}return n};function Kb(e){return t=>r=>n=>{var i=r(n);switch(n.type){case Ha:e.monitor("reader3-document-meta-loaded",{attributes:{readerConfig:e.readerEndpoint}});break;case Eu:var o={attributes:{readerConfig:e.readerEndpoint}},{loading:a}=t.getState();"loading-status@INITIALIZED"!==a.status&&(o.success_time=n.timeStamp-a.loadStartTime),e.monitor("reader3-document-load-success",o);break;case Iu:var s={attributes:{readerConfig:e.readerEndpoint}},{loading:c}=t.getState();"loading-status@INITIALIZED"!==c.status&&(s.failed_time=n.timeStamp-c.loadStartTime,s.backend_error=n.error.name===Dd?1:0,s.fetch_error=n.error.name===Pd?1:0),e.monitor("reader3-document-load-failure",s);break;case bl:e.monitor("reader3-fullscreen",{method:n.fullscreenMethod,attributes:{readerConfig:e.readerEndpoint}})}return i}}function e_(e){return t=>r=>n=>{var i=r(n),o=t.getState();switch(n.type){case Xc:e.onActivity(o.reader.interactedWithReader);break;case Jc:e.onZoom(o.reader.zoomLevel);break;case"DOWNLOAD_SUCCESS":e.onDownload(Ya(o));break;case da:if(n.currentPagesHasChanged){var a=o.reader.currentPageNumbers;e.onPageChanged(a)}break;case Eu:var s=Os(o);e.onDocumentLoaded(Ya(o),Ks(o),s,ps(o),(()=>gd(o)));break;case Wp:e.onResize(`${n.data.containerWidth}x${n.data.containerHeight}`,ps(o));break;case vu:if(n.linkModel.type===mu.GOTO_PAGE){var{id:c,page:{pageNumber:u},gotoPageNumber:l}=n.linkModel;e.onClippingActionGotoPage(c,u,l)}else{var{id:d,page:{pageNumber:h},url:p}=n.linkModel;e.onClippingActionOpenUrl(d,h,p)}}return i}}function t_(e){var{featureTracker:t,metrics:r}=e,n=new Set;return e=>{function i(t){e.dispatch({type:"SET_STATE",state:t})}function o(){return e.getState().canvasApi}return a=>s=>"function"==typeof s&&"isServiced"in s?s({dispatch:e.dispatch,getState:e.getState,setState:i,getCanvasApi:o,featureTracker:t,metrics:r,visibilityTracking:n}):a(s)}}var r_=Vc((function(e,t){var{getState:r,setState:n}=t,i=r();if(Gu(i)){var o=window.sessionStorage,a=es(i);if(o){var s=o.getItem("leadGen");if(s)try{var c=JSON.parse(s);c&&c[a]&&n({...i,leadGen:{...i.leadGen,isClosed:!0}})}catch(e){}}}})),n_={isClosed:!1,isDownloading:!1,isEnforced:null,isSkippable:!1};function i_(e,t){if(void 0===e&&(e=n_),"EMBED_PREVIEW"===t.type){var r=t.embedConfig;return{isEnforced:"boolean"==typeof r.isLeadGenEnabled?r.isLeadGenEnabled:e.isEnforced,isSkippable:"boolean"==typeof r.isLeadGenSkippable?r.isLeadGenSkippable:e.isSkippable,isClosed:!1,isDownloading:!1}}return e}var o_=e=>t=>r=>{var n=t(r);return r.type===Ha&&e.dispatch(r_()),n},a_="@reader3/paywall/PAYWALL_PUBLICATION_LOADING",s_="@reader3/paywall/PAYWALL_PUBLICATION_LOADED",c_="@reader3/paywall/PAYWALL_PUBLICATION_LOADING_ERROR";function u_(e){var t=!1,r=!1;return n=>i=>o=>{var a=i(o);if(o.type===Ha&&ts(n.getState())&&(t=!0,n.dispatch(((e,t)=>{var r=t(),{api:n}=ya(r),{documentPath:i}=Ya(r),o=Ts(r);return"NOTLOADED"!==r.paywall.status?Promise.resolve():(e({type:a_}),"user"===i.type?Bd(`${n}/call/reader/paywall-overlay/${i.username}/${i.documentName}`,{withCredentials:o}).then((t=>e({type:s_,...t}))).catch((t=>e({type:c_,error:t}))):void e({type:c_,error:new Error("Paywall not support for non-user documents")}))}))),t)if(o.type===s_)e.monitor("paywall.reader3.show-document");else if(!r&&o.type===da){var s=n.getState();oc(s)&&(e.monitor("paywall.reader3.show-overlay"),r=!0)}return a}}var l_=__webpack_require__(4930),d_=__webpack_require__.n(l_),h_={visiblePopup:null,areControlsAllowed:!0};function p_(){return h_}function f_(e,t,r){switch(t.type){case qc:case Qc:case bl:case _l:return r();case da:return t.isDragging?r():e;case Jc:return t.isPinching?r():e;default:return e}}var g_={isVisible:!1};function m_(){return g_}var v_={status:"DOWNLOAD_READY"};function y_(e,t){switch(void 0===e&&(e=v_),t.type){case"DOWNLOAD_READY":case"DOWNLOAD_LOADING":case"DOWNLOAD_SUCCESS":case"DOWNLOAD_FAILURE":return{status:t.type};default:return e}}var b_={youtubeApiReady:!1,vimeoApiReady:!0,activeVideoLink:null},__={settings:{},isLoaded:!1},w_={status:"NOTLOADED",isNotAvailable:!1,isPaid:!1,publicationPriceAmount:0,publicationPriceCurrency:"USD",readPurchasedPath:null};function x_(e,t){switch(void 0===e&&(e=w_),t.type){case a_:return{...e,status:"LOADING"};case c_:return{...e,status:"ERROR"};case s_:return{status:"LOADED",isNotAvailable:!!t.isNotAvailable,isPaid:!!t.currentUserPurchased,publicationPriceAmount:t.priceAmount,publicationPriceCurrency:t.priceCurrency,readPurchasedPath:t.readPurchasedPath};default:return e}}var T_={items:[],loadedType:null,isReadyForLoading:!1},S_={pages:[]};function E_(e,t){return void 0===e&&(e=S_),t.type===Ha?{pages:t.doc.pages}:e}var I_={stackList:[]};function k_(e,t){return void 0===e&&(e=I_),t.type,e}function M_(e){if(e.backgroundImage){var t=null;if("topleft"===e.backgroundImagePosition?t="TOP_LEFT":"stretch"===e.backgroundImagePosition&&(t="STRETCH"),t)return{url:e.backgroundImage,style:t,hideWhenNotInFullscreen:!e.showBackgroundImagesOutsideFullscreen}}return null}function A_(e){return e.logo?{url:e.logo,hideWhenNotInFullscreen:!e.showBackgroundImagesOutsideFullscreen}:null}var N_={status:"loading-status@INITIALIZED"},O_={autoFlipInitially:!1,currentPageNumber:0,currentPageNumbers:[],currentSpreadIndex:-1,hoveringOverControls:!1,initialPageNumber:0,interactedWithReader:!1,interactingWithCanvas:!1,interactingWithControls:!1,isActivated:!1,isIdle:!0,isReady:!1,lastSpreadIndexArrivedAt:-1,positionInPercent:0,smartzoomTutorialVisibility:"HIDDEN_INITIAL",targetSpreadIndex:0,visiblePageNumbers:[],zoomLevel:1};function j_(e,t){var{hasPageChanged:r}=void 0===t?{hasPageChanged:!1}:t;return"HIDDEN_INITIAL"===e.smartzoomTutorialVisibility?e:"VISIBLE"===e.smartzoomTutorialVisibility?{...e,smartzoomTutorialVisibility:"HIDDEN_FINAL"}:r&&"HIDDEN_READY"===e.smartzoomTutorialVisibility?{...e,smartzoomTutorialVisibility:"HIDDEN_RESET"}:e}var P_=(e,t)=>({...O_,autoFlipInitially:e.autoFlip,initialPageNumber:t});class C_{_baseUrl="";_previousPageNumbers=[];constructor(e){this.gaTracker=e}onDocumentLoaded(e,t,r){this._baseUrl=e,this._previousPageNumbers=r,zi().rIC((()=>{this.gaTracker.sendPageView(`${this._baseUrl}/${t}`)}))}onPageChanged(e){if(this._previousPageNumbers.join()!==e.join()){this._previousPageNumbers=e;var t=this._previousPageNumbers.slice();zi().rIC((()=>{t.forEach((e=>{this.gaTracker.sendPageView(`${this._baseUrl}/${e}`)}))}),{timeout:1e3})}}}class D_{_hasTrackedTimeToCover=!1;_pageLoadStartTime=new Map;_fontLoadStartTime=new Map;_imageDecodeStartTime=new Map;_pageLoadStats={failedCount:0,successCount:0,successAfterRetryCount:0,failedTotalTime:0,successTotalTime:0,layersImageFallbackCount:0};_pageLoadStatsTimerId=null;_totalFontRenderCalls=0;_totalSlowFontRenderCalls=0;_totalFramesDroppedOnFontRendering=0;_fontRenderingTimings={uncached:[],preview:[],hires:[]};_fontLoadTimings=[];_imageDecodeTimings=[];constructor(e){this.metrics=e}onLoaderError(){this.metrics.monitor("reader3-render-manager-load-layer-error")}onOpsValidationError(e){this.metrics.monitor("reader3-render-manager-ops-validation-failed",{count:e})}onPageLoadStart(e,t){this.mode=t,this._pageLoadStartTime.set(e,performance.now())}onPageLoadSuccess(e){var t=performance.now();if(!this._hasTrackedTimeToCover&&1===e){try{this.metrics.monitor("reader3-time-to-cover",{ms_to_cover:t,attributes:{readerConfig:this.metrics.readerEndpoint}})}catch(e){}this._hasTrackedTimeToCover=!0}this._pageLoadStats.successCount+=1,this._pageLoadStats.successTotalTime+=t-(this._pageLoadStartTime.get(e)||0),this._pageLoadStartTime.delete(e),this.batchPageLoadStats()}onPageLoadSuccessAfterRetry(e){this._pageLoadStats.successAfterRetryCount+=1,this.onPageLoadSuccess(e)}onPageLoadFailure(e){this._pageLoadStats.failedCount+=1,this._pageLoadStats.failedTotalTime+=performance.now()-(this._pageLoadStartTime.get(e)||0),this.batchPageLoadStats()}onLayersImageFallback(){this._pageLoadStats.layersImageFallbackCount+=1,this.batchPageLoadStats()}uncachedFontRenderingTracker(){return this._fontRenderingTracker("uncached")}previewFontRenderingTracker(){return this._fontRenderingTracker("preview")}hiresFontRenderingTracker(){return this._fontRenderingTracker("hires")}_fontRenderingTracker(e){var t;return{start:()=>{t=performance.now()},end:()=>{var r=performance.now()-t;this._fontRenderingTimings[e].push(Math.round(r)),this._totalFontRenderCalls+=1;var n=Math.max(Math.floor(r/(1e3/60))-1,0);n&&(this._totalSlowFontRenderCalls+=1,this._totalFramesDroppedOnFontRendering+=n),this.batchPageLoadStats()}}}onFontLoadStart(e){this._fontLoadStartTime.set(e,performance.now())}onFontLoadEnd(e){var t=performance.now()-(this._fontLoadStartTime.get(e)||0);this._fontLoadTimings.push(Math.round(t)),this._fontLoadStartTime.delete(e)}onImageDecodeStart(e){this._imageDecodeStartTime.set(e,performance.now())}onImageDecodeEnd(e){var t=performance.now()-(this._imageDecodeStartTime.get(e)||0);this._imageDecodeTimings.push(Math.round(t)),this._imageDecodeStartTime.delete(e)}batchPageLoadStats(){if(!this._pageLoadStatsTimerId){var e=this._pageLoadStats;this._pageLoadStatsTimerId=setTimeout((()=>{this._pageLoadStatsTimerId=null;var t={};e.successCount>0&&(t.success_count=e.successCount,t.success_total_time=e.successTotalTime,t.success_after_retry=e.successAfterRetryCount,e.successCount=0,e.successAfterRetryCount=0,e.successTotalTime=0),e.layersImageFallbackCount>0&&(t.layers_image_fallback_count=e.layersImageFallbackCount,e.layersImageFallbackCount=0),e.failedCount>0&&(t.failed_count=e.failedCount,t.failed_total_time=e.failedTotalTime,e.failedCount=0,e.failedTotalTime=0),Object.keys(t).length>0&&(t.attributes={readerConfig:this.metrics.readerEndpoint,mode:this.mode},this.metrics.monitor("reader3-pageload-stats",t)),this._totalFontRenderCalls>0&&(this.metrics.monitor("reader3-fontrender-stats",{total:this._totalFontRenderCalls,total_slow:this._totalSlowFontRenderCalls,total_frames_dropped:this._totalFramesDroppedOnFontRendering,time_uncached:this._fontRenderingTimings.uncached.slice(0),time_preview:this._fontRenderingTimings.preview.slice(0),time_hires:this._fontRenderingTimings.hires.slice(0),attributes:{readerConfig:this.metrics.readerEndpoint,mode:this.mode}}),this._totalFontRenderCalls=0,this._totalSlowFontRenderCalls=0,this._totalFramesDroppedOnFontRendering=0,this._fontRenderingTimings.uncached.length=0,this._fontRenderingTimings.preview.length=0,this._fontRenderingTimings.hires.length=0),(this._fontLoadTimings.length||this._imageDecodeTimings.length)&&(this.metrics.monitor("reader3-fontload-stats",{image_decode:this._fontLoadTimings.slice(0),font_load:this._imageDecodeTimings.slice(0),attributes:{readerConfig:this.metrics.readerEndpoint,mode:this.mode}}),this._fontLoadTimings.length=0,this._imageDecodeTimings.length=0)}),5e3)}}}class L_{_previousPageNumbers=[];constructor(e){this.quantcastTracker=e}destroy(){clearTimeout(this._timeoutId)}onDocumentLoaded(e){this._previousPageNumbers=e,zi().rIC((()=>{this.quantcastTracker.track()}))}onPageChanged(e){this._previousPageNumbers.join()!==e.join()&&(this._previousPageNumbers=e,clearTimeout(this._timeoutId),this._timeoutId=setTimeout((()=>{var e=this._previousPageNumbers.slice();zi().rIC((()=>{e.forEach((()=>{this.quantcastTracker.track()}))}))}),1e3))}}var R_=16;function B_(e,t,r){var n=e.createShader(r);if(!n)throw new Error("Couldn't create shader");if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error(`Cannot compile ${r} shader: ${e.getShaderInfoLog(n)}`);return n}function U_(e,t,r,n,i){if(e.checkFramebufferStatus(e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE)throw new Error("cannot read from framebuffer");var o=new Uint8Array(R_*R_*4);e.readPixels(0,0,R_,R_,e.RGBA,e.UNSIGNED_BYTE,o);for(var a=0;a<R_*R_;a++){var s=o.subarray(4*a,4*(a+1));if(!(s[0]>t-5&&s[0]<t+5&&s[1]>r-5&&s[1]<r+5&&s[2]>n-5&&s[2]<n+5&&s[3]===i))return!1}return!0}var F_=e=>{var{documentPath:t,mainOrigin:r,initialPageNumber:n}=e,i=`${r}${fa(t)}`;return n>1&&(i=`${i}/${n}`),(0,X.jsx)("div",{className:"bot-reader",children:(0,X.jsx)("a",{href:i,rel:"noreferrer",target:"_blank",children:"Read on issuu"})})};const z_=!1;function G_(e){return e&&e.Math==Math?e:void 0}const H_="object"==typeof globalThis&&G_(globalThis)||"object"==typeof window&&G_(window)||"object"==typeof self&&G_(self)||"object"==typeof __webpack_require__.g&&G_(__webpack_require__.g)||function(){return this}()||{};function W_(){return H_}function $_(e,t,r){const n=r||H_,i=n.__SENTRY__=n.__SENTRY__||{};return i[e]||(i[e]=t())}const V_=["debug","info","warn","error","log","assert","trace"],Y_={};function q_(e){if(!("console"in H_))return e();const t=H_.console,r={},n=Object.keys(Y_);n.forEach((e=>{const n=Y_[e];r[e]=t[e],t[e]=n}));try{return e()}finally{n.forEach((e=>{t[e]=r[e]}))}}const Z_=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return z_?V_.forEach((r=>{t[r]=(...t)=>{e&&q_((()=>{H_.console[r](`Sentry Logger [${r}]:`,...t)}))}})):V_.forEach((e=>{t[e]=()=>{}})),t}(),Q_=Object.prototype.toString;function X_(e){switch(Q_.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return sw(e,Error)}}function J_(e,t){return Q_.call(e)===`[object ${t}]`}function K_(e){return J_(e,"ErrorEvent")}function ew(e){return J_(e,"DOMError")}function tw(e){return J_(e,"String")}function rw(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function nw(e){return null===e||rw(e)||"object"!=typeof e&&"function"!=typeof e}function iw(e){return J_(e,"Object")}function ow(e){return"undefined"!=typeof Event&&sw(e,Event)}function aw(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function sw(e,t){try{return e instanceof t}catch(e){return!1}}function cw(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}const uw=W_(),lw=80;function dw(e,t={}){if(!e)return"<unknown>";try{let r=e;const n=5,i=[];let o=0,a=0;const s=" > ",c=s.length;let u;const l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||lw;for(;r&&o++<n&&(u=hw(r,l),!("html"===u||o>1&&a+i.length*c+u.length>=d));)i.push(u),a+=u.length,r=r.parentNode;return i.reverse().join(s)}catch(e){return"<unknown>"}}function hw(e,t){const r=e,n=[];let i,o,a,s,c;if(!r||!r.tagName)return"";if(uw.HTMLElement&&r instanceof HTMLElement&&r.dataset&&r.dataset.sentryComponent)return r.dataset.sentryComponent;n.push(r.tagName.toLowerCase());const u=t&&t.length?t.filter((e=>r.getAttribute(e))).map((e=>[e,r.getAttribute(e)])):null;if(u&&u.length)u.forEach((e=>{n.push(`[${e[0]}="${e[1]}"]`)}));else if(r.id&&n.push(`#${r.id}`),i=r.className,i&&tw(i))for(o=i.split(/\s+/),c=0;c<o.length;c++)n.push(`.${o[c]}`);const l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)a=l[c],s=r.getAttribute(a),s&&n.push(`[${a}="${s}"]`);return n.join("")}function pw(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function fw(e,t){if(!Array.isArray(e))return"";const r=[];for(let t=0;t<e.length;t++){const n=e[t];try{cw(n)?r.push("[VueViewModel]"):r.push(String(n))}catch(e){r.push("[value cannot be serialized]")}}return r.join(t)}function gw(e,t=[],r=!1){return t.some((t=>function(e,t,r=!1){return!!tw(e)&&(J_(t,"RegExp")?t.test(e):!!tw(t)&&(r?e===t:e.includes(t)))}(e,t,r)))}function mw(e,t,r){if(!(t in e))return;const n=e[t],i=r(n);"function"==typeof i&&yw(i,n),e[t]=i}function vw(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch(r){z_&&Z_.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function yw(e,t){try{const r=t.prototype||{};e.prototype=t.prototype=r,vw(e,"__sentry_original__",t)}catch(e){}}function bw(e){return e.__sentry_original__}function _w(e){if(X_(e))return{message:e.message,name:e.name,stack:e.stack,...xw(e)};if(ow(e)){const t={type:e.type,target:ww(e.target),currentTarget:ww(e.currentTarget),...xw(e)};return"undefined"!=typeof CustomEvent&&sw(e,CustomEvent)&&(t.detail=e.detail),t}return e}function ww(e){try{return"undefined"!=typeof Element&&sw(e,Element)?dw(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function xw(e){if("object"==typeof e&&null!==e){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}return{}}function Tw(e){return Sw(e,new Map)}function Sw(e,t){if(function(e){if(!iw(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(e)){const r=t.get(e);if(void 0!==r)return r;const n={};t.set(e,n);for(const r of Object.keys(e))void 0!==e[r]&&(n[r]=Sw(e[r],t));return n}if(Array.isArray(e)){const r=t.get(e);if(void 0!==r)return r;const n=[];return t.set(e,n),e.forEach((e=>{n.push(Sw(e,t))})),n}return e}function Ew(){const e=H_,t=e.crypto||e.msCrypto;let r=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&r())>>e/4).toString(16)))}function Iw(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function kw(e){const{message:t,event_id:r}=e;if(t)return t;const n=Iw(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function Mw(e,t,r){const n=e.exception=e.exception||{},i=n.values=n.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=r||"Error")}function Aw(e,t){const r=Iw(e);if(!r)return;const n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){const e={...n&&n.data,...t.data};r.mechanism.data=e}}function Nw(e){if(e&&e.__sentry_captured__)return!0;try{vw(e,"__sentry_captured__",!0)}catch(e){}return!1}function Ow(e){return Array.isArray(e)?e:[e]}const jw=!1;var Pw;function Cw(e){return new Lw((t=>{t(e)}))}function Dw(e){return new Lw(((t,r)=>{r(e)}))}!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(Pw||(Pw={}));class Lw{constructor(e){Lw.prototype.__init.call(this),Lw.prototype.__init2.call(this),Lw.prototype.__init3.call(this),Lw.prototype.__init4.call(this),this._state=Pw.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new Lw(((r,n)=>{this._handlers.push([!1,t=>{if(e)try{r(e(t))}catch(e){n(e)}else r(t)},e=>{if(t)try{r(t(e))}catch(e){n(e)}else n(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new Lw(((t,r)=>{let n,i;return this.then((t=>{i=!1,n=t,e&&e()}),(t=>{i=!0,n=t,e&&e()})).then((()=>{i?r(n):t(n)}))}))}__init(){this._resolve=e=>{this._setResult(Pw.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Pw.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===Pw.PENDING&&(aw(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Pw.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===Pw.RESOLVED&&e[1](this._value),this._state===Pw.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function Rw(){return $_("globalEventProcessors",(()=>[]))}function Bw(e){Rw().push(e)}function Uw(e,t,r,n=0){return new Lw(((i,o)=>{const a=e[n];if(null===t||"function"!=typeof a)i(t);else{const s=a({...t},r);jw&&a.id&&null===s&&Z_.log(`Event processor "${a.id}" dropped event`),aw(s)?s.then((t=>Uw(e,t,r,n+1).then(i))).then(null,o):Uw(e,s,r,n+1).then(i).then(null,o)}}))}function Fw(){return Date.now()/1e3}const zw=function(){const{performance:e}=H_;if(!e||!e.now)return Fw;const t=Date.now()-e.now(),r=null==e.timeOrigin?t:e.timeOrigin;return()=>(r+e.now())/1e3}();let Gw;(()=>{const{performance:e}=H_;if(!e||!e.now)return void(Gw="none");const t=36e5,r=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,o=i<t,a=e.timing&&e.timing.navigationStart,s="number"==typeof a?Math.abs(a+r-n):t;o||s<t?i<=s?(Gw="timeOrigin",e.timeOrigin):Gw="navigationStart":Gw="dateNow"})();const Hw="production";function Ww(e){const t=zw(),r={sid:Ew(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return Tw({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(r)};return e&&$w(r,e),r}function $w(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||zw(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Ew()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Vw(e,t){let r={};t?r={status:t}:"ok"===e.status&&(r={status:"exited"}),$w(e,r)}const Yw=/\(error: (.*)\)/,qw=/captureMessage|captureException/;function Zw(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,r=0)=>{const n=[],i=e.split("\n");for(let e=r;e<i.length;e++){const r=i[e];if(r.length>1024)continue;const o=Yw.test(r)?r.replace(Yw,"$1"):r;if(!o.match(/\S*Error: /)){for(const e of t){const t=e(o);if(t){n.push(t);break}}if(n.length>=50)break}}return function(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),qw.test(t[t.length-1].function||"")&&(t.pop(),qw.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,50).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(n)}}const Qw="<anonymous>";function Xw(e){try{return e&&"function"==typeof e&&e.name||Qw}catch(e){return Qw}}function Jw(e,t=100,r=1/0){try{return ex("",e,t,r)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function Kw(e,t=3,r=102400){const n=Jw(e,t);return i=n,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>r?Kw(e,t-1,r):n;var i}function ex(e,t,r=1/0,n=1/0,i=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(r){if(e)return!!t.has(r)||(t.add(r),!1);for(let e=0;e<t.length;e++)if(t[e]===r)return!0;return t.push(r),!1},function(r){if(e)t.delete(r);else for(let e=0;e<t.length;e++)if(t[e]===r){t.splice(e,1);break}}]}()){const[o,a]=i;if(null==t||["number","boolean","string"].includes(typeof t)&&("number"!=typeof(s=t)||s==s))return t;var s;const c=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==__webpack_require__.g&&t===__webpack_require__.g)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(cw(t))return"[VueViewModel]";if(function(e){return iw(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${Xw(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const r=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;const u="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:r;if(0===u)return c.replace("object ","");if(o(t))return"[Circular ~]";const l=t;if(l&&"function"==typeof l.toJSON)try{return ex("",l.toJSON(),u-1,n,i)}catch(e){}const d=Array.isArray(t)?[]:{};let h=0;const p=_w(t);for(const e in p){if(!Object.prototype.hasOwnProperty.call(p,e))continue;if(h>=n){d[e]="[MaxProperties ~]";break}const t=p[e];d[e]=ex(e,t,u-1,n,i),h++}return a(t),d}const tx=1;function rx(e){const{spanId:t,traceId:r}=e.spanContext(),{data:n,op:i,parent_span_id:o,status:a,tags:s,origin:c}=nx(e);return Tw({data:n,op:i,parent_span_id:o,span_id:t,status:a,tags:s,trace_id:r,origin:c})}function nx(e){return function(e){return"function"==typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}const ix=new WeakMap;function ox(e,t){return Mx().captureEvent(e,t)}function ax(e,t){Mx().addBreadcrumb(e,t)}function sx(){return Mx().getClient()}function cx(){return Mx().getScope()}function ux(e){const t=sx(),r=Ax(),n=cx(),{release:i,environment:o=Hw}=t&&t.getOptions()||{},{userAgent:a}=H_.navigator||{},s=Ww({release:i,environment:o,user:n.getUser()||r.getUser(),...a&&{userAgent:a},...e}),c=r.getSession();return c&&"ok"===c.status&&$w(c,{status:"exited"}),lx(),r.setSession(s),n.setSession(s),s}function lx(){const e=Ax(),t=cx(),r=t.getSession()||e.getSession();r&&Vw(r),dx(),e.setSession(),t.setSession()}function dx(){const e=Ax(),t=cx(),r=sx(),n=t.getSession()||e.getSession();n&&r&&r.captureSession&&r.captureSession(n)}function hx(e=!1){e?lx():dx()}function px(e){return e.transaction}function fx(e,t,r){const n=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:o}=r&&r.getUser()||{},a=Tw({environment:n.environment||Hw,release:n.release,user_segment:o,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",a),a}function gx(e){const t=sx();if(!t)return{};const r=fx(nx(e).trace_id||"",t,cx()),n=px(e);if(!n)return r;const i=n&&n._frozenDynamicSamplingContext;if(i)return i;const{sampleRate:o,source:a}=n.metadata;null!=o&&(r.sample_rate=`${o}`);const s=nx(n);return a&&"url"!==a&&(r.transaction=s.description),r.sampled=String(function(e){const{traceFlags:t}=e.spanContext();return Boolean(t&tx)}(n)),t.emit&&t.emit("createDsc",r),r}function mx(e,t){const{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:o}=t;!function(e,t){const{extra:r,tags:n,user:i,contexts:o,level:a,transactionName:s}=t,c=Tw(r);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const u=Tw(n);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const l=Tw(i);l&&Object.keys(l).length&&(e.user={...l,...e.user});const d=Tw(o);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),a&&(e.level=a),s&&(e.transaction=s)}(e,t),n&&function(e,t){e.contexts={trace:rx(t),...e.contexts};const r=px(t);if(r){e.sdkProcessingMetadata={dynamicSamplingContext:gx(t),...e.sdkProcessingMetadata};const n=nx(r).description;n&&(e.tags={transaction:n,...e.tags})}}(e,n),function(e,t){e.fingerprint=e.fingerprint?Ow(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,r),function(e,t){const r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}(e,i),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,o)}function vx(e,t){const{extra:r,tags:n,user:i,contexts:o,level:a,sdkProcessingMetadata:s,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:h,transactionName:p,span:f}=t;yx(e,"extra",r),yx(e,"tags",n),yx(e,"user",i),yx(e,"contexts",o),yx(e,"sdkProcessingMetadata",s),a&&(e.level=a),p&&(e.transactionName=p),f&&(e.span=f),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function yx(e,t,r){if(r&&Object.keys(r).length){e[t]={...e[t]};for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[t][n]=r[n])}}let bx;class _x{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=wx()}static clone(e){return e?e.clone():new _x}clone(){const e=new _x;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&$w(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e;if(t instanceof _x){const e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else if(iw(t)){const t=e;this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=wx(),this}addBreadcrumb(e,t){const r="number"==typeof t?t:100;if(r<=0)return this;const n={timestamp:Fw(),...e},i=this._breadcrumbs;return i.push(n),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:r,_tags:n,_extra:i,_user:o,_level:a,_fingerprint:s,_eventProcessors:c,_propagationContext:u,_sdkProcessingMetadata:l,_transactionName:d,_span:h}=this;return{breadcrumbs:e,attachments:t,contexts:r,tags:n,extra:i,user:o,level:a,fingerprint:s||[],eventProcessors:c,propagationContext:u,sdkProcessingMetadata:l,transactionName:d,span:h}}applyToEvent(e,t={},r=[]){return mx(e,this.getScopeData()),Uw([...r,...Rw(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const r=t&&t.event_id?t.event_id:Ew();if(!this._client)return Z_.warn("No client configured on scope - will not capture exception!"),r;const n=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:n,...t,event_id:r},this),r}captureMessage(e,t,r){const n=r&&r.event_id?r.event_id:Ew();if(!this._client)return Z_.warn("No client configured on scope - will not capture message!"),n;const i=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...r,event_id:n},this),n}captureEvent(e,t){const r=t&&t.event_id?t.event_id:Ew();return this._client?(this._client.captureEvent(e,{...t,event_id:r},this),r):(Z_.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function wx(){return{traceId:Ew(),spanId:Ew().substring(16)}}const xx="7.108.0",Tx=parseFloat(xx),Sx=100;class Ex{constructor(e,t,r,n=Tx){let i,o;this._version=n,t?i=t:(i=new _x,i.setClient(e)),r?o=r:(o=new _x,o.setClient(e)),this._stack=[{scope:i}],e&&this.bindClient(e),this._isolationScope=o}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(e){const t=this.pushScope();let r;try{r=e(t)}catch(e){throw this.popScope(),e}return aw(r)?r.then((e=>(this.popScope(),e)),(e=>{throw this.popScope(),e})):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const r=this._lastEventId=t&&t.event_id?t.event_id:Ew(),n=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:n,...t,event_id:r}),r}captureMessage(e,t,r){const n=this._lastEventId=r&&r.event_id?r.event_id:Ew(),i=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:i,...r,event_id:n}),n}captureEvent(e,t){const r=t&&t.event_id?t.event_id:Ew();return e.type||(this._lastEventId=r),this.getScope().captureEvent(e,{...t,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:r,client:n}=this.getStackTop();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=Sx}=n.getOptions&&n.getOptions()||{};if(o<=0)return;const a={timestamp:Fw(),...e},s=i?q_((()=>i(a,t))):a;null!==s&&(n.emit&&n.emit("beforeAddBreadcrumb",s,t),r.addBreadcrumb(s,o))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:r}=this.getStackTop();r&&e(t)}run(e){const t=kx(this);try{e(this)}finally{kx(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return jw&&Z_.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const r=this._callExtensionMethod("startTransaction",e,t);return jw&&!r&&(this.getClient()?Z_.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):Z_.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&Vw(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:r}=this.getStackTop(),{release:n,environment:i=Hw}=r&&r.getOptions()||{},{userAgent:o}=H_.navigator||{},a=Ww({release:n,environment:i,user:t.getUser(),...o&&{userAgent:o},...e}),s=t.getSession&&t.getSession();return s&&"ok"===s.status&&$w(s,{status:"exited"}),this.endSession(),t.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),r=e.getSession();r&&t&&t.captureSession&&t.captureSession(r)}_callExtensionMethod(e,...t){const r=Ix().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[e])return r.extensions[e].apply(this,t);jw&&Z_.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Ix(){return H_.__SENTRY__=H_.__SENTRY__||{extensions:{},hub:void 0},H_}function kx(e){const t=Ix(),r=Nx(t);return Ox(t,e),r}function Mx(){const e=Ix();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=Ix()){return!!((t=e)&&t.__SENTRY__&&t.__SENTRY__.hub)&&!Nx(e).isOlderThan(Tx)||Ox(e,new Ex),Nx(e);var t}(e)}function Ax(){return Mx().getIsolationScope()}function Nx(e){return $_("hub",(()=>new Ex),e)}function Ox(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}const jx=[];function Px(e){const t=e.defaultIntegrations||[],r=e.integrations;let n;t.forEach((e=>{e.isDefaultInstance=!0})),n=Array.isArray(r)?[...t,...r]:"function"==typeof r?Ow(r(t)):t;const i=function(e){const t={};return e.forEach((e=>{const{name:r}=e,n=t[r];n&&!n.isDefaultInstance&&e.isDefaultInstance||(t[r]=e)})),Object.keys(t).map((e=>t[e]))}(n),o=function(e){for(let t=0;t<e.length;t++)if(1==("Debug"===e[t].name))return t;return-1}(i);if(-1!==o){const[e]=i.splice(o,1);i.push(e)}return i}function Cx(e,t){for(const r of t)r&&r.afterAllSetup&&r.afterAllSetup(e)}function Dx(e,t,r){if(r[t.name])jw&&Z_.log(`Integration skipped because it was already installed: ${t.name}`);else{if(r[t.name]=t,-1===jx.indexOf(t.name)&&(t.setupOnce(Bw,Mx),jx.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,n)=>r(t,n,e)))}if(e.addEventProcessor&&"function"==typeof t.processEvent){const r=t.processEvent.bind(t),n=Object.assign(((t,n)=>r(t,n,e)),{id:t.name});e.addEventProcessor(n)}jw&&Z_.log(`Integration installed: ${t.name}`)}}function Lx(e,t){return Object.assign((function(...e){return t(...e)}),{id:e})}const Rx=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],Bx=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],Ux="InboundFilters",Fx=(e={})=>({name:Ux,setupOnce(){},processEvent(t,r,n){const i=n.getOptions(),o=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Rx],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Bx],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,i);return function(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(jw&&Z_.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${kw(e)}`),!0):function(e,t){return!(e.type||!t||!t.length)&&function(e){const t=[];let r;e.message&&t.push(e.message);try{r=e.exception.values[e.exception.values.length-1]}catch(e){}return r&&r.value&&(t.push(r.value),r.type&&t.push(`${r.type}: ${r.value}`)),jw&&0===t.length&&Z_.error(`Could not extract message for event ${kw(e)}`),t}(e).some((e=>gw(e,t)))}(e,t.ignoreErrors)?(jw&&Z_.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${kw(e)}`),!0):function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const r=e.transaction;return!!r&&gw(r,t)}(e,t.ignoreTransactions)?(jw&&Z_.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${kw(e)}`),!0):function(e,t){if(!t||!t.length)return!1;const r=zx(e);return!!r&&gw(r,t)}(e,t.denyUrls)?(jw&&Z_.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${kw(e)}.\nUrl: ${zx(e)}`),!0):!function(e,t){if(!t||!t.length)return!0;const r=zx(e);return!r||gw(r,t)}(e,t.allowUrls)&&(jw&&Z_.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${kw(e)}.\nUrl: ${zx(e)}`),!0)}(t,o)?null:t}});function zx(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const r=e[t];if(r&&"<anonymous>"!==r.filename&&"[native code]"!==r.filename)return r.filename||null}return null}(t):null}catch(t){return jw&&Z_.error(`Cannot extract url for event ${kw(e)}`),null}}let Gx;Lx(Ux,Fx);const Hx="FunctionToString",Wx=new WeakMap,$x=()=>({name:Hx,setupOnce(){Gx=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=bw(this),r=Wx.has(sx())&&void 0!==t?t:this;return Gx.apply(r,e)}}catch(e){}},setup(e){Wx.set(e,!0)}});Lx(Hx,$x);const Vx=W_();function Yx(){if(!("fetch"in Vx))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function qx(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}const Zx=W_(),Qx={},Xx={};function Jx(e,t){Qx[e]=Qx[e]||[],Qx[e].push(t)}function Kx(e,t){Xx[e]||(t(),Xx[e]=!0)}function eT(e,t){const r=e&&Qx[e];if(r)for(const n of r)try{n(t)}catch(t){z_&&Z_.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${Xw(n)}\nError:`,t)}}const tT=H_;let rT;function nT(e){const t="history";Jx(t,e),Kx(t,iT)}function iT(){if(!function(){const e=Zx.chrome,t=e&&e.app&&e.app.runtime,r="history"in Zx&&!!Zx.history.pushState&&!!Zx.history.replaceState;return!t&&r}())return;const e=tT.onpopstate;function t(e){return function(...t){const r=t.length>2?t[2]:void 0;if(r){const e=rT,t=String(r);rT=t,eT("history",{from:e,to:t})}return e.apply(this,t)}}tT.onpopstate=function(...t){const r=tT.location.href,n=rT;if(rT=r,eT("history",{from:n,to:r}),e)try{return e.apply(this,t)}catch(e){}},mw(tT.history,"pushState",t),mw(tT.history,"replaceState",t)}const oT=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function aT(e,t=!1){const{host:r,path:n,pass:i,port:o,projectId:a,protocol:s,publicKey:c}=e;return`${s}://${c}${t&&i?`:${i}`:""}@${r}${o?`:${o}`:""}/${n?`${n}/`:n}${a}`}function sT(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function cT(e,t=[]){return[e,t]}function uT(e,t){const[r,n]=e;return[r,[...n,t]]}function lT(e,t){const r=e[1];for(const e of r)if(t(e,e[0].type))return!0;return!1}function dT(e,t){return(t||new TextEncoder).encode(e)}function hT(e,t){const[r,n]=e;let i=JSON.stringify(r);function o(e){"string"==typeof i?i="string"==typeof e?i+e:[dT(i,t),e]:i.push("string"==typeof e?dT(e,t):e)}for(const e of n){const[t,r]=e;if(o(`\n${JSON.stringify(t)}\n`),"string"==typeof r||r instanceof Uint8Array)o(r);else{let e;try{e=JSON.stringify(r)}catch(t){e=JSON.stringify(Jw(r))}o(e)}}return"string"==typeof i?i:function(e){const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}(i)}function pT(e,t){const r="string"==typeof e.data?dT(e.data,t):e.data;return[Tw({type:"attachment",length:r.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),r]}const fT={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"statsd"};function gT(e){return fT[e]}function mT(e){if(!e||!e.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}class vT extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}const yT="Not capturing exception because it's already been captured.";class bT{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=function(e){const t="string"==typeof e?function(e){const t=oT.exec(e);if(!t)return void q_((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[r,n,i="",o,a="",s]=t.slice(1);let c="",u=s;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const e=u.match(/^\d+/);e&&(u=e[0])}return sT({host:o,pass:i,path:c,projectId:u,port:a,protocol:r,publicKey:n})}(e):sT(e);if(t&&function(e){if(!z_)return!0;const{port:t,projectId:r,protocol:n}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(Z_.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(r.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(n)?t&&isNaN(parseInt(t,10))&&(Z_.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(Z_.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),1):(Z_.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),1)))}(t))return t}(e.dsn):jw&&Z_.warn("No DSN provided, client will not send events."),this._dsn){const t=function(e,t={}){const r="string"==typeof t?t:t.tunnel,n="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return r||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return r={sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(r).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(r[e])}`)).join("&");var r}(e,n)}`}(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,r){if(Nw(e))return void(jw&&Z_.log(yT));let n=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,r))).then((e=>{n=e}))),n}captureMessage(e,t,r,n){let i=r&&r.event_id;const o=rw(e)?e:String(e),a=nw(e)?this.eventFromMessage(o,t,r):this.eventFromException(e,r);return this._process(a.then((e=>this._captureEvent(e,r,n))).then((e=>{i=e}))),i}captureEvent(e,t,r){if(t&&t.originalException&&Nw(t.originalException))return void(jw&&Z_.log(yT));let n=t&&t.event_id;const i=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,i||r).then((e=>{n=e}))),n}captureSession(e){"string"!=typeof e.release?jw&&Z_.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),$w(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((r=>t.flush(e).then((e=>r&&e))))):Cw(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return jw&&Z_.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const t=this._integrations[e.name];Dx(this,e,this._integrations),t||Cx(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let r=function(e,t,r,n){const i=mT(r),o=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,r&&r.sdk);const a=function(e,t,r,n){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!r&&n&&{dsn:aT(n)},...i&&{trace:Tw({...i})}}}(e,i,n,t);return delete e.sdkProcessingMetadata,cT(a,[[{type:o},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])r=uT(r,pT(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const n=this._sendEnvelope(r);n&&n.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,r,n){const i=mT(r);return cT({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!n&&t&&{dsn:aT(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,r){if(this._options.sendClientReports){const r=`${e}:${t}`;jw&&Z_.log(`Adding outcome: "${r}"`),this._outcomes[r]=this._outcomes[r]+1||1}}captureAggregateMetrics(e){jw&&Z_.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const t=function(e,t,r,n){const i={sent_at:(new Date).toISOString()};r&&r.sdk&&(i.sdk={name:r.sdk.name,version:r.sdk.version}),n&&t&&(i.dsn=aT(t));const o=function(e){const t=function(e){let t="";for(const r of e){const e=Object.entries(r.tags),n=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${r.name}@${r.unit}:${r.metric}|${r.metricType}${n}|T${r.timestamp}\n`}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return cT(i,[o])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const r={};return t.forEach((t=>{t&&Dx(e,t,r)})),r}(this,e),Cx(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let r=!1,n=!1;const i=t.exception&&t.exception.values;if(i){n=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){r=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&r)&&($w(e,{...r&&{status:"crashed"},errors:e.errors||Number(n||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Lw((t=>{let r=0;const n=setInterval((()=>{0==this._numProcessing?(clearInterval(n),t(!0)):(r+=1,e&&r>=e&&(clearInterval(n),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,r,n=Ax()){const i=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),this.emit("preprocessEvent",e,t),function(e,t,r,n,i,o){const{normalizeDepth:a=3,normalizeMaxBreadth:s=1e3}=e,c={...t,event_id:t.event_id||r.event_id||Ew(),timestamp:t.timestamp||Fw()},u=r.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:r,release:n,dist:i,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?r:Hw),void 0===e.release&&void 0!==n&&(e.release=n),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=pw(e.message,o));const a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=pw(a.value,o));const s=e.request;s&&s.url&&(s.url=pw(s.url,o))}(c,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(c,u),void 0===t.type&&function(e,t){const r=H_._sentryDebugIds;if(!r)return;let n;const i=ix.get(t);i?n=i:(n=new Map,ix.set(t,n));const o=Object.keys(r).reduce(((e,i)=>{let o;const a=n.get(i);a?o=a:(o=t(i),n.set(i,o));for(let t=o.length-1;t>=0;t--){const n=o[t];if(n.filename){e[n.filename]=r[i];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=o[e.filename])}))}))}catch(e){}}(c,e.stackParser);const l=function(e,t){if(!t)return e;const r=e?e.clone():new _x;return r.update(t),r}(n,r.captureContext);r.mechanism&&Aw(c,r.mechanism);const d=i&&i.getEventProcessors?i.getEventProcessors():[],h=(bx||(bx=new _x),bx).getScopeData();o&&vx(h,o.getScopeData()),l&&vx(h,l.getScopeData());const p=[...r.attachments||[],...h.attachments];return p.length&&(r.attachments=p),mx(c,h),Uw([...d,...Rw(),...h.eventProcessors],c,r).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const r=e.debug_meta.images;Object.keys(t).forEach((e=>{r.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof a&&a>0?function(e,t,r){if(!e)return null;const n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:Jw(e.data,t,r)}})))},...e.user&&{user:Jw(e.user,t,r)},...e.contexts&&{contexts:Jw(e.contexts,t,r)},...e.extra&&{extra:Jw(e.extra,t,r)}};return e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=Jw(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map((e=>{const n=nx(e).data;return n&&(e.data=Jw(n,t,r)),e}))),n}(e,a,s):e)))}(i,e,t,r,this,n).then((e=>{if(null===e)return e;const t={...n.getPropagationContext(),...r?r.getPropagationContext():void 0};if((!e.contexts||!e.contexts.trace)&&t){const{traceId:n,spanId:i,parentSpanId:o,dsc:a}=t;e.contexts={trace:{trace_id:n,span_id:i,parent_span_id:o},...e.contexts};const s=a||fx(n,this,r);e.sdkProcessingMetadata={dynamicSamplingContext:s,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},r){return this._processEvent(e,t,r).then((e=>e.event_id),(e=>{if(jw){const t=e;"log"===t.logLevel?Z_.log(t.message):Z_.warn(t)}}))}_processEvent(e,t,r){const n=this.getOptions(),{sampleRate:i}=n,o=wT(e),a=_T(e),s=e.type||"error",c=`before send for type \`${s}\``;if(a&&"number"==typeof i&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),Dw(new vT(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const u="replay_event"===s?"replay":s,l=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,r,l).then((r=>{if(null===r)throw this.recordDroppedEvent("event_processor",u,e),new vT("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return r;const i=function(e,t,r){const{beforeSend:n,beforeSendTransaction:i}=e;return _T(t)&&n?n(t,r):wT(t)&&i?i(t,r):t}(n,r,t);return function(e,t){const r=`${t} must return \`null\` or a valid event.`;if(aw(e))return e.then((e=>{if(!iw(e)&&null!==e)throw new vT(r);return e}),(e=>{throw new vT(`${t} rejected with ${e}`)}));if(!iw(e)&&null!==e)throw new vT(r);return e}(i,c)})).then((n=>{if(null===n)throw this.recordDroppedEvent("before_send",u,e),new vT(`${c} returned \`null\`, will not send event.`,"log");const i=r&&r.getSession();!o&&i&&this._updateSessionFromEvent(i,n);const a=n.transaction_info;if(o&&a&&n.transaction!==e.transaction){const e="custom";n.transaction_info={...a,source:e}}return this.sendEvent(n,t),n})).then(null,(e=>{if(e instanceof vT)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new vT(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{jw&&Z_.error("Error while sending event:",e)}));jw&&Z_.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[r,n]=t.split(":");return{reason:r,category:n,quantity:e[t]}}))}}function _T(e){return void 0===e.type}function wT(e){return"transaction"===e.type}function xT(e,t){const r=ST(e,t),n={type:t&&t.name,value:IT(t)};return r.length&&(n.stacktrace={frames:r}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function TT(e,t){return{exception:{values:[xT(e,t)]}}}function ST(e,t){const r=t.stacktrace||t.stack||"",n=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(ET.test(e.message))return 1}return 0}(t);try{return e(r,n)}catch(e){}return[]}const ET=/Minified React error #\d+;/i;function IT(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function kT(e,t,r,n,i){let o;if(K_(t)&&t.error)return TT(e,t.error);if(ew(t)||J_(t,"DOMException")){const i=t;if("stack"in t)o=TT(e,t);else{const t=i.name||(ew(i)?"DOMError":"DOMException"),a=i.message?`${t}: ${i.message}`:t;o=MT(e,a,r,n),Mw(o,a)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}return X_(t)?TT(e,t):iw(t)||ow(t)?(o=function(e,t,r,n){const i=sx(),o=i&&i.getOptions().normalizeDepth,a={exception:{values:[{type:ow(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:AT(t,{isUnhandledRejection:n})}]},extra:{__serialized__:Kw(t,o)}};if(r){const t=ST(e,r);t.length&&(a.exception.values[0].stacktrace={frames:t})}return a}(e,t,r,i),Aw(o,{synthetic:!0}),o):(o=MT(e,t,r,n),Mw(o,`${t}`,void 0),Aw(o,{synthetic:!0}),o)}function MT(e,t,r,n){const i={};if(n&&r){const n=ST(e,r);n.length&&(i.exception={values:[{value:t,stacktrace:{frames:n}}]})}if(rw(t)){const{__sentry_template_string__:e,__sentry_template_values__:r}=t;return i.logentry={message:e,params:r},i}return i.message=t,i}function AT(e,{isUnhandledRejection:t}){const r=function(e,t=40){const r=Object.keys(_w(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return pw(r[0],t);for(let e=r.length;e>0;e--){const n=r.slice(0,e).join(", ");if(!(n.length>t))return e===r.length?n:pw(n,t)}return""}(e),n=t?"promise rejection":"exception";return K_(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:ow(e)?`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}const NT=H_;let OT=0;function jT(){return OT>0}function PT(e,t={},r){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if(bw(e))return e}catch(t){return e}const n=function(){const n=Array.prototype.slice.call(arguments);try{r&&"function"==typeof r&&r.apply(this,arguments);const i=n.map((e=>PT(e,t)));return e.apply(this,i)}catch(e){throw OT++,setTimeout((()=>{OT--})),function(...e){const t=Mx();if(2===e.length){const[r,n]=e;return r?t.withScope((()=>(t.getStackTop().scope=r,n(r)))):t.withScope(n)}t.withScope(e[0])}((r=>{var i;r.addEventProcessor((e=>(t.mechanism&&(Mw(e,void 0,void 0),Aw(e,t.mechanism)),e.extra={...e.extra,arguments:n},e))),i=e,Mx().captureException(i,void 0)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}catch(e){}yw(n,e),vw(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch(e){}return n}class CT extends bT{constructor(e){!function(e,t,r=[t],n="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:r.map((e=>({name:`${n}:@sentry/${e}`,version:xx}))),version:xx}),e._metadata=i}(e,"browser",["browser"],NT.SENTRY_SDK_SOURCE||"npm"),super(e),e.sendClientReports&&NT.document&&NT.document.addEventListener("visibilitychange",(()=>{"hidden"===NT.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,r,n){const i=kT(e,t,r&&r.syntheticException||void 0,n);return Aw(i),i.level="error",r&&r.event_id&&(i.event_id=r.event_id),Cw(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",r){return function(e,t,r="info",n,i){const o=MT(e,t,n&&n.syntheticException||void 0,i);return o.level=r,n&&n.event_id&&(o.event_id=n.event_id),Cw(o)}(this._options.stackParser,e,t,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return;const t=function(e,{metadata:t,tunnel:r,dsn:n}){const i={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!r&&!!n&&{dsn:aT(n)}},o=function(e){return[{type:"user_report"},e]}(e);return cT(i,[o])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,r)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return;if(!this._dsn)return;const t=(r=e,cT((n=this._options.tunnel&&aT(this._dsn))?{dsn:n}:{},[[{type:"client_report"},{timestamp:Fw(),discarded_events:r}]]));var r,n;this._sendEnvelope(t)}}function DT(){"console"in H_&&V_.forEach((function(e){e in H_.console&&mw(H_.console,e,(function(t){return Y_[e]=t,function(...t){eT("console",{args:t,level:e});const r=Y_[e];r&&r.apply(H_.console,t)}}))}))}const LT=H_,RT=1e3;let BT,UT,FT;function zT(){if(!LT.document)return;const e=eT.bind(null,"dom"),t=GT(e,!0);LT.document.addEventListener("click",t,!1),LT.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const r=LT[t]&&LT[t].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(mw(r,"addEventListener",(function(t){return function(r,n,i){if("click"===r||"keypress"==r)try{const n=this,o=n.__sentry_instrumentation_handlers__=n.__sentry_instrumentation_handlers__||{},a=o[r]=o[r]||{refCount:0};if(!a.handler){const n=GT(e);a.handler=n,t.call(this,r,n,i)}a.refCount++}catch(e){}return t.call(this,r,n,i)}})),mw(r,"removeEventListener",(function(e){return function(t,r,n){if("click"===t||"keypress"==t)try{const r=this,i=r.__sentry_instrumentation_handlers__||{},o=i[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,n),o.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete r.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,r,n)}})))}))}function GT(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;const n=function(e){try{return e.target}catch(e){return null}}(r);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(r.type,n))return;vw(r,"_sentryCaptured",!0),n&&!n._sentryId&&vw(n,"_sentryId",Ew());const i="keypress"===r.type?"input":r.type;(function(e){if(e.type!==UT)return!1;try{if(!e.target||e.target._sentryId!==FT)return!1}catch(e){}return!0})(r)||(e({event:r,name:i,global:t}),UT=r.type,FT=n?n._sentryId:void 0),clearTimeout(BT),BT=LT.setTimeout((()=>{FT=void 0,UT=void 0}),RT)}}const HT=H_,WT="__sentry_xhr_v3__";function $T(){if(!HT.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;mw(e,"open",(function(e){return function(...t){const r=Date.now(),n=tw(t[0])?t[0].toUpperCase():void 0,i=function(e){if(tw(e))return e;try{return e.toString()}catch(e){}}(t[1]);if(!n||!i)return e.apply(this,t);this[WT]={method:n,url:i,request_headers:{}},"POST"===n&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const e=this[WT];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}eT("xhr",{args:[n,i],endTimestamp:Date.now(),startTimestamp:r,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?mw(this,"onreadystatechange",(function(e){return function(...t){return o(),e.apply(this,t)}})):this.addEventListener("readystatechange",o),mw(this,"setRequestHeader",(function(e){return function(...t){const[r,n]=t,i=this[WT];return i&&tw(r)&&tw(n)&&(i.request_headers[r.toLowerCase()]=n),e.apply(this,t)}})),e.apply(this,t)}})),mw(e,"send",(function(e){return function(...t){const r=this[WT];return r?(void 0!==t[0]&&(r.body=t[0]),eT("xhr",{args:[r.method,r.url],startTimestamp:Date.now(),xhr:this}),e.apply(this,t)):e.apply(this,t)}}))}function VT(){(function(){if("string"==typeof EdgeRuntime)return!0;if(!Yx())return!1;if(qx(Vx.fetch))return!0;let e=!1;const t=Vx.document;if(t&&"function"==typeof t.createElement)try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=qx(r.contentWindow.fetch)),t.head.removeChild(r)}catch(e){z_&&Z_.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e})()&&mw(H_,"fetch",(function(e){return function(...t){const{method:r,url:n}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,r]=e;return{url:qT(t),method:YT(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:qT(t),method:YT(t,"method")?String(t.method).toUpperCase():"GET"}}(t),i={args:t,fetchData:{method:r,url:n},startTimestamp:Date.now()};return eT("fetch",{...i}),e.apply(H_,t).then((e=>(eT("fetch",{...i,endTimestamp:Date.now(),response:e}),e)),(e=>{throw eT("fetch",{...i,endTimestamp:Date.now(),error:e}),e}))}}))}function YT(e,t){return!!e&&"object"==typeof e&&!!e[t]}function qT(e){return"string"==typeof e?e:e?YT(e,"url")?e.url:e.toString?e.toString():"":""}const ZT=["fatal","error","warning","log","info","debug"];function QT(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}const XT="Breadcrumbs",JT=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:XT,setupOnce(){},setup(e){var r;t.console&&function(e){const t="console";Jx(t,e),Kx(t,DT)}(function(e){return function(t){if(sx()!==e)return;const r={category:"console",data:{arguments:t.args,logger:"console"},level:(n=t.level,"warn"===n?"warning":ZT.includes(n)?n:"log"),message:fw(t.args," ")};var n;if("assert"===t.level){if(!1!==t.args[0])return;r.message=`Assertion failed: ${fw(t.args.slice(1)," ")||"console.assert"}`,r.data.arguments=t.args.slice(1)}ax(r,{input:t.args,level:t.level})}}(e)),t.dom&&(r=function(e,t){return function(r){if(sx()!==e)return;let n,i,o="object"==typeof t?t.serializeAttribute:void 0,a="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;a&&a>1024&&(a=1024),"string"==typeof o&&(o=[o]);try{const e=r.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;n=dw(t,{keyAttrs:o,maxStringLength:a}),i=function(e){if(!uw.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}(t)}catch(e){n="<unknown>"}if(0===n.length)return;const s={category:`ui.${r.name}`,message:n};i&&(s.data={"ui.component_name":i}),ax(s,{event:r.event,name:r.name,global:r.global})}}(e,t.dom),Jx("dom",r),Kx("dom",zT)),t.xhr&&function(e){Jx("xhr",e),Kx("xhr",$T)}(function(e){return function(t){if(sx()!==e)return;const{startTimestamp:r,endTimestamp:n}=t,i=t.xhr[WT];if(!r||!n||!i)return;const{method:o,url:a,status_code:s,body:c}=i;ax({category:"xhr",data:{method:o,url:a,status_code:s},type:"http"},{xhr:t.xhr,input:c,startTimestamp:r,endTimestamp:n})}}(e)),t.fetch&&function(e){const t="fetch";Jx(t,e),Kx(t,VT)}(function(e){return function(t){if(sx()!==e)return;const{startTimestamp:r,endTimestamp:n}=t;if(n&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error)ax({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:r,endTimestamp:n});else{const e=t.response;ax({category:"fetch",data:{...t.fetchData,status_code:e&&e.status},type:"http"},{input:t.args,response:e,startTimestamp:r,endTimestamp:n})}}}(e)),t.history&&nT(function(e){return function(t){if(sx()!==e)return;let r=t.from,n=t.to;const i=QT(NT.location.href);let o=r?QT(r):void 0;const a=QT(n);o&&o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(n=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),ax({category:"navigation",data:{from:r,to:n}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function(e){return function(t){sx()===e&&ax({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:kw(t)},{event:t})}}(e))}}};Lx(XT,JT);const KT="Dedupe",eS=()=>{let e;return{name:KT,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){return!(!t||!function(e,t){const r=e.message,n=t.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!rS(e,t)||!tS(e,t))}(e,t)&&!function(e,t){const r=nS(t),n=nS(e);return!!(r&&n&&r.type===n.type&&r.value===n.value&&rS(e,t)&&tS(e,t))}(e,t))}(t,e))return null}catch(e){}return e=t}}};function tS(e,t){let r=iS(e),n=iS(t);if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;if(n.length!==r.length)return!1;for(let e=0;e<n.length;e++){const t=n[e],i=r[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function rS(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return!(r.join("")!==n.join(""))}catch(e){return!1}}function nS(e){return e.exception&&e.exception.values&&e.exception.values[0]}function iS(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}Lx(KT,eS);let oS=null;function aS(){oS=H_.onerror,H_.onerror=function(e,t,r,n,i){return eT("error",{column:n,error:i,line:r,msg:e,url:t}),!(!oS||oS.__SENTRY_LOADER__)&&oS.apply(this,arguments)},H_.onerror.__SENTRY_INSTRUMENTED__=!0}let sS=null;function cS(){sS=H_.onunhandledrejection,H_.onunhandledrejection=function(e){return eT("unhandledrejection",e),!(sS&&!sS.__SENTRY_LOADER__)||sS.apply(this,arguments)},H_.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const uS="GlobalHandlers",lS=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:uS,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&function(e){!function(){const t="error";Jx(t,(t=>{const{stackParser:r,attachStacktrace:n}=hS();if(sx()!==e||jT())return;const{msg:i,url:o,line:a,column:s,error:c}=t,u=void 0===c&&tw(i)?function(e,t,r,n){let i=K_(e)?e.message:e,o="Error";const a=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return a&&(o=a[1],i=a[2]),dS({exception:{values:[{type:o,value:i}]}},t,r,n)}(i,o,a,s):dS(kT(r,c||i,void 0,n,!1),o,a,s);u.level="error",ox(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})),Kx(t,aS)}()}(e),t.onunhandledrejection&&function(e){!function(){const t="unhandledrejection";Jx(t,(t=>{const{stackParser:r,attachStacktrace:n}=hS();if(sx()!==e||jT())return;const i=function(e){if(nw(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(e){}return e}(t),o=nw(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:kT(r,i,void 0,n,!0);o.level="error",ox(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})),Kx(t,cS)}()}(e)}}};function dS(e,t,r,n){const i=e.exception=e.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},c=s.frames=s.frames||[],u=isNaN(parseInt(n,10))?void 0:n,l=isNaN(parseInt(r,10))?void 0:r,d=tw(t)&&t.length>0?t:function(){try{return uw.document.location.href}catch(e){return""}}();return 0===c.length&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:l}),e}function hS(){const e=sx();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}Lx(uS,lS);const pS="HttpContext",fS=()=>({name:pS,setupOnce(){},preprocessEvent(e){if(!NT.navigator&&!NT.location&&!NT.document)return;const t=e.request&&e.request.url||NT.location&&NT.location.href,{referrer:r}=NT.document||{},{userAgent:n}=NT.navigator||{},i={...e.request&&e.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},o={...e.request,...t&&{url:t},headers:i};e.request=o}});function gS(e,t,r=250,n,i,o,a){if(!(o.exception&&o.exception.values&&a&&sw(a.originalException,Error)))return;const s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;var c,u;s&&(o.exception.values=(c=mS(e,t,i,a.originalException,n,o.exception.values,s,0),u=r,c.map((e=>(e.value&&(e.value=pw(e.value,u)),e)))))}function mS(e,t,r,n,i,o,a,s){if(o.length>=r+1)return o;let c=[...o];if(sw(n[i],Error)){vS(a,s);const o=e(t,n[i]),u=c.length;yS(o,i,u,s),c=mS(e,t,r,n[i],i,[o,...c],o,u)}return Array.isArray(n.errors)&&n.errors.forEach(((n,o)=>{if(sw(n,Error)){vS(a,s);const u=e(t,n),l=c.length;yS(u,`errors[${o}]`,l,s),c=mS(e,t,r,n,i,[u,...c],u,l)}})),c}function vS(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function yS(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}Lx(pS,fS);const bS="LinkedErrors",_S=(e={})=>{const t=e.limit||5,r=e.key||"cause";return{name:bS,setupOnce(){},preprocessEvent(e,n,i){const o=i.getOptions();gS(xT,o.stackParser,o.maxValueLength,r,t,e,n)}}},wS=(Lx(bS,_S),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"]),xS="TryCatch",TS=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:xS,setupOnce(){t.setTimeout&&mw(NT,"setTimeout",SS),t.setInterval&&mw(NT,"setInterval",SS),t.requestAnimationFrame&&mw(NT,"requestAnimationFrame",ES),t.XMLHttpRequest&&"XMLHttpRequest"in NT&&mw(XMLHttpRequest.prototype,"send",IS);const e=t.eventTarget;e&&(Array.isArray(e)?e:wS).forEach(kS)}}};function SS(e){return function(...t){const r=t[0];return t[0]=PT(r,{mechanism:{data:{function:Xw(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function ES(e){return function(t){return e.apply(this,[PT(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Xw(e)},handled:!1,type:"instrument"}})])}}function IS(e){return function(...t){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in r&&"function"==typeof r[e]&&mw(r,e,(function(t){const r={mechanism:{data:{function:e,handler:Xw(t)},handled:!1,type:"instrument"}},n=bw(t);return n&&(r.mechanism.data.handler=Xw(n)),PT(t,r)}))})),e.apply(this,t)}}function kS(e){const t=NT,r=t[e]&&t[e].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(mw(r,"addEventListener",(function(t){return function(r,n,i){try{"function"==typeof n.handleEvent&&(n.handleEvent=PT(n.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Xw(n),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[r,PT(n,{mechanism:{data:{function:"addEventListener",handler:Xw(n),target:e},handled:!1,type:"instrument"}}),i])}})),mw(r,"removeEventListener",(function(e){return function(t,r,n){const i=r;try{const r=i&&i.__sentry_wrapped__;r&&e.call(this,t,r,n)}catch(e){}return e.call(this,t,i,n)}})))}Lx(xS,TS);const MS="?";function AS(e,t,r,n){const i={filename:e,function:t,in_app:!0};return void 0!==r&&(i.lineno=r),void 0!==n&&(i.colno=n),i}const NS=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,OS=/\((\S*)(?::(\d+))(?::(\d+))\)/,jS=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,PS=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,CS=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,DS=Zw([30,e=>{const t=NS.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=OS.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,r]=LS(t[1]||MS,t[2]);return AS(r,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=jS.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=PS.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],r=t[1]||MS;return[r,e]=LS(r,e),AS(e,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=CS.exec(e);return t?AS(t[2],t[1]||MS,+t[3],t[4]?+t[4]:void 0):void 0}]),LS=(e,t)=>{const r=-1!==e.indexOf("safari-extension"),n=-1!==e.indexOf("safari-web-extension");return r||n?[-1!==e.indexOf("@")?e.split("@")[0]:MS,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},RS=6e4,BS=30;function US(e,t,r=function(e){const t=[];function r(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(n){if(!(void 0===e||t.length<e))return Dw(new vT("Not adding Promise because buffer limit was reached."));const i=n();return-1===t.indexOf(i)&&t.push(i),i.then((()=>r(i))).then(null,(()=>r(i).then(null,(()=>{})))),i},drain:function(e){return new Lw(((r,n)=>{let i=t.length;if(!i)return r(!0);const o=setTimeout((()=>{e&&e>0&&r(!1)}),e);t.forEach((e=>{Cw(e).then((()=>{--i||(clearTimeout(o),r(!0))}),n)}))}))}}}(e.bufferSize||BS)){let n={};function i(i){const o=[];if(lT(i,((t,r)=>{const i=gT(r);if(function(e,t,r=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>r}(n,i)){const n=FS(t,r);e.recordDroppedEvent("ratelimit_backoff",i,n)}else o.push(t)})),0===o.length)return Cw();const a=cT(i[0],o),s=t=>{lT(a,((r,n)=>{const i=FS(r,n);e.recordDroppedEvent(t,gT(n),i)}))};return r.add((()=>t({body:hT(a,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&jw&&Z_.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),n=function(e,{statusCode:t,headers:r},n=Date.now()){const i={...e},o=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(o)for(const e of o.trim().split(",")){const[t,r]=e.split(":",2),o=parseInt(t,10),a=1e3*(isNaN(o)?60:o);if(r)for(const e of r.split(";"))i[e]=n+a;else i.all=n+a}else a?i.all=n+function(e,t=Date.now()){const r=parseInt(`${e}`,10);if(!isNaN(r))return 1e3*r;const n=Date.parse(`${e}`);return isNaN(n)?RS:n-t}(a,n):429===t&&(i.all=n+6e4);return i}(n,e),e)),(e=>{throw s("network_error"),e})))).then((e=>e),(e=>{if(e instanceof vT)return jw&&Z_.error("Skipped sending event because buffer is full."),s("queue_overflow"),Cw();throw e}))}return i.__sentry__baseTransport__=!0,{send:i,flush:e=>r.drain(e)}}function FS(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}let zS;function GS(e,t=function(){if(zS)return zS;if(qx(NT.fetch))return zS=NT.fetch.bind(NT);const e=NT.document;let t=NT.fetch;if(e&&"function"==typeof e.createElement)try{const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r);const n=r.contentWindow;n&&n.fetch&&(t=n.fetch),e.head.removeChild(r)}catch(e){}return zS=t.bind(NT)}()){let r=0,n=0;return US(e,(function(i){const o=i.body.length;r+=o,n++;const a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};try{return t(e.url,a).then((e=>(r-=o,n--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return zS=void 0,r-=o,n--,Dw(e)}}))}function HS(e){return US(e,(function(t){return new Lw(((r,n)=>{const i=new XMLHttpRequest;i.onerror=n,i.onreadystatechange=()=>{4===i.readyState&&r({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&i.setRequestHeader(t,e.headers[t]);i.send(t.body)}))}))}const WS=[Fx(),$x(),TS(),JT(),lS(),_S(),eS(),fS()];var $S={};function VS(e){try{window.parent.postMessage(e,"*")}catch(e){}}function YS(e,t){var{sessionId:r,embedType:n,metrics:i,isRobot:o,embedTrackingQuery:a,publicApiIdentifier:s,fullscreenFallbackArgs:c}=t,u={documentPath:e.documentPath,initialPageNumber:e.initialPageNumber,embedConfig:{embedType:n,isEmbed:!0,autoFlip:!!e.autoFlip,viewMode:"singlePage"===e.pageLayout?"SINGLE_PAGE_SPREAD":"DOUBLE_PAGE_SPREAD",shareButtonEnabled:!!e.enableShare,proSidebarEnabled:!!e.enableSeeMore,backgroundColor:e.bgColor,fullscreenBackgroundColor:e.fullscreenBgColor,logo:e.fullscreenLogo,backgroundImage:e.fullscreenBgImage,backgroundTile:!!e.fullscreenBgImageTile,backgroundStretch:!!e.fullscreenBgImageStretch,themeMainColor:e.themeMainColor,themeSecondaryColor:e.themeSecondaryColor},features:{isBrandingLineHidden:!e.enablePoweredByIssuu}},l=document.getElementById("app");if(!l)throw new Error("unexpected missing markup");var d=Ui(),h=function(){var e=document.cookie.split(/\s*;\s*/).reduce(((e,t)=>{var[r,n]=decodeURIComponent(t).split(/\s*=\s*/,2);return e[r]=n,e}),{}),t=new URL(window.location.href).searchParams,r=[];for(var n of t.entries())"experiment"===n[0]&&r.push(n[1]);return function(e,t){var r=function(){var e;try{e=new URL(window.parent.location.href)}catch(t){e=new URL(window.location.href)}return(e.searchParams.get("experiment")||"").split(",")}();return function(e,t,r){if(!e||!t.length)return[];var n=parseInt(e.slice(0,8),16)%100,i=[];return t.forEach((e=>{if(r){var t=e.flags.find((e=>r.includes(e.name)));if(t)return void i.push(t.name)}var o=function(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return Math.abs(t)}(e.name)%100;e.flags.forEach((e=>{if(0!==e.share){var t=(o+e.share)%100;(o<t&&n>=o&&n<t||t<=o&&(n<t||n>=o))&&i.push(e.name),o=t}}))})),i}(e,t,r)}(e.iutk,Li).concat(r)}(),p=function(e){var t,r,{origins:n,documentPath:i,metrics:o,isRobot:a=!1}=e;function s(){t=async function(e){try{return await e()}catch(t){return await new Promise((e=>setTimeout(e,2e3))),await e()}}((()=>function(e,t){return Bd(((e,t)=>"user"===t.type?`${e}/${t.username.toLowerCase()}/${t.documentName.toLowerCase()}/reader3_4.json`:`${e}/d/${t.publicationId}/reader3_4.json`)(e,t)).then((e=>{var{status:r,document:n}=e;if(0!==r||!n)throw new Ld(Rd.DocumentNotLoad,r);return{documentPath:t,...n}}))}(n.reader3,i))),r=a?Promise.resolve(Ud(i)):function(e,t,r){var n=((e,t)=>`${e}/call/reader/dynamic${"user"===t.type?`/${t.username}/${t.documentName}`:`-v2/${t.publicationId}`}`)(e,t),i=Date.now(),o=()=>Math.round(Date.now()-i);return Bd(n,{timeout:5e3}).then((e=>(r.monitor("reader3-dynamicapi-stats",{success:1,success_time:o(),attributes:{readerConfig:r.readerEndpoint}}),e))).catch((()=>(r.monitor("reader3-dynamicapi-stats",{failure:1,failure_time:o(),attributes:{readerConfig:r.readerEndpoint}}),{metadata:{},licenses:null,visitorType:null}))).then((e=>{var{metadata:r={},licenses:n,visitorType:i}=e;return{...Ud(t),licenses:n,...r,visitorType:i}}))}(n.main,i,o)}return s(),{reset:function(){s()},whenDocumentBaseFetched:function(){return t.then((e=>({pageCount:e.pages.length,pages:e.pages.map(((e,t)=>{var{height:r,width:n,layersInfo:i,imageUri:o,isPagePaywalled:a,dominantColor:s=null}=e;return{pageNumber:t+1,height:r,width:n,layersInfo:i,imageUri:o,isPagePaywalled:a,dominantColor:s}})),isPaywalled:e.isPaywallPreview,originalPublishDate:e.originalPublishDate,publicationId:e.publicationId,revisionId:e.revisionId})))},whenDocumentExtraFetched:function(){return Promise.all([t,r]).then((e=>{var[t,r]=e;return{access:r.access,contentRating:r.contentRating,description:r.description,documentPath:i,downloadable:r.downloadable,gated:r.gated,isDocumentLiked:r.isDocumentLiked,isLeadGenEnabled:r.isLeadGenEnabled,isLeadGenSkippable:r.isLeadGenSkippable,likesCount:r.likesCount||0,ownerId:r.ownerId,ownerType:r.ownerType,publicationId:t.publicationId,publisherProfileUrl:r.publisherProfileUrl,revisionId:t.revisionId,title:r.title,userDisplayName:r.userDisplayName,userId:r.userId,visitorType:r.visitorType}}))},whenDocumentTextFetched:function(){return t.then((e=>{var{textInfo:t}=e;return{textInfoPath:t.uri,textInfoSize:t.size,textInfoVersion:t.version}}))},whenDocumentLinksFetched:function(){return a?Promise.resolve({}):function(e,t,r){var n=`${e}/call/reader/links${"user"===t.type?`/${t.username}/${t.documentName}`:`-v2/${t.publicationId}`}`,i=Date.now(),o=()=>Math.round(Date.now()-i);return Bd(n,{timeout:5e3}).then((e=>(r.monitor("reader3.links_api",{success:1,success_time:o(),attributes:{readerConfig:r.readerEndpoint}}),e))).catch((()=>(r.monitor("reader3.links_api",{failure:1,failure_time:o(),attributes:{readerConfig:r.readerEndpoint}}),{})))}(n.api,i,o)},whenLicensesFetched:function(){return r.then((e=>{var{licenses:t}=e;if(!t)throw new Error(Rd.LicensingNotLoaded);return{customization_disable_share:!!t?.customization_disable_share,customization_remove_link_below:!!t?.customization_remove_link_below,customization_set_bg_color:!!t?.customization_set_bg_color,customization_set_bg_image:!!t?.customization_set_bg_image,customization_set_logo:!!t?.customization_set_logo,customization_show_my_other_publications:!!t?.customization_show_my_other_publications,download:!!t?.download,embed:!!t?.embed,hide_ads_in_reader:!!t?.hide_ads_in_reader,inpub_ads:!!t?.inpub_ads,norelated:!!t?.norelated,reader_themes:!!t?.reader_themes,remove_issuu_logo:!!t?.remove_issuu_logo}}))},whenSmartnavFetched:function(){return t.then((e=>{var{smartzoomUri:t}=e;return t?async function(e){var t,r,n=await fetch(e);if(!n.ok){if(403===n.status)throw new po(`Assets missing for ${e}`);throw new fo(`Invalid response for ${e}`)}try{return t=await n.arrayBuffer(),r=io.Asset.decode(new Uint8Array(t)),(e=>{function t(e){var t=e.blockType,r=e.boundingBox;return"image"===t?{type:"image",boundingBox:r}:"text"===t?{type:"text",fontSize:e[t].fontSize,boundingBox:r}:{type:"unknown",boundingBox:r}}return e.map((function(e){var{pageNumber:r,width:n,height:i,blocks:o}=e;return{pageNumber:r,width:n,height:i,blocks:o.map(t)}}))})(io.Asset.toObject(r,{enums:String,longs:Number,oneofs:!0,defaults:!0}).pages)}catch(e){throw e instanceof Error?new go(e.message):e}}(`https://${t}`):Promise.resolve([])}))}}}({origins:d,documentPath:u.documentPath,metrics:i,isRobot:!1,experiments:h});o?function(e,t,r){_i().render((0,X.jsx)(F_,{documentPath:r.documentPath,initialPageNumber:r.initialPageNumber,mainOrigin:Bi()}),e)}(l,i.embedId,u):function(e,t){var{metrics:r,publicApiIdentifier:n,sessionId:i,embedTrackingQuery:o,rootElement:a,fullscreenFallbackArgs:s,connector:c,experiments:u}=t,l=e.embedConfig.backgroundColor;l||!r.embedId||r.embedId.startsWith("0/")||(l="rgba(0, 0, 0, 0.1)");var d=null;if(e.embedConfig.backgroundImage){var h=null;e.embedConfig.backgroundStretch?h="STRETCH":e.embedConfig.backgroundTile||(h="TOP_LEFT"),h&&(d={url:e.embedConfig.backgroundImage,style:h,hideWhenNotInFullscreen:!0})}var p=null;e.embedConfig.logo&&(p={url:e.embedConfig.logo,hideWhenNotInFullscreen:!0});var f,g,m=Ui(),v=function(e){var{metrics:t,network:r,trackerConfig:n,gaTracker:i,quantcastTracker:o,features:a,connector:s,experiments:c,visitSource:u}=e,l=window.innerWidth,d=window.innerHeight,h={dpr:Qp(),canvasWidth:l,canvasHeight:d,containerWidth:l,containerHeight:d},p=function(){try{var e=um(document.createElement("canvas"));return!!e&&(function(e){[].push(function(e){var t=e.getExtension("OES_standard_derivatives");if(!t)throw new Error("does not support extension ");return t}(e));var t=e.createProgram();if(!t)throw new Error("Couldn't create program");var r=B_(e,"\nprecision highp float;\nattribute vec2 vertex;\nvarying vec3 v[8];\nvoid main(void) {\n    v[0] = vec3(0); // Maximum varying vector count exceeded\n    v[1] = vec3(1); // Maximum varying vector count exceeded\n    v[2] = vec3(2); // Maximum varying vector count exceeded\n    v[3] = vec3(3); // Maximum varying vector count exceeded\n    v[4] = vec3(4); // Maximum varying vector count exceeded\n    v[5] = vec3(5); // Maximum varying vector count exceeded\n    v[6] = vec3(6); // Maximum varying vector count exceeded\n    v[7] = vec3(7); // Maximum varying vector count exceeded\n\n    vec2 p = 2.0 * vertex - 1.0;\n    gl_Position = vec4(p.x, -p.y, 0.0, 1.0);\n}\n",e.VERTEX_SHADER),n=B_(e,"\n#extension GL_OES_standard_derivatives : require\nprecision highp float;\nvarying vec3 v[8];\nvoid main(void) {\n    vec3 d = smoothstep(0.0, v[3].x, dFdx(vec3(v[1])) * fwidth(v[2])); // Undeclared identifier 'dFdx'\n    if (gl_FrontFacing) { // This hardware is unable to support gl_FrontFacing\n        gl_FragColor = vec4(1, d.x, 0, 1);\n    } else {\n        gl_FragColor = vec4(0, d.x, 1, 1);\n    }\n}\n",e.FRAGMENT_SHADER);if(e.attachShader(t,r),e.attachShader(t,n),e.linkProgram(t),!e.getProgramParameter(t,e.LINK_STATUS))throw new Error(`Cannot link shaderprogram: ${e.getProgramInfoLog(t)}`);var i=e.getAttribLocation(t,"vertex");e.enableVertexAttribArray(i);var o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),e.STATIC_DRAW),e.vertexAttribPointer(t.vertex,2,e.FLOAT,!1,0,0);var a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,R_,R_,0,e.RGBA,e.UNSIGNED_BYTE,null);var s=e.createFramebuffer();if(e.bindFramebuffer(e.FRAMEBUFFER,s),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0),e.viewport(0,0,R_,R_),e.useProgram(t),e.drawArrays(e.TRIANGLE_STRIP,0,4),!U_(e,255,0,0,255))throw new Error("did not render correct color (frontfacing)");if(e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,1,1,0]),e.STATIC_DRAW),e.drawArrays(e.TRIANGLE_STRIP,0,4),!U_(e,0,0,255,255))throw new Error("did not render correct color (backfacing)");e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteFramebuffer(s),e.deleteTexture(a),e.deleteBuffer(o),e.detachShader(t,r),e.deleteShader(r),e.detachShader(t,n),e.deleteShader(n),e.deleteProgram(t)}(e),!0)}catch(e){return!1}}(),f="ontouchstart"in window||window.navigator.maxTouchPoints>0,g=Boolean(navigator.clipboard),m={isClipboardAvailable:g,isTouch:f,isWebGLSupported:p};t.monitor("reader3.opened",{webgl:p?1:0,no_webgl:p?0:1,clipboard:g?1:0,no_clipboard:g?0:1,touch:f?1:0,no_touch:f?0:1,attributes:{readerConfig:t.readerEndpoint}});var v,y,b=e.document?e.document.embedId:null,_=new D_(t),w=(v=Tn,y={ON_DOCUMENT_LOAD_EVENT:Yb,ON_PAGE_CHANGE_EVENT:Yb,ON_INTERACTED_EVENT:Yb,ON_LINK_CLICKED:Yb},{middleware:e=>t=>r=>{var n=t(r),i=e.getState();try{switch(r.type){case Eu:var o=Os(i);y.ON_DOCUMENT_LOAD_EVENT(o);break;case da:if(r.currentPagesHasChanged){var{currentPageNumbers:a}=r;y.ON_PAGE_CHANGE_EVENT(a)}break;case vu:y.ON_LINK_CLICKED(r.linkModel);break;case Xc:y.ON_INTERACTED_EVENT()}}catch(e){v(e)}return n},api:e=>({toggleFullscreen:()=>{e.dispatch(Tl())},showFindDialog:()=>{e.dispatch(Ec())},getPageNumbers:()=>Os(e.getState()),getPageCount:()=>qa(e.getState()),setPageNumber:t=>{e.dispatch(function(e){return function(t,r){return t(iu(rs(Ps(r()),e)))}}(t))},goToPreviousPage:()=>{e.dispatch(ou())},goToNextPage:()=>{e.dispatch(au())},getTitle:()=>Ya(e.getState()).title,setCallback:(e,t)=>{y.hasOwnProperty(e)&&(y[e]=t)}})}),x=new Ul(t),T=[t_({featureTracker:x,metrics:t}),Di,Jb,Kb(t),e_(t),()=>e=>t=>{var r=e(t);return t.type===Xc&&window.Cookiebot&&!window.Cookiebot.hasResponse&&window.Cookiebot.regulations&&!window.Cookiebot.regulations.gdprApplies&&window.CookiebotDialog&&"implied"===window.CookiebotDialog.consentLevel&&window.CookiebotDialog.submitConsent(!0,document.location.href),r},u_(t),o_,w.middleware];if(o){var S=new L_(o);T.push(function(e,t){return r=>n=>i=>{var o=n(i),a=r.getState();try{switch(i.type){case Eu:e.onDocumentLoaded(i.currentPageNumbers);break;case da:a.reader.isReady&&i.currentPagesHasChanged&&e.onPageChanged(i.currentPageNumbers)}}catch(e){e instanceof Error&&t(e)}return o}}(S,Tn))}if(i){var E=new C_(i);T.push(function(e,t){return r=>n=>i=>{var o=n(i),a=r.getState();try{switch(i.type){case Eu:var s=Js(a);e.onDocumentLoaded(s,i.pageNumber,i.currentPageNumbers);break;case da:a.reader.isReady&&i.currentPagesHasChanged&&e.onPageChanged(i.currentPageNumbers)}}catch(e){e instanceof Error&&t(e)}return o}}(E,Tn))}var I=(e.document?e.document.initialPageNumber:1)||1,k=Ai(function(e,t,r,n,i,o,a,s,c,u,l,d){var h,p,f=function(e,t){return void 0===e&&(e=g_),f_(e,t,m_)},g=function(e,t){return void 0===t&&(t=1),function(r,n){return void 0===r&&(r=P_(e,t)),function(e,t){switch(t.type){case Kc:return function(e,t){return{...e,targetSpreadIndex:t.index}}(e,t);case eu:return function(e,t){return{...e,currentPageNumber:t.pageNumber}}(e,t);case tu:return function(e,t){return{...e,interactingWithControls:t.val}}(e,t);case ru:return function(e){return{...e,interactedWithReader:!0}}(e);case Wp:return function(e){return{...e,targetSpreadIndex:-1}}(e);case da:return j_(function(e,t){return{...e,visiblePageNumbers:t.visiblePageNumbers,currentPageNumbers:t.currentPageNumbers,currentSpreadIndex:t.currentSpreadIndex,currentPageNumber:t.currentPageNumber,positionInPercent:t.positionInPercent,targetSpreadIndex:t.currentSpreadIndex===e.targetSpreadIndex?-1:e.targetSpreadIndex}}(e,t),{hasPageChanged:!!t.currentPagesHasChanged});case nu:return j_(function(e,t){return{...e,zoomLevel:t.zoomLevel}}(e,t));case"EMBED_PREVIEW":return function(e){return{...e,interactedWithReader:!1}}(e);case Eu:return function(e,t){var{pageNumber:r,targetSpreadIndex:n,currentPageNumbers:i}=t;return{...e,targetSpreadIndex:n,currentPageNumbers:i,currentPageNumber:r,isReady:!0}}(e,t);case"SET_IS_IDLE":return function(e,t){return{...e,isIdle:t.isIdle}}(e,t);case"SET_IS_ACTIVE":return function(e){return{...e,isActivated:!0}}(e);case"SET_SMARTZOOM_TUTORIAL_VISIBILITY":return function(e,t){return{...e,smartzoomTutorialVisibility:t}}(e,t.visibility);case"@reader3/find/FIND_OPEN_DIALOG":return j_(e);default:return e}}(r,n)}}(a,o),m=function(e,t){return void 0===e&&(e=N_),function(e,t){switch(t.type){case Su:return{status:"loading-status@LOADING",loadStartTime:t.timeStamp};case Eu:if("loading-status@LOADING"!==e.status)throw new Error(`Can not return SUCCESS without LOADING (${e.status})`);return{status:"loading-status@SUCCESS",loadStartTime:e.loadStartTime};case Iu:if("loading-status@LOADING"!==e.status)throw new Error(`Can not return FAILED without LOADING (${e.status})`);return{status:"loading-status@FAILED",loadStartTime:e.loadStartTime,error:t.error};default:return e}}(e,t)},v=function(e){return function(t,r){return void 0===t&&(t=e),function(e,t){if("EMBED_PREVIEW"===t.type){var r=t.embedConfig;return{...e,branding:{...e.branding,isBrandingLineHidden:!r.showIssuuBranding},autoFlip:r.autoFlip,hideFullScreenButton:!!r.hideFullScreenButton,logo:A_(r),readModeRules:{defaultMode:"singlePage"===r.viewMode?"SINGLE_PAGE_SPREAD":"DOUBLE_PAGE_SPREAD",responsiveModeWhen:"HANDHELD_IN_PORTRAIT_IN_FULLSCREEN"},shareDialog:{...e.shareDialog,customizedToNotShow:!r.shareButtonEnabled},themeBackgroundColor:r.backgroundColor,themeBackgroundColorFullscreen:r.fullscreenBackgroundColor,themeBackgroundImage:M_(r),themeMainColor:r.themeMainColor,themeSecondaryColor:r.themeSecondaryColor}}return e}(t,r)}}(a),y=function(e,t){switch(void 0===e&&(e=wl),t.type){case bl:return{...e,enabled:t.fullscreenMethod===ll};case _l:return{...e,enabled:!1};default:return e}},b=function(e,t){return void 0===e&&(e=T_),t.type===Eu?{...e,isReadyForLoading:!0}:e},_=(h=u.isWebGLSupported,function(e,t){switch(void 0===e&&(e=jg(h)),t.type){case Sg:return{...e,supportsWebGL:!1};case Eg:return{...e,forceTo2D:!1};case Ig:return{...e,forceTo2D:!0};case kg:return{...e,maxDrawingBufferWidth:t.width};case Mg:return{...e,maxDrawingBufferHeight:t.height};default:return e}}),w=(e,t)=>{switch(t.type){case Hp:case Wp:return{...e,...t.data};default:return e}},x=function(e,t){return void 0===e&&(e=wg),t.type===bg?{...e,...t.api}:e},T=function(e,t){switch(void 0===e&&(e=Tc),t.type){case gc:return{...e,isVisible:!0};case vc:return{...e,textInfoUrl:t.url,version:t.version};case yc:return{...e,textInfo:lc};case bc:return{...e,textInfo:dc};case _c:return{...e,textInfo:t.textInfo};case wc:return{...e,results:t.results,currentResultIdx:t.currentResultIdx};case mc:return{...e,currentResultIdx:t.idx};case xc:return{...e,latestQuery:t.value};case da:if(e.results&&null!==e.currentResultIdx){var r=t.currentPageNumbers,n=e.results[e.currentResultIdx];if(n&&!r.includes(n.pageNo)){var i=e.results.findIndex((e=>r.includes(e.pageNo)));if(i>=0)return{...e,currentResultIdx:i}}}return e;default:return e}},S=(void 0===(p=a.disableLicenseCheck)&&(p=!1),function(e,t){if(void 0===e&&(e=Ga(p)),!t)return e;switch(t.type){case Fa:return{...e,status:Ta,licenses:t.licenses};case za:return{...e,status:Sa};default:return e}}),E=function(e,t,r,n){return function(i){return void 0===i&&(i=wa(e,t,r,n)),i}}(t,r,n,i),I=function(e,t){switch(void 0===e&&(e=b_),t.type){case Bm:return{...e,youtubeApiReady:!0};case Um:return{...e,activeVideoLink:t.videoLink};default:return e}},k=function(e,t){return void 0===e&&(e=h_),f_(e,t,p_)},M={backdrop:g_,canvasApi:wg,canvasContext:jg(u.isWebGLSupported),config:wa(t,r,n,i),controls:h_,download:v_,env:u,experiments:c,featureTracker:s,features:a,find:Tc,flatPlan:Pu,fullscreen:wl,inlineVideo:b_,lastPage:Gl,leadGen:n_,licenses:Ga(a.disableLicenseCheck),like:mv,links:bu,loading:N_,metadata:Wa,orion:__,pages:S_,paywall:w_,readMore:T_,reader:P_(a,o),size:d,smartnav:xu,stacks:I_,videoOverlay:fu,visibility:xd,visitSource:l},A=e?d_()(M,e):M;return function(e,t){if(t.type.startsWith("SET_STATE"))return t.state;var r=e||A;return{backdrop:f(r.backdrop,t),canvasApi:x(r.canvasApi,t),canvasContext:_(r.canvasContext,t),config:E(r.config),controls:k(r.controls,t),download:y_(r.download,t),env:u,experiments:c,featureTracker:s,features:v(r.features,t),find:T(r.find,t),flatPlan:ju(r.flatPlan,t),fullscreen:y(r.fullscreen,t),inlineVideo:I(r.inlineVideo,t),lastPage:Hl(r.lastPage,t),leadGen:i_(r.leadGen,t),licenses:S(r.licenses,t),like:vv(r.like,t),links:_u(r.links,t),loading:m(r.loading,t),metadata:Ka(r.metadata,t),orion:r.orion,pages:E_(r.pages,t),paywall:x_(r.paywall,t),readMore:b(r.readMore,t),reader:g(r.reader,t),size:w(r.size,t),smartnav:Tu(r.smartnav,t),stacks:k_(r.stacks,t),videoOverlay:gu(r.videoOverlay,t),visibility:Td(r.visibility,t),visitSource:l}}}(e.preloadedState,r,n.sessionId,n.embedTrackingQuery,b,I,a,x,c||[],m,u,h),ji(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error(Ei(15))},i={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return n=ji.apply(void 0,o)(r.dispatch),Si(Si({},r),{},{dispatch:n})}}}(...T))),M=(0,X.jsx)(Wr,{userIds:{},children:(0,X.jsx)(Xr,{userId:void 0,children:(0,X.jsx)(Nn,{store:k,children:(0,X.jsx)(Vb,{documentConnector:s,experiments:c||[],loadStatsTracker:_,metrics:t})})})}),A=w.api(k);return window.ISSUU_READER_STORE=k,window.ISSUU_READER_OBJECT=M,window.ISSUU_READER_EXTERNAL_API=A,{reader:M,api:A,store:k}}({document:{initialPageNumber:e.initialPageNumber,embedId:r.embedId},connector:c,network:{origins:m},features:{downloadRegular:!0,shareDialog:{customizedToNotShow:!e.embedConfig.shareButtonEnabled},branding:{openInNewTab:!0,isBrandingLineHidden:e.features.isBrandingLineHidden,hasBrandingLine:!0},fullscreen:{kind:"NORMAL",overlayOnSmallReaders:!0,showButtons:"ALWAYS",fullscreenFallbackArgs:s},autoFlip:e.embedConfig.autoFlip,canUseCredentials:!1,links:{allowOnSmallReaders:!1},logo:p,recommendations:{type:e.embedConfig.proSidebarEnabled?"OWN_DOCUMENTS":"RELATED_FOR_FREE_PUBLISHERS"},disableLicenseCheck:!1,showControlsUntilFirstInteraction:!0,requireEmbedLicense:!0,readModeRules:{defaultMode:e.embedConfig.viewMode,responsiveModeWhen:"HANDHELD_IN_PORTRAIT_IN_FULLSCREEN"},themeBackgroundColor:l,themeBackgroundColorFullscreen:e.embedConfig.fullscreenBackgroundColor,themeBackgroundImage:d,themeMainColor:e.embedConfig.themeMainColor,themeSecondaryColor:e.embedConfig.themeSecondaryColor},trackerConfig:{sessionId:i,embedTrackingQuery:o},metrics:r,quantcastTracker:new Fi({quantcastId:U}),experiments:u,visitSource:{readerEndpoint:r.readerEndpoint}});_i().render(v.reader,a),f=v.api,g=n,window.addEventListener("message",(e=>{var t=e.data.type;if("issuu.setPageNumber"===t){var r=parseInt(e.data.pageNumber,10);r>=1&&r<=f.getPageCount()&&f.setPageNumber(r)}else"issuu.goToPreviousPage"===t?f.goToPreviousPage():"issuu.goToNextPage"===t?f.goToNextPage():"issuu.goToFirstPage"===t?f.setPageNumber(1):"issuu.goToLastPage"===t&&f.setPageNumber(f.getPageCount())}),!1),f.setCallback("ON_DOCUMENT_LOAD_EVENT",(()=>{VS({type:"issuu.documentLoaded",pageCount:f.getPageCount(),pageNumbers:f.getPageNumbers(),title:f.getTitle(),identifier:g})})),f.setCallback("ON_PAGE_CHANGE_EVENT",(()=>{VS({type:"issuu.pageChanged",pageNumbers:f.getPageNumbers(),identifier:g})})),f.setCallback("ON_LINK_CLICKED",(e=>{VS({type:"issuu.linkClicked",identifier:g,linkModel:e})}))}(u,{metrics:i,publicApiIdentifier:s,sessionId:r,embedTrackingQuery:a,rootElement:l,fullscreenFallbackArgs:c,connector:p,experiments:h})}var qS=document.getElementById("initial-data"),ZS=JSON.parse(qS&&qS.getAttribute("data-json")||"");ZS.config&&function(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=[...WS]),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),NT.SENTRY_RELEASE&&NT.SENTRY_RELEASE.id&&(e.release=NT.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(r=e.stackParser||DS,Array.isArray(r)?Zw(...r):r),integrations:Px(e),transport:e.transport||(Yx()?GS:HS)};var r;(function(e,t){!0===t.debug&&(jw?Z_.enable():q_((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}))),cx().update(t.initialScope);const r=new e(t);!function(e){const t=Mx().getStackTop();t.client=e,t.scope.setClient(e)}(r),function(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}(r)})(CT,t),e.autoSessionTracking&&void 0!==NT.document&&(ux({ignoreDuration:!0}),hx(),nT((({from:e,to:t})=>{void 0!==e&&e!==t&&(ux({ignoreDuration:!0}),hx())})))}({...(e=>{var{dsn:t,environment:r,isDeployed:n,release:i}=e;return{dsn:t,environment:r,release:i,sampleRate:n?.5:1,beforeSend(e,t){if(n){var r=(e.exception?.values||[])[0]?.stacktrace?.frames||[],i=r[0]?.filename;if("<anonymous>"===i)return null;var o=t?.originalException,a="string"==typeof o?o:o instanceof Error?o.message:"unknown error";if(Object.values(Rd).includes(a))return console.warn("[Sentry] Ignored error",a),null;var s=r[r.length-1]?.filename;return s?.startsWith("https://consent.cookiebot.com/")&&(a.includes("postMessage")||a.includes("iframeReady"))?null:a in $S?(console.error("[Sentry] Rate limiting activated for",a),null):($S[a]=!0,setTimeout((()=>{delete $S[a]}),6e4),e)}return null}}})(ZS.config.sentry),allowUrls:[P,"www.googletagmanager.com","consent.cookiebot.com","cdnjs.cloudflare.com"]});var QS=new class{constructor(e){var t=new URL(e);if(this._uri=void 0,t.hostname.endsWith("issuu.com")?this._uri=t:t.hostname.endsWith("googleusercontent.com")?t.searchParams.forEach((e=>{try{var t=new URL(e);t.hostname.endsWith("issuu.com")&&(this._uri=t)}catch(e){}})):t.hostname.endsWith("fastly-terrarium.com")&&(this._uri=t),!this._uri)throw new Error("Unexpected query parameters")}getQueryParamValue=e=>this._uri?.searchParams.get(e)||"";getAutoFlip=()=>"true"===this.getQueryParamValue(qi.autoFlip);getEnablePoweredByIssuu=()=>{var e=this.getQueryParamValue(qi.hideIssuuLogo);return!e||"true"!==e};getEnableSeeMore=()=>{var e=this.getQueryParamValue(qi.enableSeeMore);if(e)return"false"!==e};getEnableShare=()=>{var e=this.getQueryParamValue(qi.hideShare);return!e||"true"!==e};getFullscreenBgColor=()=>Wi(this.getQueryParamValue(qi.fullscreenBackgroundColor));getFullscreenBgImage=()=>this.getQueryParamValue(qi.fullscreenBackgroundImage)||void 0;getFullscreenImageStretch=()=>"stretch"===this.getQueryParamValue(qi.fullscreenBackgroundPosition);getFullScreenLogo=()=>this.getQueryParamValue(qi.fullscreenLogo)||void 0;getPageLayout=()=>"singlePage"===this.getQueryParamValue(qi.layout)?"singlePage":"doublePage";getUsername=()=>this.getQueryParamValue("u");getDocumentName=()=>this.getQueryParamValue("d");getHideFullScreenButton=()=>"1"===this.getQueryParamValue("hfsb");getInitialPageNumber=()=>parseInt(this.getQueryParamValue("p"),10)||parseInt(this.getQueryParamValue("pageNumber"),10)||1;getDocumentId=()=>this.getQueryParamValue(qi.documentId);getBackgroundColor=()=>Wi(this.getQueryParamValue(qi.backgroundColor));getThemeMainColor=()=>Wi(this.getQueryParamValue(qi.themeMainColor));getThemeSecondaryColor=()=>Wi(this.getQueryParamValue(qi.themeSecondaryColor));getLegacyViewMode=()=>/^presentation|singlePage$/i.test(this.getQueryParamValue(qi.legacyViewMode))?"SINGLE_PAGE":"DOUBLE_PAGE";getAdpageId=()=>this.getQueryParamValue(qi.adId);getPublicationId=()=>this.getQueryParamValue(qi.publicationId);getIdentifier=()=>this.getQueryParamValue(qi.identifier);getEmbedType=()=>"script"===this.getQueryParamValue("embedType")?"script":"iframe";getHostUrl=()=>document.referrer;getHostReferrer=()=>this.getQueryParamValue("r")||null;getLatestHostUrl=()=>{try{return window.parent.document.location.toString()}catch(e){return null}};getStreamOrigin=()=>{var e=this.getQueryParamValue(qi.streamOrigin);if(!e)return null;var t=e.split(";");return t.length<3?null:t};getStreamRanking=()=>parseInt(this.getQueryParamValue(qi.streamRanking),10)||0;getEmbedId=()=>{var e=this._uri?.hash||"",t=/^#([0-9]+)(?:\/|%2F)([0-9]+).*$/;return t.test(e)?e.replace(t,"$1/$2"):null};extractFullscreenFallbackArgs(){var e=[qi.enableSeeMore,qi.hideShare,qi.fullscreenBackgroundColor,qi.fullscreenBackgroundImage,qi.fullscreenBackgroundPosition,qi.fullscreenLogo,qi.layout].map((e=>this._uri&&this._uri.searchParams.has(e)?`${e}=${encodeURIComponent(this.getQueryParamValue(e))}`:null)).filter(Boolean);if(this._uri&&this._uri.searchParams.has(qi.legacyViewMode)&&!this._uri.searchParams.has(qi.layout)){var t="SINGLE_PAGE"===this.getLegacyViewMode()?"singlePage":"doublePage";e.unshift(`${qi.layout}=${t}`)}var r=this.getEmbedId();return"string"==typeof r&&e.unshift(`e=${r}`),e.join("&")}getDocumentPath=()=>{var e=this.getPublicationId(),t=this.getUsername(),r=this.getDocumentName();return e?{type:"pub_id",publicationId:e}:t&&r?{type:"user",username:t,documentName:r}:null}}(document.location.toString()),XS=QS.getHostUrl(),JS=QS.getHostReferrer(),KS=QS.getEmbedType(),eE=QS.getEmbedId(),tE=Hi(window.navigator.userAgent),rE=Qi(XS,tE),nE=QS.getIdentifier(),iE=function(){for(var e="",t=0;t<12;t++)e+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));return e}(),oE=new class{metricsEvent=()=>{};_isTrackerReady=!1;_interactedWithReader=!1;_previousPages=[];_previousZoom=1;_pico=void 0;pendingPicoEvents=[];constructor(e){this.metricsEvent=function(e){var{location:t,referrer:r,monitorEventsOnly:n,readerEndpoint:i,pingbackOrigin:o,source:a}=e,s=`reader3-v2.0.0_${i}-v1.0.0`,c={pingbackOrigin:o,monitorEventsOnly:n,width:window.innerWidth,height:window.innerHeight,username:Z(),location:t,referrer:r,source:a,origin:s,language:"en",readerEndpoint:i},u=new q(c);return e=>{u.onEvent(e)}}(e),this.streamData=e.streamData||{origin:null,ranking:null},this.isEmbed=e.isEmbed,this.adpageId=e.adpageId,this.readerEndpoint=e.readerEndpoint,this.embedId=e.embedId}setPico(e){this._pico=e,this.pendingPicoEvents.forEach((t=>{e.trackUserAction(t)})),this.pendingPicoEvents=[]}monitor(e,t,r){void 0===r&&(r=!1),this.metricsEvent({type:r?"MONITOR_MESSAGE":"MONITOR_BATCHED_MESSAGE",data:{type:e,...t}})}website(e){this.metricsEvent({type:"SEND_WEBSITE_METRICS",data:e})}onDocumentLoaded(e,t,r,n,i){var{publicationId:o,revisionId:s,documentPath:c,ownerId:u,userId:l}=e;this._previousPages=r,this._isTrackerReady=!0,this.metricsEvent({type:"DOCUMENT_LOAD_MESSAGE",data:{isEmbed:this.isEmbed,isFullscreen:n,revisionId:s,publicationId:o,documentPath:c,pages:r,pageNumber:r[0],embedId:this.embedId,adpageId:this.adpageId,streamOrigin:this.streamData.origin,streamRanking:this.streamData.ranking,isReaderGated:i}}),this.metricsEvent({type:"MONITOR_TRAFFIC_SOURCE"}),this.callPicoAction(a.documentLoaded({publicationId:o,revisionId:s,creatorUserId:l,creatorOwnerId:u,readerEndpoint:this.readerEndpoint,url:t,isDocumentGated:i(),referrerUrl:this.getDocumentPageReferrerUrl()}))}onActivity(e){this._isTrackerReady&&e&&!this._interactedWithReader&&(this._interactedWithReader=!0,this.metricsEvent({type:"USER_INTERACTED_MESSAGE"}),this.callPicoAction(a.interactionHappened({readerEndpoint:this.readerEndpoint})))}onPageChanged(e){this._isTrackerReady&&(this._previousPages.join()!==e.join()&&(this._previousPages=e,this.metricsEvent({type:"PAGE_CHANGE_MESSAGE",data:{pages:e}})),this.callPicoAction(a.pageChanged({readerEndpoint:this.readerEndpoint})))}onZoom(e){this._isTrackerReady&&this._previousZoom!==e&&(this._previousZoom=e,this.metricsEvent({type:"ZOOM_MESSAGE"}))}onResize(e,t){this._isTrackerReady&&this.metricsEvent({type:"RESIZE_MESSAGE",data:{displaySize:e,isFullscreen:t}})}onDownload(e){var{revisionId:t,publicationId:r,documentPath:n}=e;this.metricsEvent({type:"SEND_WEBSITE_METRICS",data:{type:"document_download",doc_id:`${t}-${r}`,doc_creator:"user"===n.type?n.username:"",doc_name:"user"===n.type?n.documentName:""}})}onClippingActionGotoPage(e,t,r){this._isTrackerReady&&this.metricsEvent({type:"CLIPPING_ACTION_MESSAGE",data:{type:"clipping_action",clippingId:e,action:"gotoPage",on_page:t,page:r,creator:"publisher"}})}onClippingActionOpenUrl(e,t,r){this._isTrackerReady&&this.metricsEvent({type:"CLIPPING_ACTION_MESSAGE",data:{type:"clipping_action",clippingId:e,action:"openUrl",on_page:t,creator:"publisher",url:r}})}onFrameDrop(e){this.metricsEvent({type:"MONITOR_DROPPED_FRAMES",data:{dropped:Math.round(e.droppedFrames),dropped_per_sec:Math.round(Math.min(e.droppedFrames/e.duration*1e3,e.droppedFrames)),duration_in_ms:Math.round(e.duration),webgl:e.webgl}})}onLeadGenerationFormDisplayed(e,t,r,n){this.callPicoAction(a.leadGenerationFormDisplayed({publicationId:e,creatorUserId:r,creatorOwnerId:t,isMandatory:n}))}onLeadGenerationFormSubmitted(e,t,r,n,i){this.callPicoAction(a.leadGenerationFormSubmitted({publicationId:e,creatorUserId:r,creatorOwnerId:t,email:n,name:i}))}onLeadGenerationFormDismissed(e,t,r){this.callPicoAction(a.leadGenerationFormDismissed({publicationId:e,creatorUserId:r,creatorOwnerId:t}))}callPicoAction(e){this._pico?this._pico.trackUserAction(e):this.pendingPicoEvents.push(e)}getDocumentPageReferrerUrl(){if("document-page"===this.readerEndpoint&&"undefined"!=typeof window)try{return window.parent.document.referrer}catch(e){return}}}({isEmbed:!0,embedId:eE,location:XS,referrer:JS,monitorEventsOnly:!1,readerEndpoint:`${KS}-${eE?"id-embed":"embed"}`,pingbackOrigin:Ri(),source:"external"});function aE(e){var t=document.getElementById("app");t&&_i().render((0,X.jsx)(Gd,{embedId:oE.embedId,error:e,sessionId:iE}),t)}if(eE)window.fetch(`${O}${P}/config/${eE.split("/")[1]}.json`).then((e=>{if(!e.ok)throw new Error(`${e.status} ${e.statusText}`);return e.json()})).then((e=>{if(!e.ownerUsername||!e.documentURI)throw new Error(`Invalid embedId: ${eE}`);1!==QS.getInitialPageNumber()&&(e.initialPageNumber=QS.getInitialPageNumber()),YS({...e,documentPath:{type:"user",username:e.ownerUsername,documentName:e.documentURI},themeMainColor:"",themeSecondaryColor:""},{sessionId:iE,embedType:KS,metrics:oE,isRobot:tE,embedTrackingQuery:rE,publicApiIdentifier:nE,fullscreenFallbackArgs:QS.extractFullscreenFallbackArgs()})})).catch((e=>{aE(e)}));else{var sE=QS.getDocumentPath();sE?YS({autoFlip:QS.getAutoFlip(),bgColor:QS.getBackgroundColor(),documentPath:sE,enablePoweredByIssuu:QS.getEnablePoweredByIssuu(),enableSeeMore:QS.getEnableSeeMore()||!1,enableShare:QS.getEnableShare(),fullscreenBgColor:QS.getFullscreenBgColor(),fullscreenBgImage:QS.getFullscreenBgImage(),fullscreenBgImageStretch:QS.getFullscreenImageStretch(),fullscreenBgImageTile:!1,fullscreenLogo:QS.getFullScreenLogo(),initialPageNumber:QS.getInitialPageNumber(),pageLayout:QS.getPageLayout(),themeMainColor:QS.getThemeMainColor(),themeSecondaryColor:QS.getThemeSecondaryColor()},{sessionId:iE,embedType:KS,metrics:oE,isRobot:tE,embedTrackingQuery:rE,publicApiIdentifier:nE,fullscreenFallbackArgs:QS.extractFullscreenFallbackArgs()}):aE(new Error("Invalid embedId"))}})()})();
//# sourceMappingURL=embed.js.map