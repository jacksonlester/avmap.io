define("gallery",["module","page","utils","bem","byocarousel","tag"],function(e,t,o,i,u,E){const n={name:e.id,class:"."+e.id};o.broadcast(n.name,"loaded"),o.createModuleNoJQ(n.name,function(s){const r=this,a=new i(s,n.name);this.module=n;let d=!(this.init=function(){r.broadcast("init"),a.selectElements("more").currentEl[0].addEventListener("click",function(){a.selectElements("description").currentEl[0].style.height=a.selectElements("description-text").currentEl[0].scrollHeight+"px",a.selectElements("more").currentEl[0].setAttribute("disabled",""),a.selectElements("close").currentEl[0].removeAttribute("disabled")}),a.selectElements("close").currentEl[0].addEventListener("click",function(){c()});{const i=a.selectElements("slides").currentEl[0],n=a.selectElementsWithModifier("arrow","type","next").currentEl[0],l=a.selectElementsWithModifier("arrow","type","previous").currentEl[0],t=(e,t)=>{e?l.setAttribute("disabled","disabled"):l.removeAttribute("disabled"),t?n.setAttribute("disabled","disabled"):n.removeAttribute("disabled")};i.addEventListener("initialPosition",e=>{t(e.detail.xAtStart,e.detail.xAtEnd)}),i.addEventListener("move",e=>{t(e.detail.xAtStart,e.detail.xAtEnd)}),i.addEventListener("init",e=>{const t=e.detail;a.selectElements("slides").setModifier("active",!0);e=parseInt(s.dataset.initialSlide)+1;t.slide=e,a.selectElements("current-slide-number").currentEl[0].textContent=e,n.addEventListener("click",()=>{t.nextPage()}),l.addEventListener("click",()=>{t.prevPage()}),i.addEventListener("visibilityChange",e=>{e=e.detail;e.visible&&e.index!==t.slide&&(c(),a.selectElements("current-slide-number").currentEl[0].textContent=e.index,a.selectElements("description-text-inner").currentEl[0].textContent=e.el.dataset.caption,a.selectElements("credit").currentEl[0].textContent=e.el.dataset.credit,45<a.selectElements("description-text").currentEl[0].scrollHeight?a.selectElements("more").currentEl[0].removeAttribute("disabled"):a.selectElements("more").currentEl[0].setAttribute("disabled",""),t.setSlide(e))}),i.addEventListener("change",e=>{var t={event:"click_gallery",event_name_ga4:"click_gallery",event_category_ga4:"gallery",event_label_ga4:"arrow",asset_id:s.dataset.id,content_categories:s.dataset.categories,content_title:s.dataset.title,content_type:"gallery",item_number:e.detail.new.index,section:s.dataset.section,subsection:s.dataset.subsection,topic:s.dataset.topic,subtopic:s.dataset.subtopic,cct_story:s.dataset.isCct,tracking_tags:s.dataset.trackingTags,page_url:window.location.href},i=o.clone(t);i.item_number=e.detail.old.index,d||(E.fire("ga4",i),r.broadcast("firstSlideChange",{slide:e.detail.old.index}),d=!0),E.fire("ga4",t),r.broadcast("slideChanged",{slide:e.detail.new.index})})}),new u(i)}});function c(){a.selectElements("description").currentEl[0].style.height="45px",a.selectElements("more").currentEl[0].removeAttribute("disabled"),a.selectElements("close").currentEl[0].setAttribute("disabled","")}})});
//# sourceMappingURL=gallery_9.14.14.js.map