define("modal",["module","page","utils","jquery"],function(e,t,d,r){const n={name:e.id,class:"."+e.id};d.broadcast(n.name,"loaded");var o={};return d.createModule(n.name,function(e){const a=this;this.$el=e,this.module=n,this.init=function(){a.broadcast("init"),a.getElements("close-button").on("click",function(e){t()}),a.broadcast("ready")};let l=null,s=!0;const t=()=>{o(),s&&a.broadcast("modalClosed"),"function"==typeof l&&l(),i(200)},i=e=>{l=null,s=!0;const t=a.getElements("content")[0],o=()=>{for(;t.firstChild;)t.removeChild(t.lastChild)};e&&0<e?window.setTimeout(()=>{o()},e):o()},c=()=>{a.broadcast("showing"),a.getBlock().setModifier("open","true")},o=()=>{a.getBlock().setModifier("open","false")};this.close=t,this.create=(e,t,o=!0)=>{if(a.broadcast("creating",{template:e}),i(),l=t,s=o,e)if("TEMPLATE"===e.tagName){t=e.content.cloneNode(!0);const n=a.getElements("content")[0];n.append(t),a.broadcast("showing",{el:t}),c(),window.setTimeout(()=>{let t=[];n.querySelectorAll("[data-module]").forEach(e=>{e=e.dataset.module;t.push(e)}),require(t,()=>{d.broadcast("grid","addedSection",{$el:r(n),el:r(n)[0]})})},500)}else a.getElements("content").append(e),c()}},e=>{o={create:e.create,close:e.close},window.modal=o}),o});
//# sourceMappingURL=modal_9.14.14.js.map